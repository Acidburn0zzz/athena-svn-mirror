
#
# This makefile is automatically generated by imake... do not modify
# or you may lose your changes when imake generates makefiles again.
# Ignore this message if you are not using imake.
#
#	$Source: /afs/dev.mit.edu/source/repository/third/cns/src/man/Makefile,v $
#	$Author: ghudson $
#	$Header: /afs/dev.mit.edu/source/repository/third/cns/src/man/Makefile,v 1.1.1.1 1996-09-06 00:47:44 ghudson Exp $
#

NEWTOP=../.
BUILDTOP=../.

DEPEND=$(BUILDTOP)/util/makedepend/makedepend

IMAKE=$(BUILDTOP)/util/imake/imake -I$(BUILDTOP)/util/imake.includes

INCLUDE= -I$(BUILDTOP)/include
CFLAGS=$(DBG) $(INCLUDE) $(DEFINES) $(GLOBAL_CDEFS)
LINTFLAGS=$(INCLUDE) $(DEFINES) $(GLOBAL_CDEFS)

#	$Source: /afs/dev.mit.edu/source/repository/third/cns/src/man/Makefile,v $
#	$Author: ghudson $
#	$Header: /afs/dev.mit.edu/source/repository/third/cns/src/man/Makefile,v 1.1.1.1 1996-09-06 00:47:44 ghudson Exp $
#

GLOBAL_CDEFS= -DATHENA_COMPAT -DATHENA -DKERBEROS -DVFS $(NOENCFLAG) $(DBMFLAG)

SRCTOP=/mit/kerberos/src

DESTDIR=

SVRDIR= /usr/etc
ATHENADIR=/usr/athena
LIBDIR= /usr/athena/lib
LINTLIBDIR = /usr/lib/lint
BINDIR= /usr/bin
UCBDIR= /usr/ucb
ETCDIR= /etc
DAEMDIR= /usr/etc
SLASHBINDIR= /bin
INCLDIR= /usr/include
MANDIR= /usr/man

KRB_LIB=$(BUILDTOP)/lib/krb/libkrb.a
KRB_LIBDEP=$(KRB_LIB)
KRB_LINTLIB=$(BUILDTOP)/lib/krb/llib-lkrb.ln
KRB_ADM=$(BUILDTOP)/lib/kadm/libkadm.a
KRB_ADMDEP=$(KRB_ADM)

NOENCFLAG=
DES_LIB=$(BUILDTOP)/lib/des/libdes.a
DES_LIBDEP=$(DES_LIB)
DES_LINTLIB=$(BUILDTOP)/lib/des/llib-ldes.ln

DBMFLAG=-DNDBM
KDB_LIB=$(BUILDTOP)/lib/kdb/libkdb.a
KDB_LIBDEP=$(KDB_LIB)

COM_ERR=-lcom_err

COM_ERR_DEP=

ARCHIVE= ar cru

RANLIB= ranlib

COMPILE_ET= compile_et

INSTALLFILE= install -m 444

INSTALLLIB= install -m 444

INSTALLPROG= install -m 555

INSTALLRAW= install

INSTALLSUID= install -m 4555 -o root

LD=ld

AS=as

LINT=lint

CC=cc

CCRO=cc -R

HCC=$(CC)

CPP=$(CC) -E

DBG=-O

DEFINES=-DBSD42

HCFLAGS=$(CFLAGS)

TAGGER=etags

MAKE=make
RM=rm -f
MV=mv
CP=cp
LN=ln -s
LPR=lpr -p
CHMOD=chmod

DEF_UID = 113

#	$Source: /afs/dev.mit.edu/source/repository/third/cns/src/man/Makefile,v $
#	$Author: ghudson $
#	$Header: /afs/dev.mit.edu/source/repository/third/cns/src/man/Makefile,v 1.1.1.1 1996-09-06 00:47:44 ghudson Exp $
#

# $Source: /afs/dev.mit.edu/source/repository/third/cns/src/man/Makefile,v $
# $Author: ghudson $
# $Header: /afs/dev.mit.edu/source/repository/third/cns/src/man/Makefile,v 1.1.1.1 1996-09-06 00:47:44 ghudson Exp $
#
# Copyright 1987, 1988 by the Massachusetts Institute of Technology.
#
# For copying and distribution information,
# please see the file <mit-copyright.h>.
#
# Imakefile for manual pages.
#

SRCDIR=${SRCTOP}/man
CODE=kerberos.1 klist.1 kdestroy.1 kinit.1 ksrvtgt.1 kpasswd.1 \
	kerberos.3 krb_sendauth.3 \
	des_crypt.3 kadmin.8 kerberos.point des.point Imakefile \
	rlogin.1 rsh.1 rcp.1 ksu.1 klogind.8 kshd.8

all::
install:: kerberos.1
	$(INSTALLFILE) kerberos.1 ${DESTDIR}${MANDIR}/man1/`basename kerberos.1`

all::
install:: klist.1
	$(INSTALLFILE) klist.1 ${DESTDIR}${MANDIR}/man1/`basename klist.1`

all::
install:: kdestroy.1
	$(INSTALLFILE) kdestroy.1 ${DESTDIR}${MANDIR}/man1/`basename kdestroy.1`

all::
install:: kinit.1
	$(INSTALLFILE) kinit.1 ${DESTDIR}${MANDIR}/man1/`basename kinit.1`

all::
install:: ksrvtgt.1
	$(INSTALLFILE) ksrvtgt.1 ${DESTDIR}${MANDIR}/man1/`basename ksrvtgt.1`

all::
install:: kpasswd.1
	$(INSTALLFILE) kpasswd.1 ${DESTDIR}${MANDIR}/man1/`basename kpasswd.1`

all::
install:: kerberos.3
	$(INSTALLFILE) kerberos.3 ${DESTDIR}${MANDIR}/man3/`basename kerberos.3`

all::
install:: des_crypt.3
	$(INSTALLFILE) des_crypt.3 ${DESTDIR}${MANDIR}/man3/`basename des_crypt.3`

all::
install:: krb_sendauth.3
	$(INSTALLFILE) krb_sendauth.3 ${DESTDIR}${MANDIR}/man3/`basename krb_sendauth.3`

all::
install:: kadmin.8
	$(INSTALLFILE) kadmin.8 ${DESTDIR}${MANDIR}/man8/`basename kadmin.8`

# Berkeley-derived man pages

all::
install:: rlogin.1
	$(INSTALLFILE) rlogin.1 ${DESTDIR}${MANDIR}/man1/`basename rlogin.1`

all::
install:: rsh.1
	$(INSTALLFILE) rsh.1 ${DESTDIR}${MANDIR}/man1/`basename rsh.1`

all::
install:: rcp.1
	$(INSTALLFILE) rcp.1 ${DESTDIR}${MANDIR}/man1/`basename rcp.1`

all::
install:: ksu.1
	$(INSTALLFILE) ksu.1 ${DESTDIR}${MANDIR}/man1/`basename ksu.1`

all::
install:: klogind.8
	$(INSTALLFILE) klogind.8 ${DESTDIR}${MANDIR}/man8/`basename klogind.8`

all::
install:: kshd.8
	$(INSTALLFILE) kshd.8 ${DESTDIR}${MANDIR}/man8/`basename kshd.8`

# Set up "pointers" to the section 3 manpages.

DES	= des_read_password \
	string_to_key \
	random_key \
	des_set_key \
	ecb_encrypt \
	cbc_encrypt \
	pcbc_encrypt \
	cbc_cksum \
	quad_cksum

install:: des.point
	for i in ${DES} ; do \
		${INSTALLFILE} des.point ${DESTDIR}${MANDIR}/man3/$$i.3; \
		done

KSEND	= \
	krb_recvauth \
	krb_net_write \
	krb_net_read

install:: ksend.point
	for i in ${KSEND} ; do \
		${INSTALLFILE} ksend.point ${DESTDIR}${MANDIR}/man3/$$i.3; \
		done

KRB	= \
	krb_mk_req \
	krb_rd_req \
	krb_kntoln \
	krb_set_key \
	krb_get_cred \
	krb_mk_priv \
	krb_rd_priv \
	krb_mk_safe \
	krb_rd_safe \
	krb_mk_err \
	krb_rd_err \
	krb_ck_repl

install:: kerberos.point
	for i in ${KRB} ; do \
		${INSTALLFILE} kerberos.point ${DESTDIR}${MANDIR}/man3/$$i.3; \
		done
	@echo "Don't forget to execute makewhatis"
	@echo "Also beware that older systems have man pages for"
	@echo "rsh.1c, rlogin.1c and rcp.1c which should be removed"

depend:: $(SRCS)
	@echo "### Now computing dependencies"
	@$(DEPEND) -s "# DO NOT DELETE" $(CFLAGS) $(SRCS)

clean::
	$(RM) *~ \#* *.bak $(TAGSFILE)

tags::
	$(TAGGER) *.c *.h

Makefile::
	-$(RM) Makefile.bak; $(MV) Makefile Makefile.bak
	$(IMAKE) -DNEW_TOP=$(NEWTOP) -s Makefile

print:: ${CODE}
	${LPR} ${CODE}

src:: ${CODE}

${CODE}:
	$(RM) $@
	-$(LN) ${SRCDIR}/$@ $@

install::

Makefiles::

# DO NOT DELETE THIS LINE

