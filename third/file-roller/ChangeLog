2005-02-14  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.8.4 released ]

2004-10-20  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.8.3 released ]

	* src/fr-archive.c (fr_archive_extract, compute_base_path): 

	Fixed extraction without folders recreation.

2004-10-11  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.8.2 released ] 

2004-09-28  Christopher Aillon  <caillon@cvs.gnome.org>

	* file-roller.desktop.in: use %F in Exec to avoid opening
	remote files in nautilus.

2004-09-29  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.8.1 released ] 

	* src/window.c (window_view_or_open_file): open the "open with"
	dialog if there is no registered command.

2004-09-25  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_close): 
	* src/window.h: empty store hack removed.

2004-09-24  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-utils.c (application_get_command): do not escape spaces
	here.

	* src/window.c (update_file_list_idle): restore the timeout
	correctly.
	(window_view_or_open_file): use the default application instead of
	the default action.
	(view_file): if we are here it's better to use the internal viewer.

	* src/file_roller.glade: 
	* src/dlg-batch-add.c (dlg_batch_add_files): make the WM give
	focus to the 'create archive' dialog.

2004-09-21  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (default_sort_func): return 0 instead of 1

	Fixes bug #151113  - crash trying to open zip file for extraction
	Patch by ed AT catmur.co.uk

2004-09-20  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_new, update_file_list_idle): 
	* src/window.h: Remove and restore the timeout each
	time.  See bugs #152347 and #151113.

2004-09-16  Kaushal Kumar  <kaushal.kumar@wipro.com>

	* src/window.c (get_file_list_from_url_list): Handle multiple 
	drag and drop correctly. Accept all valid urls and ignore the 
	invalid ones. Fixes bug #152900.

2004-09-13  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.8.0 released ] 

2004-08-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-add-folder.c (add_folder_cb): set 'include subfolders'
	active by default. 

2004-08-30  Paolo Bacchilega  <paobac@cvs.gnome.org>
	
	[ File Roller 2.7.5 released ] 
	
2004-08-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command.h (struct _FRCommand): s/uint/guint/

	Fixes bug #151427

2004-08-21  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (_window_history_add): Add locations visited using the 
	back button to the history list.

	Fixed bug #150672: Back button is broken

2004-08-20  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-archive.c (fr_archive_extract): 
	* src/window.c (window_open_files): 
	* src/fr-command-unstuff.c (fr_command_unstuff_list): 
	* src/file-utils.c (get_temp_work_dir_name, get_temp_work_dir): 

	Fixed bug #150329: File roller creates predictable /tmp directories

2004-08-17  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-extract.c (file_sel_response_cb): 
	* src/actions.c (new_file_response_cb, open_file_response_cb) 
	(save_file_response_cb, copy_or_move_archive_response_cb): 

	Check for GTK_RESPONSE_DELETE_EVENT

	* src/dlg-add-files.c: 
	* src/dlg-add-folder.c: Fixed bug #150327 and other issues.

2004-08-17  Subrahmanyam Madduri <smadduri@novell.com>

	* src/window.c: avoids crashing while DND of 'Home' icon into 
	file-roller.
	
	Fixes BUG #150328

2004-08-17  Mark McLoughlin  <mark@skynet.ie>

	* src/recent-files/egg-recent-item.c,
	  src/recent-files/egg-recent-view-gtk.c,
	  src/recent-files/egg-recent.h, sync with latest
	libegg.

2004-08-16  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "bs" to ALL_LINGUAS.

2004-08-16  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.7.4 released ] 

2004-08-07  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/recent-files/*: updated from libegg.

	* file-roller.desktop.in (MimeType): added other mime types.

2004-08-16  Gurban M. Tewekgeli  <gmtavakkoli@yahoo.com>

	* po/tk.po: Added Turkmen translation.
	* configure.in: Added "tk" to ALL_LINGUAS.

2004-08-16  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added nb to ALL_LINGUAS.

2004-08-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.7.3 released ] 

2004-07-22  Ross Golder  <ross@golder.org>

	* help/??/Makefile.in: Removed from CVS as it is autogenerated
	from Makefile.am by automake.

2004-07-20  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* file-roller.desktop.in (MimeType): added supported mime types

2004-07-19  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.7.2 released ] 

2004-07-18  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-tar.c (begin_tar_command): fixed 
	bug #144041: [Solaris] gtar will not be in path

	* src/window.c (open_progress_dialog): do no specify a parent 
	window in batch mode.
	(handle_errors): 
	Do not display the "operation stopped" dialog (bug #144171).

	* src/main.c (prepare_app): do not show the main window in batch 
	mode.

2004-07-05  Kaushal Kumar  <kaushal.kumar.wipro.com>

	* src/dlg-add-folder.c (file_sel_response_cb): Fixed a leak and the 
	display of the error message.  Fixes bug #145440.

2004-07-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.7.1 released ] 

2004-07-04  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file_roller.glade: Set the type-hint to utility for the add
	files dialog.

	* src/window.c (window_batch_mode_start): Hide the main window
	when in batch mode.
	(display_progress_dialog): Do no display the main window if in batch
	mode.

2004-06-23  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-iso.c (fr_command_iso_init): 
	* src/fr-command.h (struct _FRCommand): 
	* src/fr-command.c (fr_command_init): 
	* src/fr-archive.c (fr_archive_extract): allow isoinfo to extract
	all the files.

2004-06-16  Vinay M R  <vinay.mandyakoppal@wipro.com>

	* src/main.c: (save_session), (load_session): Make file-roller
	session aware even when no archive is opened. Fixes bug #144455.
	
2004-06-15  Bastien Nocera  <hadess@hadess.net>

	* src/fr-archive.c: (find_file_in_archive): avoid crashes if there
	are bugs in some extractor

2004-06-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c (activate_action_open): added a comma before 
	"application/x-cd-image". 

	Fixes bug #144079 (iso is not listed as a archive in open dialog)

2004-05-31  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.7.0 released ] 

2004-05-27  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* AUTHORS: 
	* src/actions.c (activate_action_about): updated email address

	* src/window.c (display_progress_dialog): call gtk_widget_present 
        on the main window before displaying the progress dialog.

	* src/fr-archive.c: 
	* src/actions.c: 
	* src/Makefile.am: 
	* component/File_Roller_Component.server.in.in: 
	* src/fr-command-iso.h:
	* src/fr-command-iso.c: 

	Added ISO images support, bug #142316

	Patch by Daniel Brodie (daniel@brodienet.com)
	
2004-05-19  Paolo Bacchilega  <paolo@localhost.localdomain>

	* src/window.c (window_batch_mode_start): do not hide the main 
	window in batch mode, this confuses the WM.

2004-05-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/actions.c:
	* src/actions.h:
	* src/ui.h:
	* src/recent-files/egg-recent-view-uimanager.c: 
	* src/recent-files/egg-recent-view-uimanager.h: new files
	* src/window.c: 

	Use the Gtk + UI Manager to handle the menubar and the toolbar.

2004-04-21  Bastien Nocera  <hadess@hadess.net>
	
	* src/fr-command-cfile.c: (get_uncompressed_name_from_archive),
	(list__process_line), (fr_command_cfile_extract):
	for gzip compressed files, use the name saved in the archive header
	in place instead of guessing from the filename if the archive header
	is available

2004-04-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-batch-add.c (add_clicked_cb): 
	* src/dlg-extract.c (dlg_extract): 
	* src/menu-callbacks.c (manual_cb): 
	* src/window.c (window_rename_selection): 
	* src/dlg-add-files.c (add_files_cb): 
	* src/dlg-add-folder.c (add_folder_cb): 

	Fixes bug #139502: The Dialog Boxes do not have a default action.
	Patch by sri_nathc AT yahoo DOT com 

2004-04-29  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-prop.c (dlg_prop): display the compression ratio as a number
	not as a percentage.

2004-04-24  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file_roller.glade: 
	* src/dlg-prop.c (dlg_prop): Added compression ratio and content size.

	* src/Makefile.am (glade_DATA): Removed file_roller_prop.glade

	* src/window.h: 
	* src/window.c (window_archive_extract): 
	* src/fr-archive.h: 
	* src/fr-archive.c (compute_base_path, compute_list_base_path)
	(fr_archive_extract): 

	Fixed bug 140971: Unwanted behavior of File-Roller on reconstructing 
	directories.
	
2004-04-10  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-add-folder.c: 
	* src/dlg-add-files.c: new files.

	* src/window.c (window_new): use FILE_POPUP_MENU_SIZE instead of
	a constant.

	* src/window.h: the popup menu has 15 entries now.

	* src/menu.h: do not set to 0 the second entry.

2004-04-08  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/dlg-add.c (aod_apply_cb, save_options_cb): remember the last
	used options and use the name as the default value when saving
	the options.

	* src/file-list.c (get_directory_file_list_cb)
	(get_wildcard_file_list_cb): 
	* src/window.c (_window_get_current_dir_list): 
	(_window_add_to_recent_list): use the function path_in_path.
	
	* src/file-utils.c (path_in_path): new function.

2004-04-09  Guntupalli Karunakar  <karunakar@freedomink.org>

        * configure.in: Added "gu" (Gujarati) to ALL_LINGUAS.

2004-04-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* file-roller.applications: 

	Fixes bug #135301: Update .applications to match shared-mime-info.

	* src/window.c (get_time_string): 

	Fixes bug #136506: Mark date specifier for translation.

	* src/main.c (prepare_app): check whether extract_to != NULL

2004-03-13  Shakti Sen <shprasad@novell.com>

	* src/main.c (prepare_app): Creating an absolute path for 
	file extraction from command line.

	Fixes bug #136570.
	
2004-04-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/file-roller.schemas: recreate the folders by default.

	Fix bug #138484: Option "Re-Create Folders" should be true by default.

	* src/window.c (window_paste_selection): 
	(rename_selection): Escape names.

        Fix bug #138697: File-roller fails to properly handle filenames 
        containing whitespace.

2004-03-30  Adam Weinberger  <adamw@gnome.org>

	* configure.in: Added en_CA (Canadian English) to ALL_LINGUAS.

2004-03-30  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_new, window_archive_open)
	(_window_remove_from_recent_list, _action_performed): 

	Remove a file from the recent file list if the file could not be 
	loaded.

	Add RPM and Suffit to the recent file list mime types.
	
	* component/file-roller-component.c (impl_Bonobo_Listener_event): 
	check whether cmd_option != NULL before adding to the command line.

	* src/menu-callbacks.c (new_archive): Pass the add_after_creation 
	options to the new window.
	
	* src/window.c (window_drag_data_received): check whether the archive 
	can be modified before accepting the drop.
	(get_icon): init variables to NULL.

	Fix bug #138154 (File-Roller Crash when dropping a file dragged from 
	archive).

	* src/fr-command-tar.c (tar_get_last_field): new function.
	(process_line): use the above function to read the filename.

	Fix reading of filenames with spaces.

2004-03-22  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.6.0 released ] 

2004-03-22  Guntupalli Karunakar  <karunakar@freedomink.org>

        * configure.in: Added "pa" (Punjabi) to ALL_LINGUAS.

2004-03-17  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

2004-03-15  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.5.7 released ] 

	* src/fr-command-tar.c (process_line): use 
	"%n%n%n%n-%n%n-%n%n %n%n:%n%n" instead of 
	"%n%n%n%n-%n%n-%n%n %n%n:%n%n:%n%n".

	Fix bug #137183 (Crash when opening tar-file when using 24 hour time 
	format).

2004-03-15  Glynn Foster  <glynn.foster@sun.com>

	* configure.in: Add localized online help.
	* help/Makefile.am: Add to build.
	* help/*: Add localized online user help for 
	de, es, fr, it, ja, ko, sv, zh_TW, zh_HK, zh_CN

2004-03-11  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/file-roller.xml: updated for bug 135863
	* help/C/file-roller-C.omf: updated manual date and version numbers
	* help/C/l10n.txt: updated manual date and version number

2004-03-08  Paolo Bacchilega  <paobac@cvs.gnome.org>

	[ File Roller 2.5.6 released ] 

2004-03-07  Danilo Šegan  <dsegan@gmx.net>

	* configure.in: Added "sr@ije" to ALL_LINGUAS.

2004-03-05  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/window.c (window_close): remove the recent view and the
	notifications as soon as possible.

	* component/File_Roller_Component.server.in.in: 
	* file-roller.desktop.in: 
	* src/dlg-batch-add.c (load_icon_file): 
	* src/dlg-prop.c (dlg_prop): 
	* src/file_roller.glade: 

	Fix bug #135863 ("Zip" unfortunate terminology in file-roller).
	
2004-03-03  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/menu-callbacks.c (save_as_archive_cb, new_archive_cb): use the
	new combo_box widget instead of the old option_menu.
	(new_archive_cb, save_as_archive_cb, open_archive_cb):
	(copy_or_move_archive): set the window parent.

2004-03-02  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/menu-callbacks.c (new_archive_cb): use 
	ACTION_SAVE | CREATE_FOLDER action

	* src/dlg-extract.c (dlg_extract): use the SELECT_FOLDER action

2004-02-29  Paolo Bacchilega  <paobac@cvs.gnome.org>

	* src/fr-command-tar.c (_match_pattern, get_index_from_pattern)
	(get_next_field, get_prev_field): new functions.
	(process_line): use a better logic to parse the tar output.

2004-02-28  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (copy_or_move_archive): 
	remove ..._set_folder_mode.

Fri Feb 27 01:12:52 2004  Jonathan Blandford  <jrb@gnome.org>

	* src/dlg-extract.c (dlg_extract): use new ACTION for the
	FileChooser

2004-02-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.5.5 released ] 

2004-02-23  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/file-roller.xml: updated based on Paolo's tech review
	* help/C/file-roller-C.omf: updated manual date and software version number

2004-02-21  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_message_cb): convert text to utf8.

	* src/dlg-extract.c (create_extra_widget): remove the border.

	* src/menu-callbacks.c (open_archive_cb): added the rpm and stuffit
	types.
	(save_as_archive_cb): add a filter for the "save archive" dialog.
	(new_archive_cb): add a filter for the "new archive" dialog
	(open_archive_cb): simplify filter for the "open archive" dialog.

	* src/dlg-extract.c (file_sel_response_cb): save the specified 
	password as the general password.

	* src/window.c (progress_dialog_delete_event): new function
	* src/window.c (open_progress_dialog): handle the delete_event event
	for the progress dialog.

	* src/fr-command-zip.c (add_password_arg): Add a always_specify 
	parameter.
	(fr_command_zip_extract, fr_command_zip_test): always use the password
	on the command line so we get the right status if the user did not 
	specify the password for a protected archive.
	(fr_command_zip_add): do not specify the password on the command line
	if the user did not enter a password.

2004-02-20  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/file-roller.xml: updated for GNOME 2.6
	* help/C/file-roller-C.omf: updated manual date and version number
	* help/C/l10n.txt: updated for GNOME 2.6
	* help/C/figures/file-roller_main_window.png: updated for GNOME 2.6
	* help/C/figures/file-roller_home.png: added for GNOME 2.6
	* help/C/figures/file-roller_uparrow.png: added for GNOME 2.6
	* help/C/figures/file-roller_rightarrow.png: added for GNOME 2.6
	* help/C/figures/file-roller_leftarrow.png: added for GNOME 2.6

2004-02-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/Makefile.am: Fix bug #133998 (schemas file must not be removed 
	during distclean).

	* src/fr-command-zoo.c (split_line_zoo): remove c++ style comments.

	* src/typedefs.h: remove the last comma.

2004-02-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (drag_drop_add_file_list): exec the next batch
	command when the list is NULL.

	* src/dlg-batch-add.c (dlg_batch_add_files): 
	* src/preferences.h (PREF_BATCH_ADD_DEFAULT_EXTENSION): 
	* src/file-roller.schemas: save and load the default extension.

	* src/window.c (drag_drop_add_file_list): remove fr_process_clear
	and fr_process_start from here.

	* src/fr-command-tar.c (begin_tar_command, fr_command_tar_list)
	(fr_command_tar_add, fr_command_tar_delete)
	(fr_command_tar_extract): use gtar if present, otherwise use tar.

	* component/File_Roller_Component.server.in.in: 
	* src/menu-callbacks.c (open_archive_cb): 
	* src/window.c (window_new): 
	* file-roller.applications: added application/x-jar

2004-02-16  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (copy_or_move_archive_response_cb): remove the
	double ;;

	[ File Roller 2.5.4 released ] 

2004-02-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_archive_open): do not show the new window 
	until we are sure that the archive has been opened with success.

	* src/fr-command-zip.c: 
	* src/fr-command-rpm.c: 
	* src/fr-archive.c: 
	* src/file-utils.c: include config.h as suggested by Christian Neumair
	<chris@gnome-de.org>

2004-02-08  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-zoo.c (fr_command_zoo_get_type): 
	* src/fr-command-zip.c (fr_command_zip_get_type): 
	* src/fr-command-unstuff.c (fr_command_unstuff_get_type): 
	* src/fr-command-tar.c (fr_command_tar_get_type): 
	* src/fr-command-rpm.c (fr_command_rpm_get_type): 
	* src/fr-command-rar.c (fr_command_rar_get_type): 
	* src/fr-command-lha.c (fr_command_lha_get_type): 
	* src/fr-command-cfile.c (fr_command_cfile_get_type): 
	* src/fr-command-arj.c (fr_command_arj_get_type): 
	* src/fr-command.c (fr_command_get_type): 

	Use GType instead of guint.  Fixes segfaults on 64-bit architectures.
	Patch by Aron Griffis <agriffis@gentoo.org>
	
2004-02-05  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.h: Add a FR_BATCH_ACTION_QUIT command.
	* src/window.c (_window_batch_start_current_action)
	(window_archive__quit): quit the program.
	(window_archive__close): close the archive.

	Allow to extract more archives at once with the "Extract Here" 
	command.

2004-02-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-tar.c (fr_command_tar_list, fr_command_tar_add)
	(fr_command_tar_delete, fr_command_tar_extract): 

	Fix bug #105739 (Can't open tar.gz files on Solaris).

2004-02-03  Dennis Cranston <dennis_cranston at yahoo com>

	* src/window.c (add_columns): 

	Fix bug #133358 (Small HIG fix for column header).
	
2004-01-31  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.5.3 released ] 

2004-01-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c (aod_apply_cb, load_options_cb, save_options_cb): 

	Simplify "Load Options" and "Save Options" dialogs.

2004-01-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_set_list_mode): make the path column visible 
	only if the list mode is set to flat.

	* src/menu-callbacks.c (save_as_archive_cb): 

	Make the box content visible.

	* src/recent-files/*: updated from libegg.

	* src/window.c (window_new): restore the egg_recent_model_set_filter*
	functions.

	* help/C/file-roller.xml: 

	Fix bug #131955 (Capitalization of WinZip in documentation).

2004-01-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* file-roller.desktop.in (_Comment): fix bug #131247

2004-01-16  Paolo Bacchilega  <paolo.bacch@tin.it>

	* component/File_Roller_Component.server.in.in: 

	Change "Add to Archive" to "Zip Objects".

	* src/file_roller.glade: 
	* src/dlg-batch-add.c: 

	Simplify dialog.

2004-01-15  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (manual_cb): use a close button in the 
	error dialogs.

	* src/window.c (window_archive_save_as): remove extra NULL argument.
	(window_rename_selection): use a close button in the error dialogs.

	* src/menu-callbacks.c (copy_or_move_archive): set folder mode to TRUE.

2004-01-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.5.2 released ] 

	* src/file_roller.glade: remove the extract dialog.
	* src/dlg-extract.c: Fix the Extract dialog.

	* src/window.c: 
	* src/window.h: 
	* src/dlg-add.c: (add_cb): remove offset.
	(add_cb): use the fr_stock_add item.

	Fix the Add dialog.
	
2004-01-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-prop.c (dlg_prop): 

	Fix bug #131263.

	* src/Makefile.am (file_roller_SOURCES): 
	* src/menu.h: 

	Remove the preferences dialog. (bug #131254)

	* file-roller.desktop.in: 

	Change name to "Zip Creator"; remove the GenericName entry; 
	change category to System Utility. (bug #131247)

2004-01-12  Jon K. Hellan  <hellan@acm.org>

	* src/window.c (MAX_HISTORY_LEN): #define works better than #deinfe

2004-01-12  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_new): remove the egg_recent_model_filter 
	functions.

2004-01-11  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/recent-files/egg-recent-model.c: 
	* src/recent-files/egg-recent-model.h: 
	* src/recent-files/egg-recent-item.c: 
	* src/recent-files/egg-recent-item.h: 
	* src/recent-files/egg-recent-view.c: 	
	* src/recent-files/egg-recent-view.h: 	
	* src/eggtreemultidnd.c: 
	* src/eggtreemultidnd.h: updated from libegg

	* src/menu-callbacks.c (open_archive_cb): add a filter.

	* src/icons/Makefile.am: 
	* src/fr-stock.c: 
	* src/fr-stock.h: 
	* src/window.c (window_new): 

	Use the stock icon system for the Add, Extract and View commands.
	
Wed Jan  7 01:41:32 2004  Jonathan Blandford  <jrb@gnome.org>

	* src/fr-command-unstuff.c (fr_command_unstuff_list): add missing
	semi-colon.

2004-01-06  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-zip.c (add_password_arg): do not add the password arg
	if the password is an empty string (bug #130693).

	* src/menu-callbacks.c (new_archive): do no destroy the file selector 
	if the archive was not created (bug #130637).

	* src/window.c (window_archive_new): return TRUE if the archive was 
	created successfully, FALSE otherwise.

2004-01-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (open_folder): use gnome_url_show instead of calling 
	nautilus.

	* src/fr-command-unstuff.c (fr_command_unstuff_list): fix bug #128748 (
	Build fails on Solaris9: mkdtemp() doesn't exist).

2003-12-04  Jan Arne Petersen  <jpetersen@uni-bonn.de>

	* src/dlg-add.c: (file_sel_response_cb), (selection_entry_changed),
	(add_cb), (load_options_response_cb), (load_options_cb),
	(save_options_response_cb), (save_options_cb):
	* src/menu-callbacks.c: (get_full_path), (new_file_response_cb),
	(new_archive_cb), (save_file_response_cb), (save_as_archive_cb),
	(open_file_response_cb), (open_archive_cb),
	(copy_or_move_archive_response_cb), (copy_or_move_archive): replace
	GtkFileSelection with GtkFileChooser.

2004-01-03  Robert Sedak  <robert.sedak@sk.htnet.hr>

        * configure.in: Added "hr" in ALL_LINGUAS.

2003-12-28  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.5.1 released ] 

2003-12-22  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-lha.c (split_line_lha): fix bug #129794 (file-roller 
	2.4.1.1 crashes upon LZH file opening)

2003-12-20  Arafat Medini <lumina@silverpen.de>
                                                                               
        * ar.po: Added Arabic locale "ar" to ALL_LINGUAS

2003-11-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.5.0 released ] 

2003-11-22  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-utils.c (g_utf8_strchomp): start from len - 1.

	* src/fr-archive.c (_archive_remove): fix bug #127073

2003-11-21  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (new_archive_cb): 
	* src/window.c (window_archive_new): fix bug #21679 (patch by 
	shakti.sen@wipro.com).

2003-11-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (rename_selection): fix new path computation.
	(_window_clipboard_remove_file_list): remove files from the clipboard 
	when deleted from the archive.

2003-11-15  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_cut_selection, window_copy_selection)
	(window_paste_selection): Implement cut/copy/paste.

	* src/fr-archive.c (add_with_wildcard__step2)
	(add_directory__step2): Call done_func after fr_archive_add.

	* src/file-utils.c: 
	* src/dlg-delete.c: 
	* src/dlg-add.c: 
	* src/window.c: Implement file and folder renaming.

2003-11-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-archive.c: 
	* src/window.c: 
	* src/fr-command-rpm.c: 
	* src/fr-command-rpm.c: added RPM support. 

2003-11-12  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (quit_cb): exit closes only the current window 
	instead of closing all the windows.
	(new_archive): create a new window if the current one already has an 
	archive opened.

2003-11-11  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: remove a separator.

	* src/fr-command-tar.c (fr_command_tar_uncompress): always rename the 
	archive to make sure that when uncompressed it does not overwrite 
	another archive with the same name.

	* src/dlg-add.c (open_file_ok_cb): 
	* src/window.h: 
	* src/window.c (window_new): added ability to go back and forward 
	in location history.

2003-11-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (drag_drop_add_file_list) 
	(window_archive_add_with_wildcard, window_archive_add_directory) 
	(window_set_list_mode): set current dir to / when in flat view mode.

	* src/dlg-add.c (open_file_ok_cb): 
	* src/fr-archive.c (fr_archive_add, create_tmp_base_dir): add
	files and folders to the current directory (bug #104816).

	* src/dlg-preferences.c (dlg_preferences): instantly apply
	compression level changes.

	* src/menu.h: remove the "View->New Window" command.

	* src/fr-command-unstuff.c: 
	* src/fr-command-unstuff.h: added unstuff support. Patch by
	Bastien Nocera. 

	* component/File_Roller_Component.server.in.in: remove "Extract
	To..."; add "Extract Here" (bug #125102)

	* src/preferences.h:
	* src/dlg-extract.c (dlg_extract): store extraction options (bug
	#126129) 

	* src/file_roller.glade: make the labels selectable (bug #120593)

	* src/typedefs.h: 
	* src/fr-command-zip.c (fr_command_zip_handle_error): 
	* src/window.c (handle_errors): capture the "incorrect password"
	exception and ask the user to enter a new password.
	(_window_update_statusbar_list_info): use ngettext.
	(window_archive_open): open a new window if the current one
	is not void.

2003-11-10  Paolo Bacchilega  <paolo.bacch@tin.it>
	
	[ File Roller 2.4.2 released ] 

	* src/fr-command-zip.c (add_password_arg): escape the char " if
	present in the password.

2003-11-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-zip.c (fr_command_zip_list, fr_command_zip_add) 
	(fr_command_zip_delete, fr_command_zip_extract) 
	(fr_command_zip_test): zip wildcards and non-option arguments not
	escaped (bug #122486).  Patch from Claudio Bley.

	* src/file-utils.h: 
	* src/file-utils.c (escape_str): new function
	(shell_escape): use the above function.

	* src/fr-command-zip.c (add_password_arg, fr_command_zip_add) 
	(fr_command_zip_extract, fr_command_zip_test): close the password
	between "".

2003-11-05  Paolo Bacchilega  <paolo.bacch@tin.it>

	* file-roller.mime: 
	* file-roller.keys: 
	* file-roller.applications: fix bug #125844 (MIME information
	should differenciate between .zip and .jar)

	* src/recent-files/Makefile.am: 
	* configure.in: 
	* src/Makefile.am (DISABLE_DEPRECATED): disable deprecations by
	default, added a --enable-deprecations option to enable them.

2003-10-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.4.1.1 released ]

	* src/window.c (get_time_string): fix bug #124637 (bug and patch
	from Christophe Fergeau)

2003-10-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.4.1 released ]

2003-10-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-cfile.c (fr_command_cfile_extract): 
	* src/window.c (file_list_drag_begin, window_archive_save_as) 
	(window_view_file, window_open_files): use the function below.

	* src/file-utils.c (get_temp_work_dir_name): make this function
	global and check for the folder existence.

2003-09-30  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "eu" to ALL_LINGUAS.

2003-09-28  Gediminas Paulauskas  <menesis@delfi.lt>

	* configure.in: Added lt (Lithuanian) to ALL_LINGUAS.

2003-09-27  Ãsmund SkjÃ¦veland  <aasmunds@fys.uio.no>

	* configure.in: Added 'nn' (Norwegian (nynorsk)) to ALL_LINGUAS.

2003-09-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (file_list_drag_data_get): Fix bug #122807

2003-09-17  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "ta" (Tamil) to the languages' list.

2003-09-10  Andrew Sobala  <aes@gnome.org>

	[ File Roller 2.4.0.1 released ]

2003-09-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.4.0 released ]

2003-09-06  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/recent-files/*.c: updated from libegg

2003-09-01  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.6 released ]

2003-08-31  Bastien Nocera  <hadess@hadess.net>
	
	* src/fr-command-rar.c (fr_command_rar_have_rar)
	(fr_command_rar_list, fr_command_rar_extract): use "unrar"
	instead of rar for extraction and listing when rar isn't available
	
2003-08-28  Taneem Ahmed  <taneem@bengalinux.org>

	* configure.in: Added "bn" to ALL_LINGUAS.

2003-08-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.5 released ]

2003-08-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.h: 
	* src/window.c (file_list_drag_begin, file_list_drag_end) 
	(file_list_drag_data_get): start extracting in
	file_list_drag_begin, and wait for extraction completion in
	file_list_drag_end (bug #119829).

2003-08-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-batch-add.c (dlg_batch_add_files): 
	* src/dlg-extract.c (add_fav_cb): 
	* src/dlg-add.c (selection_entry_changed): use the
	_get/set_filename_text functions.

	* src/gtk-utils.h:
	* src/gtk-utils.c (_gtk_entry_set_filename_text) 
	(_gtk_entry_get_filename_text, _gtk_label_set_filename_text) 
	(_gtk_label_get_filename_text): new functions.

	* Makefile.am (EXTRA_DIST): remove acinclude.m4

	* src/window.c (update_file_list_idle): 
	* src/menu-callbacks.c (rename_archive_cb): 
	* src/dlg-batch-add.c (add_clicked_cb): 
	* src/dlg-extract.c (update_bookmark_list): 
	* src/dlg-prop.c (dlg_prop): 
	* src/dlg-viewer.c (dlg_viewer): 
	* src/file-list.c (filter_apply): 
	* src/fr-archive.c (file_list_remove_from_pattern): 
	* src/dlg-add.c (open_file_ok_cb): use g_filename_to_utf8 /
	g_filename_from_utf8 instead of g_locale_to_utf8 /
	g_locale_from_utf8 where appropriate.

2003-08-12  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-cfile.c (list__process_line): fix bug #119698.

2003-08-11  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.4 released ]

2003-08-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/preferences.c: 
	* src/dlg-preferences.c: 
	* src/window.c: 
	* src/gconf-utils.h: 
	* src/gconf-utils.c: 
	* src/dlg-extract.c: always specify a default value when reading
	gconf keys. 

	* src/fr-command-zip.c (mktime_from_string): fix bug #119269.

2003-08-07  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/l10n.txt: updated for GNOME 2.4

2003-08-07  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/file-roller.xml: updated for GNOME 2.4
	* help/C/file-roller-C.omf: updated manual date and version number
	* help/C/figures/file-roller_main_window.png: updated for GNOME 2.4

2003-08-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c (add_cb): fix bug #118795

2003-07-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-preferences.c (dlg_preferences): remove the "recent
	archives" option (bug #117512)

	* src/window.h: 
	* src/window.c (window_new, _window_update_sensitivity): make the
	"last output" command insensitive if no output is available. (bug
	#117513)

	* src/menu.h: added a tooltip to the "Last Output" command.

2003-07-22  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: rename "Move To Trash" to "Move to Trash"

	* src/file_roller.glade: rename "Add Files and Folders" to "Add	Files".

	* src/file_roller_prop.glade: rename "Path" to "Location".

2003-07-22  Telsa Gwynne  <hobbit@aloss.ukuu.org.uk>

	* configure.in: Added "cy" (Welsh) to ALL_LINGUAS

2003-07-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_close): stop the activity timeout, should
	fix bug #117171

2003-07-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_view_last_output): make the dialog modal.

	* src/menu.h: move "New Window" to the View menu, remove the
	"Close Window" command and the Windows menu.

2003-07-06  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (_window_update_title): remove "File Roller" from the 
	title.

2003-07-07  Nikos Charonitakis  <frolix68@yahoo.gr>

	* po/el.po: updated Greek translation.

2003-07-02  Jordi Mallach  <jordi@sindominio.net>

	* file-roller.desktop.in: Use "false" instead of "0" in Terminal
	entry.

2003-06-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.3 released ]

2003-06-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (about_cb): Added Breda in the documenters list.

2003-06-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* component/File_Roller_Component.server.in.in: remove "Extract
	Here" and "Extract in a Folder".

2003-06-26  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_archive_open): add to recent list only if
	the archive was loaded without errors (bug #112577).

	* src/dlg-batch-add.c (add_clicked_cb): use tgz as default extension.
	(add_clicked_cb): display the correct error message when the user
	do not enter the archive name.

2003-06-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-rar.c (fr_command_rar_add): fixed bug #115775

2003-06-17  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/Makefile.am (file_roller_LDADD): removed LIBOBJ, no more
	needed because fnmatch is gone now.

	* src/file-utils.h: include <sys/types.h> because of mode_t

2003-06-12  Breda McColgan  <breda.mccolgan@sun.com>

	* help/C/file-roller.xml: updated for GNOME 2.2, not yet updated
	for GNOME 2.3
	* help/C/file-roller-C.omf: updated manual date and version number
	* help/C/l10n.txt: new file added 
	* help/C/figures/file-roller_main_window.png: new file added 
	* help/C/figures/fr-add-dialog.png: deleted
	* help/C/figures/fr-extract.png: deleted
	* help/C/figures/fr-mainwindow.png: deleted
	* help/C/figures/fr-prefs.png: deleted

2003-06-12	Mohammad DAMT  <mdamt@bisnisweb.com>

	* configure.in: Added "id" country code
	* po/id.po: New Indonesian translation by Yuhanes Chandra 
	<yuhanes@cbn.net.id>
	
2003-06-08  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-preferences.c: 
	* menu.h:
	* fr-error.[ch]:
	* fr-archive.[ch]:
	* gtk-utils.[ch]:
	* window.[ch]:
	* main.c:
	* menu-callbacks.c:
	* dlg-batch-add.c:
	* dlg-add.c:
	* dlg-extract.c:
	* dlg-preferences.c: make alert dialogs HIG compliant (bugs
	#114578, #114581).
	
2003-05-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.h: 
	* src/window.c (window_new, window_batch_mode_stop) 
	(window_archive__open_extract, window_archive__open_add): close
	the window if in non interactive mode (bug #112594).

	* src/menu-callbacks.c (copy_or_move_archive_ok_cb): fix bug #113805

2003-05-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (save_file_ok_cb): warning the user if he
	does not specify a new file name.

	* src/gtk-utils.c (_gtk_yesno_dialog_new): fix bug #113806

	* src/dlg-add.c (add_cb): fix bug #113807

	* src/menu.h: fix bugs #113809, #113808

	* src/dlg-delete.c (ok_clicked_cb): fix bug #113810

	* src/dlg-extract.c (overwrite_toggled_cb): fix bug #113820

	* src/menu.h: fix bug #113821

	* src/fr-archive.c (create_command_from_filename): fix bug #113822.

	* component/File_Roller_Component.server.in.in: fix bug #113824.

2003-05-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.2 released ]
	
	* src/file-utils.c (split_line, eat_spaces, get_last_field): new
	functions.
	* src/fr-command-rar.c (mktime_from_string): 
	* src/fr-command-lha.c (process_line): 
	* src/fr-command-zoo.c (process_zoo_line): 
	* src/fr-command-zip.c (list__process_line): 
	* src/fr-command-tar.c (process_line): 
	* src/fr-command-arj.c (list__process_line): use the global functions
	instead of redefining them each time.
	
2003-05-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-utils.c (search_util_get_patterns): make this function
	utf8 compatible.

	* src/fr-command-arj.c (fr_command_arj_extract): fix junk_paths option.

	* src/utf8-fnmatch.c: 
	* src/utf8-fnmatch.h: new files, added a utf8 compatible
        fnmatch function.
	* src/file-utils.c (match_patterns): use utf8_fnmatch instead of
	fnmatch.
	* src/fnmatch.[ch]: deleted.

	* src/menu-callbacks.c (delete_archive_cb): move to trash instead
	of deleting from disk.

	* src/gtk-utils.c (_gtk_yesno_dialog_new): new function.

2003-05-17  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (open_progress_dialog, window_message_cb): 
	* src/ephy-ellipsizing-label.c: use this widget to display
	progress information.

	* src/fr-command-zip.c (fr_command_zip_add) 
	(fr_command_zip_delete): 
	(fr_command_zip_extract): make zip operations more verbose.

	* src/fr-command-arj.c (fr_command_arj_list): added arj archives
	support.

2003-04-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	* component/File_Roller_Component.server.in.in: add
	application/x-zip mime type

2003-05-17  SamÃºel JÃ³n Gunnarsson  <sammi@techattack.nu>

	* configure.in: Added "is" to ALL_LINGUAS. 

2003-05-10  Paisa Seeluangsawat  <paisa@colorado.edu>

        * configure.in: Added Thai (th) to ALL_LINGUAS.

2003-05-06  Duarte Loreto <happyguy_pt@hotmail.com>

        * configure.in: Added Portuguese (pt) to ALL_LINGUAS.

2003-05-06  Danilo Å egan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2003-04-28  Dmitry G. Mastrukov <dmitry@taurussoft.org>

	* help/ru/file-roller.xml: Fixed. File was encoded to UTF-8 from wrong
	codeset.

2003-04-07  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.1 released ]

	* src/icons/add.png:
	* src/icons/extract.png: new icons.

2003-04-06  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c: 
	(window_batch_mode_start, window_batch_mode_stop): hide the main
	window while in batch mode.
	
	* src/file-roller.schemas: 
	* src/file_roller_prop.glade: 
	* src/window.c: 
	* src/dlg-preferences.c: remove the 'show name column' option, the
	name must always be visible.

	* src/fr-archive.c (fr_archive_stoppable): new function, emit a
	stoppable signal.

	* src/window.c (drag_drop_add_file_list): do not allow the user to
	stop this operation.

	* src/window.c (window_view_last_output): add a title parameter
	(_action_performed): use 'Test Result' as title for the test operation.

	* src/window.c (window_fake_load): use a better logic to determine
	when to use the fake load.

	* src/dlg-batch-add.c (dlg_batch_add_files): display how many
	folders and files the user is going to add.

	* src/window.c (window_batch_mode_stop): 
	* src/window.h: removed the batch window, simply use the normal
	window now that we have the progress dialog.

	* component/File_Roller_Component.server.in.in: added zoo archive

	* src/fr-command-zoo.c (fr_command_zoo_list): use "lq" instead of "la"
	(fr_command_zoo_add): use "auP" instead of "aunP"

	* src/window.c:
	* src/window.h: added a progress dialog.

	* src/fr-process.h: 
	* src/fr-process.c: added begin_func and end_func functions to be
	called before and after a process execution. added sticky_only
	signal.
	(_fr_process_stop): do not stop the current command if it is
	declared sticky.

	* src/fr-archive.c:
	* src/fr-archive.h: added some signals to give more info about the
	current command.

	* src/fr-command-zoo.c (fr_command_zoo_test): added test to zoo
	archive.

2003-03-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (new_file_ok_cb): use tgz as default extension.

	* src/window.c (window_convert_data_free) 
	(convert__action_performed, _action_performed, window_new): added
	convert archive function.

	* src/menu-callbacks.c (save_as_archive_cb, save_file_ok_cb): 

	* src/file-utils.c (rmdir_recursive): new function

	* file-roller.mime: 
	* file-roller.keys: added zoo archive

	* src/window.c (location_entry_key_press_event_cb) 
	(_window_update_current_location, key_press_cb, window_new): use
	a text entry instead of the option menu for the location.

2003-03-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c (open_file_ok_cb): 
	* src/window.c (add_files_done_cb) 
	(window_archive_add_with_wildcard, window_archive_add_directory) 
	(drag_drop_add_file_list): 
	* src/window.h: 
	* src/menu-callbacks.c (stop_cb): Allow to stop the "get file list"
	operation.
	
2003-03-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.3.0 released ]
	
2003-03-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-viewer.c (dlg_viewer, set_monospace_font): use the
	monoscape font specified by the desktop preferences.

2003-03-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-list.c (get_wildcard_file_list_async) 
	(get_directory_file_list_async): 
	* src/file-list.h: make get_wildcard_file_list and
	get_directory_file_list asynchronous functions.

	* src/window.c (add_directory_done_cb, drag_drop_add_file_list): 
	* src/dlg-add.c (open_file_ok_cb): use the new functions.
	
2003-03-22  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-batch-add.c (add_clicked_cb): check whether the user
	entered a correct archive name. (bug #102727)

2003-03-16  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-utils.c: add ':' to the chars to escape.

	* src/fr-command-tar.c (fr_command_tar_list, fr_command_tar_list)
        (fr_command_tar_add, fr_command_tar_delete)
        (fr_command_tar_extract): add --force-local option to handle
        filenames with a ':' char

	* src/fr-command-rar.c (split_line): 
	* src/fr-command-lha.c (split_line_lha): 
	* src/fr-command-zip.c (split_line): 
	* src/fr-command-tar.c (split_line): fixed a stupid stupid stupid
	stupid ... stupid bug.

	* src/fr-command-cfile.c (fr_command_cfile_list) 
	(list__process_line): fix bug #105827

	* src/file_roller.glade: fix bug #107753

2003-02-26  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in: require gnome-vfs 2.1.3 (patch by Alex Duggan
	aldug@astrolinux.com).

2003-03-13  Paul Duffy  <dubhthach@frink.nuigalway.ie>
        
	* configure.in: Added "ga" to ALL_LINGUAS.

2003-03-13  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "ml" to ALL_LINGUAS.

2003-03-07  Metin Amiroff  <metin@karegen.com>

	* configure.in: Added Azerbaijani to ALL_LINGUAS

2003-02-26  Yuriy Syrota  <rasta renome.rovno.ua>

	* help/uk/*: Added Ukrainian translation by
	Maxim Dubovoy <dmv@mylinux.com.ua>.

2003-02-26  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Belarusian to ALL_LINGUAS.

2003-02-22  Roozbeh Pournader  <roozbeh@sharif.edu>

	* configure.in: Added "fa" to ALL_LINGUAS.

2003-02-22  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added "zh_TW" (traditional Chinese) to ALL_LINGUAS.

2003-02-09  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "kn" to ALL_LINGUAS.

2003-01-30  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "tr" (Turkish) to the languages' list.

2003-01-30  Gil "Dolfin" Osher <dolfin@rpg.org.il>

	* configure.in: Added "he" to ALL_LINGUAS.

2003-01-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (theme_changed_cb): handle theme_changed event.
        (window_new): allow svg themes (patch from gnome-2-2 branch).

	* src/fr-command-zoo.c: 
	* src/fr-command-zoo.h: 
	* src/fr-archive.c: 
	(create_command_from_mime_type): 
	* src/Makefile.am (file_roller_SOURCES): 

	Added zoo archive support, patch from 
	Shaun McCance <shaunm@wolfram.com>.
	
2003-01-23  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added "sk" to ALL_LINGUAS.

2003-01-22  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "mn" to ALL_LINGUAS.

2003-01-22  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/Makefile.am (file_roller_LDADD): revert Thomas Vander Stichele 
	commit, Thomas LIBOBJS is setted on systems that do not have the 
	FNM_CASEFOLD constant defined (e.g. Solaris), if it does not build for
	you use automake 1.7.2 and autoconf 2.57.

2003-01-21  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/recent-files/*.[ch]: updated "recent files" stuff from libegg.

2003-01-22  Thomas Vander Stichele <thomas at apestaart dot org>

        * src/Makefile.am: remove LIBOBJS, nothing sets it

2003-01-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.2.0 released ]

2003-01-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	* component/file-roller-component.c (impl_Bonobo_Listener_event): patch
	from Alexander Larsson.

2003-01-20  Yuriy Syrota  <rastaman@renome.rovno.ua>

	* configure.in: Added "uk" (Ukrainian) to ALL_LINGUAS.

2003-01-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/C/figures/*.png: updated.

	* help/C/file-roller.xml: updated.

2003-01-17  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c (open_file_ok_cb): fix bug #103671.

2003-01-15  Pauli Virtanen  <pauli.virtanen@hut.fi>

	* configure.in: Added "fi" (Finnish) to ALL_LINGUAS.

2003-01-13  He Qiangqiang  <carton@linux.net.cn>

	* configure.in: Added zh_CN to ALL_LINGUAS.

2003-01-11  Laurent Dhima  <laurenti@alblinux.net>

	* configure.in: Added 'sq' (albanian) to ALL_LINGUAS

2003-01-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c (prepare_app): fix bug #102963

2002-01-07  Naba Kumar  <naba@gnome.org>

	* configure.in: Added hi (hindi) in ALL_LINGUAS

2003-01-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.1.5 released ]

2003-01-05  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Macedonian (mk) to ALL_LINGUAS

2002-12-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade:
	* src/dlg-extract.c (dlg_extract): fix bug #101428.

2002-12-26  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: s/Manual/Contents/

2002-12-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	* component/file-roller-component.c (get_path_from_url): new function.
	(impl_Bonobo_Listener_event): use gnome_vfs_unescape_string instead of
	g_filename_from_uri.

	* component/File_Roller_Component.server.in.in: add application/x-bzip

2002-12-21  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (about_cb): fixed bug #101727

2002-12-15  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/gtk-utils.c (_gtk_error_dialog_new): use header capitalization

	* src/fr-command-lha.c (process_line): use split_line_lha

	* src/menu.h: use Archive instead of File
	
	* src/file_roller_prop.glade: changed some strings.

2002-12-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-lha.c (split_line_lha): handle lha archives
	created on Windows.

2002-12-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.1.4 released ]

2002-12-10  Paolo Bacchilega  <paolo.bacch@tin.it>
	
	* configure.in: removed the scripts sub-folder.
	* file-roller.spec.in: removed the scripts installation.

2002-12-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: reorder file operation commands.

2002-12-09  Paolo Bacchilega  <paolo.bacch@tin.it>
	
	[ File Roller 2.1.3 released ]

2002-12-09  Paolo Bacchilega  <paolo.bacch@tin.it>
	
	* src/fr-archive.c (fr_archive_utils__file_is_archive): do not return 
	always TRUE.

	* src/window.c (window_archive_open): focus the list after loading an
	archive.

	* src/main.c: remove useless variable.

	* src/window.c (_window_update_sensitivity): do not update 
	sensitivity when in batch mode (bug #98736).

	* component/file-roller-component.c (impl_Bonobo_Listener_event): 
	support folders with strange names.

	* src/dlg-batch-add.c (add_clicked_cb): ask whether to create the 
	destination folder if it does not exist.

2002-12-07  Ole Laursen  <olau@hardworking.dk>

	* configure.in: Added Danish (da) to ALL_LINGUAS.

2002-12-05  Andras Timar  <timar@gnome.hu>

	* configure.in: Added hu to ALL_LINGUAS.

2002-12-05  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade: re-layout the 'Extact' dialog.
	
	* src/dlg-extract.c (dlg_extract): use 'Bookmarks' instead of 
	'Favourites'.

	* src/main.c (migrate_to_new_directories, migrate_file_from_to) 
	(migrate_dir_from_to): use .gnome2/file-roller as config dir, and 
	provide a migration from the old .file-roller dir.

	* src/dlg-viewer.c (dlg_viewer): set the document filename as title.

	* src/file_roller_prop.glade: use sentence capitalization in 
	toggle buttons.
	
	* src/dlg-preferences.c (dlg_preferences): use 'Visible columns" as in 
	rhythmbox.

2002-12-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade: 
	* src/menu-callbacks.c (new_archive_cb, about_cb): re-add Copyright

	* src/window.c (window_archive_extract): 
	* src/dlg-extract.c (ok_clicked_cb): 
	* src/window.c (window_drag_data_received) 
	(window_drag_data_received): 
	* src/menu-callbacks.c (new_file_ok_cb, copy_archive_ok_cb) 
	(rename_archive_cb, delete_archive_cb): 
	* src/dlg-extract.c (ok_clicked_cb): 
	* src/window.c (window_archive_extract): remove whitespace before 
	punctuation.

2002-12-03  Christian Neumair  <chris@gnome-de.org>

	* src/menu-callbacks.c: Changed copyright string and marked it for
	translation.

2002-12-03  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_view_last_output): 
	* src/gtk-utils.c (_gtk_message_dialog_new) 
	(_gtk_request_dialog_run, _gtk_error_dialog_new): HIG compliant 
	dialogs.

	* src/typedefs.h: change config folder from $(HOME)/.file-roller to
	$(HOME)/.gnome2/file-roller

2002-12-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade: 
	* src/file_roller_prop.glade: add default buttons.

	* src/menu.h: added stock icon to the properties menu entry.

	* src/dlg-prop.c (dlg_prop): make the title HIG compliant

	* src/menu-callbacks.c (new_archive_cb): remove the frame.

	* src/window.c (window_update_file_list): display the file list when 
	a new archive is created.

2002-11-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* file-roller.desktop.in: Add StartupNotify and X-GNOME-Bugzilla 
	entries.

	* src/preferences.h (PREF_LIST_SORT_METHOD): 
	* src/file-roller.schemas: 
	* Makefile.am (SUBDIRS): 
	* src/main.c: 
	* src/main.h: remove the scripts installation.

	* src/eggtreemultidnd.c: 
	* src/eggtreemultidnd.h: new files 
	* src/window.c (window_new): add multi drag & drop support.

2002-11-23  Kjartan Maraas  <kmaraas@gnome.org>

	* help/C/file-roller.xml: Fix an embarrasing typo.
	
2002-11-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/*.glade: make dialogs more HIG compliant.

2002-11-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-preferences.c (dlg_preferences): set the bold attribute
	here not in glade.

	* src/dlg-*.c: s/.glade2/.glade/
	* src/*.glade2: 
	* src/*.glade: change extension from .glade2 to .glade
	
2002-11-11  James Willcox  <jwillcox@gnome.org>

	* Makefile.am:  add components to SUBDIRS
	* configure.in:  add components/Makefile to AC_OUTPUT
	* po/POTFILES.in:  added the .server file

	* component/File_Roller_Component.server.in.in:
	* component/Makefile.am:
	* component/file-roller-component.c: (impl_Bonobo_Listener_event),
	(file_roller_component_class_init), (file_roller_component_init):
	* component/file-roller-component.h:
	* component/libmain.c: (image_shlib_make_object):

	New files.  Implements a context menu handler for nautilus.

2002-11-07  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c: added session management support.

2002-10-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: s/Information/Properties/

	* src/dlg-add.c (add_cb): 
	* src/file_roller.glade2: change dialog titles.

2002-11-01  Tivo LeedjÃ¯?Â½v  <toivo@linux.ee>

	* configure.in: Added et to ALL_LINGUAS.

2002-10-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-archive.c (create_command_from_sniffer): use a
	personalized 'sniffer' to recognize supported archive formats with
	exotic extensions (i.e. OpenOffice documents).
	
	* src/window.c (window_drag_data_received): use
	fr_archive_utils__file_is_archive.

	* src/fr-archive.c (fr_archive_utils__get_file_name_ext): rename
	fr_archive_utils_get_file_name_ext as 
	fr_archive_utils__get_file_name_ext
	(fr_archive_utils__file_is_archive): new function

	* src/fr-archive.h: 
	* src/menu-callbacks.c (rename_archive_cb): use 
	fr_archive_utils__get_file_name_ext.

2002-10-16  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-process.h (BUFFER_SIZE): set buffer size to 16384. 
        * src/fr-process.c (REFRESH_RATE): set refresh rate to 10 millisecs.

        this makes loading much more faster (at least on my machine):

        archive         files     before     after
        -------------------------------------------
        nautilus.tgz    1873      06''00     02''00
        evolution.tgz   3478      10''00     03''00
        gphoto2.tgz      592      02''10     00''97
        
        please send me your benchmarks.

2002-10-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.1.1 ]

2002-10-11  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in: update required libraries versions.

	* src/recent-files/*: import egg-recent files.
	
	* src/window.c (get_icon): use gnome_icon_lookup to get the icon.
	(open_recent_cb, _window_add_to_recent, pref_history_len_changed) 
	(window_new): use egg-recent.

2002-10-08  Peteris Krisjanis <peteris.krisjanis@os.lv>

	* configure.in: Added lv to ALL_LINGUAS.

2002-10-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.1.0 ]

2002-10-01  Stanislav Brabec  <sbrabec@suse.cz>

	* configure.in: Added cs to ALL_LINGUAS.

2002-09-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/ru/file-roller.xml: fixed some 'opening and ending tag 
	mismatch' errors.

	* src/window.c (window_archive_reload, window_archive_open): we
	have to load the archive, even in batch mode, if the user wants to
	update.

2002-09-28  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command.h:
	* src/fr-command.c:
	* src/fr-archive.h:
	* src/fr-archive.c:
	* src/window.c: do not load the archive if in batch mode.
	(activity_cb, set_icon_transparency): animate the icon when there is
	activity in batch mode.
	(window_update_file_list): hide/show the scrolled window not the
	list view.

2002-09-25  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c (command_done, viewer_done): use g_spawn_sync instead
	of gnome_execute_shell.

	* src/window.c: added break; to default cases.

	* src/toolbar.h: 
	* src/menu.h: 
	* src/window.h: removed trailing commans to increase portability.

2002-09-19  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* help/ru/*: recoded Russian help to UTF-8 

2002-09-17  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Catalan (ca) to ALL_LINGUAS

2002-09-16  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Vietnamese (vi) to ALL_LINGUAS

2002-09-14  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade2: hide cursor in the text viewer.

2002-09-11  Marius Andreiana <mandreiana@yahoo.com>

	* configure.in: added 'ro' to ALL_LINGUAS

2002-09-10 Hasbullah Bin Pit <sebol@ikhlas.com>

        * configure.in: Added ms at ALL_LINGUAS.

2002-09-03  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in (GETTEXT_PACKAGE): 
	* src/Makefile.am (install-data-local): install schemas only when
	SCHEMAS_INSTALL is defined.

	* file-roller.spec.in: install schemas and update the scrollkeeper
	database.

2002-09-01  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.0.2 released ]

2002-09-01  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c (install_scripts): substitute underscores with spaces
	before installing stripts.

2002-08-31  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-prop.c (dlg_prop): use a better time format and make it
	localizable.

	* src/window.c (get_compare_func_from_idx): do not let the column
	index have invalid values.

	* src/preferences.c (get_string_from_enum): 
	(get_enum_from_string): return the first value if input is invalid.

2002-08-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	[ File Roller 2.0.1 released ]

2002-08-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-roller.schemas: added keys documentation.

2002-08-28  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu-callbacks.c (about_cb): Added e-mail address.

2002-08-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_close): remove notifications when closing the 
	window.

	* src/file-roller.schemas: changed some keys

	* src/menu-callbacks.c: 
	* src/window.c: 
	* src/window.h:
	* src/preferences.c:
	* src/preferences.h:
	* src/dlg-preferences.c: Use gconf instead of gnome-config.
	
	* src/gconf-utils.c:
	* src/gconf-utils.h: new files.

	* src/gtk-utils.c:
	* src/gtk-utils.h: renamed misc.[ch] to gtk-utils.[ch]

	* help/ru/*: added Russian translation by <linuxbox@degunino.net>.

2002-08-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c: 
	* src/dlg-extract.c: 
	* src/window.c: 
	* src/dlg-batch-add.c: fixed some locale-UTF8 translations bugs.

2002-08-23  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-batch-add.c (add_clicked_cb): translate archive name to 
	locale.

	* src/window.c (key_press_cb): show popup menu when pressing SHIFT-F10.

2002-08-21  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c: 
	* src/window.h: 
	* src/toolbar.h: 
	* src/menu.h: Changed menu and toolbar to make it follow the HIG. 
	Added "Deselect All", "View Toolbar", "View Statusbar" and "Reload"
	commands.

	* src/dlg-extract.c (ok_clicked_cb): 
	* src/window.c (_window_batch_start_current_action): when extracting
	multiple archives let the user specify the destination folder only 
	once.
	(_window_update_title): make the title follow the HIG.

2002-08-20  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-batch-add.c: 
	* src/dlg-extract.c: 
	* src/window.c: 
	* src/window.h: 
	* src/main.c: added ability to extract multiple archives (fixed bug 
	#90849).
	
	* scripts/Extract_here: 
	* scripts/Extract_to: these scripts can accept multiple arguments now.

2002-08-19  Paolo Bacchilega  <paolo.bacch@tin.it>
	
	* src/file-data.c (file_data_get_type_description): new function.
	
	* src/window.c (sort_by_type): 
	(update_file_list_idle): use file_data_get_type_description.

2002-08-16  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/C/file-roller.xml: remove the "install scripts" documentation.
	* help/C/figures/fr-prefs.png: New screenshot.
	* src/dlg-preferences.c (dlg_preferences): 
	* src/main.c (initialize_data): remove the "install Nautilus scripts"
	option.

2002-08-13  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-add.c (open_file_ok_cb): check directory permissions 
	before adding files.

2002-08-12  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (bookmark_selected_cb): convert path to locale.

	* file-roller.desktop.in (Categories): Added GNOME.
	* src/menu.h: re-arranged menus.

2002-08-10  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: Remove 'Archive' from the labels of the File menu.
	* src/window.c (window_update_history_list): Put the recent files list
	in a submenu ala gedit.

	* help/C/file-roller.xml: Document the compression level option.
	* help/C/figures/fr-prefs.png: New screenshot.
	
2002-08-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-cfile.c:
	* src/fr-command-lha.c:
	* src/fr-command-zip.c:
	* src/fr-command-tar.c:
	* src/fr-command.c:
	* src/fr-archive.c:
	* src/preferences.c:
	* src/window.c:
	* src/dld-delete.c: Added a compression level option.

2002-08-03  Paolo Bacchilega  <paolo.bacch@tin.it>

	* file-roller.spec.in: file-roller-2.0.mo -> file-roller.mo

	* src/file-list.c: 
	* src/fnmatch.c: 
	* src/fnmatch.h:
	* configure.in: 
	* acinclude.m4: Added patch from Claudio Bley to cope with systems
	that do not have FNM_CASEFOLD defined.

2002-08-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in (GETTEXT_PACKAGE): set GETTEXT_PACKAGE to file-roller,
	bug #89641.

	* src/fr-archive.c (fr_archive_new_file): 
	* src/window.c (window_archive_new): Fixed bug #89664

	* src/menu.h: Removed some ... in menu labels.

2002-08-01  Christophe Fergeau <teuf@users.sourceforge.net>

	* configure.in: renamed fr_FR.po to fr.po

2002-07-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in (GNOME_VFS_REQUIRED): updated required libraries 
	version.

	* src/dlg-viewer.c (dlg_viewer): do not let edit the text.

2002-07-24  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/C/file-roller.xml: s/directory/folder/g

2002-07-23  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c (install_scripts): ensure the existence of the scripts
	folder before installing the scripts.

2002-07-19  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/fr-command-zip.c (mktime_from_string): Fixed year computation.

	* src/dlg-preferences.c (dlg_preferences): Add an option to install or
	remove Nautilus scripts.

2002-07-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (open_nautilus): escape folder name.

	* src/main.c (install_scripts): New functions to install the nautilus
	scripts.
	* src/preferences.[ch]: New option to keep trace whether we need to 
	install the scripts.
	
	* scripts/Add_to_archive: 
	* scripts/Extract_here: 
	* scripts/Extract_in_a_subfolder: 
	* scripts/Extract_to: Fixed handling of paths with spaces.
	
2002-07-11  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (open_nautilus): Use g_spawn_command_line_async instead
	of gnome_execute_shell and display an error dialog if this is the case.

2002-07-08  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_view_last_output): 
	* src/misc.c (misc_error_dialog_new): Use bytes_written as text len.

2002-07-06  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_close): destroy the tooltips when closing 
	the window.

2002-07-05  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/C/file-roller.xml: Updated documentation of the extraction
	dialog.

	* src/dlg-extract.c (dlg_extract): 
	* src/dlg-preferences.c (dlg_preferences): Add the help button.

	* src/fr-process.c (start_current_command): Free command string.

2002-07-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file_roller.glade2: reorganize the extraction dialog.
	
	* src/dlg-extract.c: 
	* src/window.c (_action_performed): 
	* src/preferences.c: Add an option to view the destination folder 
	after the extraction.

2002-07-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (window_view_file): 
	(window_open_files): 
	* src/fr-archive.c (fr_archive_extract): create the temp dirs with 0700
	mode.

	* src/window.c (file_list_drag_begin): 
	(window_archive_extract): 
	* src/dlg-extract.c (ok_clicked_cb): create destination dirs with 0755 
	mode.

	* src/dlg-add.c (save_options_cb): 
	(load_options_cb): Create .file-roller dir with 0700 mode.

	* src/file-utils.c (ensure_dir_exists): Add a mode parameter.
	
2002-06-30  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/misc.c (misc_error_dialog_new): set resizable to FALSE.

	* POTFILES.in: updated.

2002-06-28  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-open-with.c (app_activated_cb): 
	(recent_activated_cb): Use row_activated signal to start command.

2002-06-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/misc.c (misc_error_dialog_new): 
	* src/window.c (window_view_last_output): convert to UTF-8 before
	displaing output.

2002-06-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (_window_update_sensitivity): make password item 
	sensitive only when the command support passwords.
	(get_file_list_from_url_list): unescape dropped files paths.

	* src/menu.h: options menu re-arranged.
	
2002-06-17  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: actions menu re-arranged.

	* src/dlg-extract.c (ok_clicked_cb): Check directory existence and 
	permissions here and do not close the dialog if an error occurred so
	the user can re-type the directory without invoking the command again.

	* src/window.c (open_files): 
	* src/main.c (command_done): 
	(release_data): remove temp dirs at exit, not when the external
	applications are closed.	

	* src/fr-process.c (fr_process_finalize): do not emit signals when
	finalizing the process.

2002-06-09  Paolo Bacchilega  <paolo.bacch@tin.it>

	* Makefile.am:
	* configure.in: remove viewer subdir.

	* src/window.c (view_file): Use Nautilus as document viewer.  If the
	file has no mime type or action associated use the internal viewer.

	* src/dlg-viewer.h: 
	* src/dlg-viewer.c: The internal viewer is now a simple text viewer.

	* src/gnome-vfs-helpers.h: 
	* src/gnome-vfs-helpers.c: Used by the internal viewer to load the 
	document.

2002-06-08  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/dlg-password.c: 
	* src/dlg-password.h: New files.  Implement the password dialog.

	* src/window.h: 
	* src/window.c: Added a password variable.
	
	* src/fr-command.h: 
	* src/fr-command.h: Added a password argument to add and extract.

	* src/fr-command-zip.c (fr_command_zip_test): Implement the test.

	* src/fr-command.h:
	* src/fr-command.c: Added a virtual test function.

	* src/fr-process.c (fr_process_set_err_line_func): new function used
	to process the standard error.
	(fr_process_set_out_line_func): renamed fr_process_set_proc_line_func
	to fr_process_set_out_line_func.

	* src/fr-process.h: Added an error buffer.

	* src/fr-process.c (start_current_command): uses 
	g_spawn_async_with_pipes.

2002-06-05  Paolo Bacchilega  <paolo.bacch@tin.it>

	* help/*: Manual.
	
	* src/*.glade2
	* src/dlg-add.c (add_cb): Added mnemonics to all dialogs.

2002-06-03  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/file-utils.c: add ';' to bad_char.

2002-05-27  Paolo Bacchilega  <paolo.bacch@tin.it>

	* configure.in: added AC_PREREQ(2.50)

2002-05-18  Paolo Bacchilega  <paolo.bacch@tin.it>

	* all files: merged changes from file-roller 1.0.1

2002-05-04  Paolo Bacchilega  <paolo.bacch@tin.it>

	* viewer/main.c (build_component_menu): Use a menu to show available 
	components.

2002-05-03  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/window.c (get_icon): Add a reference to the pixbuf if we use an
	internal icon.
	(get_icon_path_from_name): Add .nautilus/themes to the search path.

2002-05-02  Paolo Bacchilega  <paolo.bacch@tin.it>

	* scripts/: Added Extract_here and Extract_in_a_subfolder 

2002-04-29  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/main.c (prepare_app): Added '--force' command line option.

2002-04-26  Paolo Bacchilega  <paolo.bacch@tin.it>

	* src/menu.h: Added some keyboard shortcuts.
	
	* imported all files
