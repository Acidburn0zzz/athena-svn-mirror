


   19 August 1992                                                 PSCATMAP(8)






   NAME
     pscatmap-build ptroff width tables from AFM files

   SYNOPSIS
     XPSLIBDIRX/pscatmap _m_a_p_f_i_l_e

   DESCRIPTION
     _p_s_c_a_t_m_a_p builds correspondence tables and width tables so that documents
     produced with original [o]troff (1) can be translated into POSTSCRIPT
     language programs by pscat.  _p_s_c_a_t_m_a_p parses a human-readable mapping
     table and generates five output files- a family.ct file containing the
     character correspondence table for pscat, and four ft?? files, to be
     used as troff width tables.  On most BSD systems, these files are C pro-
     grams (ft_x_x.c) to be compiled into widths tables.  On most System V sys-
     tems, these files are the binary width tables themselves.  Other systems
     may use ASCII font width tables.

     The structure of the files is relatively easy to understand.  If you
     want to create your own, the best thing to do is use an existing one as
     a template.  Lines that begin with "%" are comments.  Blank (empty)
     lines are ignored.  Lines beginning with  "@" are command lines. The
     following command lines are understood:

     @FAMILYNAME _f_a_m_i_l_y
                  where _f_a_m_i_l_y is a single token.  This specifies the base
                  name for the generated .ct file.

     @FACENAMES _r_f _i_f _b_f _s_f
                  where _r_f, _i_f, _b_f, and _s_f, are the two-letter troff face
                  codes for the Roman (font 1), Italic (font 2), Bold (font
                  3) and Symbol (font 4) fonts, respectively. _p_s_c_a_t_m_a_p will
                  generate files with the names: ft_r_f[.c], ft_i_f[.c],
                  ft_b_f[.c], ft_s_f[.c].

     @BEGINFONTS  starts the section that identifies which fonts will be a
                  part of this mapping and defines short names for these
                  fonts (to be used in a later section of the map file).
                  @BEGINFONTS is followed by a sequence of lines of the form:
                  shortname=_f_o_n_t_n_a_m_e

     @ENDFONTS    terminates this section.

     @BEGINMAP    begins the real correspondence description.  What follows
                  are a sequence of lines, each line describing a character
                  action mapping.  Each line represents one character.  A
                  line contains the troff character code, the troff face code
                  (R, I, B, or S), the C/A/T character code, the character
                  width, the character action, x and y offsets for position
                  adjustments, the font and character code to map to, and a
                  short text description of the font.


   Adobe Systems                                                            1






   PSCATMAP(8)                                                 19 August 1992


                  The best way to understand all this is to look at the map
                  files already in the library and use them as examples.
                  They have copious comments to help explain what they do.

     @ENDMAP      delimits the end of this section.

     @INCLUDE _f_i_l_e
                  reads commands from the named _f_i_l_e until it is exhausted,
                  then switches back to the current input file.  This command
                  may appear in included files (that is, include files may be
                  nested).  This may be used to include the standard
                  correspondence description, for example.

   ENVIRONMENT

     PSLIBDIR
          path name of a directory to use instead of XPSLIBDIRX for AFM files

   FILES

     XPSLIBDIRX/*.afm    font metrics files

     _f_a_m_i_l_y.map          input mapping file

     _f_a_m_i_l_y.ct           generated correspondence table

     ft_x_x[.c]            generated width files

   SEE ALSO
     pscat(1), ptroff(1), transcript(1)
     BSD: troff(1).
     System V: otroff(1), _D_o_c_u_m_e_n_t_e_r'_s _W_o_r_k_b_e_n_c_h.

   AUTHOR
     Adobe Systems Incorporated

   BUGS
     Mounting anything but a font named "S" in position 4 will cause troff to
     do unexpected things. troff really expects the symbol font to be named
     "S".  Thus every font family defined should have identical symbol faces.
     You can specify some other face name in the @FACENAMES line for the
     fourth font, but don't ".fp" it in troff.

   NOTES
     POSTSCRIPT is a registered trademark of Adobe Systems Incorporated.
     Documenter's Workbench is a trademark of AT&T Technologies.










   2                                                            Adobe Systems


99