.TH FPCOMM 8 "18 August 1992" "MiLAN Technology"
\" Copyright (c) 1991,1992 Milan Technology. All Rights Reserved.
\" RCSID: $Header: /afs/dev.mit.edu/source/repository/third/transcript/man/fpcomm.8p,v 1.1.1.1 1996-10-07 20:25:38 ghudson Exp $
.ds PS P\s-2OST\s+2S\s-2CRIPT\s+2
.ds TS T\s-2RAN\s+2S\s-2CRIPT\s+2
.SH NAME
fpcomm\(em\*(TS Ethernet communication filter for
communicating with \*(PS printers via FastPort printer
servers
.SH "SYNOPSIS"
.B XPSLIBDIRX/fpcomm
.SH "DESCRIPTION"
This is the low-level \*(TS Ethernet communication filter for use
by the  
System V or BSD line printer spooling system for communicating with a \*(PS
printer via a MiLAN FastPort print server. It is called from the
printer interface script for the printer.
There are a number of options for fpcomm that get set from the 
configuration file 
\.fpconfig 
in the spool directory for 
the printer.  
The syntax for the \.fpconfig file
is as follows (any number of the entries can appear.)

.TP 0.6i
hostname \fIname\fP
specifies the IP
.I name
for the FastPort.
.TP 0.6i
serial        
sends to the serial port.
.TP 0.6i
parallel  
sends to the parallel port.
.TP 0.6i
ctrld  
sends a control D before and after the job\(emthis initializes the \*(PS
printer. 
.TP 0.6i
formfeed 
sends a formfeed after the job.
.TP 0.6i
dobanner 
looks for file .banner in the current working directory and submits it
before the job.
.TP 0.6i
startfile \fIfile\fP
send \fIfile\fP before the job\(emthis can be used
to download an error handler, for example.
.TP 0.6i
endfile \fIfile\fP
sends
.I file
after the job.
.TP 0.6i
startstring \fIstring\fP
sends
.I string
before the job. This can be used
to set printer modes\(emi.e., send escape sequences.
.TP 0.6i
endstring \fIstring\fP
sends \fIstring\fP after the job\(emresets the printer through escape
sequences to 
a particular mode)
.TP 0.6i
P_CLASS      
list of names of parallel printers\(emprint on the first available.
.TP 0.6i
S_CLASS 
List of names of serial printers\(emprint on the first available.
.TP 0.6i
mail \fIusername\fP
sends mail to 
.I username
with any errors or the destination printer name if P-CLASS or S-CLASS
was used.
.TP 0.6i
program \fIprogname\fP
executes
.I progname
for error messages or return messages.
.TP 0.6i
errorfile \fIfilename\fP
stores any errors that occurred in
.I filename.
.TP 0.6i
syslog    
records error messages in syslog file.

.PP
If both startstring and startfile are set, startstring will be sent first
followed by startfile.  If both endfile and endstring are, endfile will be
sent before endstring.

The syntax for escape in the start or stop strings is "M-", and the syntax
for control is "C^".  

Using the \.fpconfig file, you can set the printer mode, execute
commands after printing, get notifications regarding print jobs etc.
If you do not want to place the \.fpconfig file in the spool directory or
if you want to call it by some other name, then you can use the
PRINTER_CONFIG environment variable to specify the location of the
configuration file.
.SH ENVIRONMENT
.IP PRINTER_CONFIG
location of the configuration file
.SH "SEE ALSO"
transcript(1), lp(1), lpstat(1), lpsched(1M), lpadmin(1M), psinterface(8),
psint(8) 
.br
.I System V Line Printer Spooling Utilities
.br
.I 4.2BSD Line Printer Spooler Manual
.SH AUTHOR
MiLAN Technology Corporation
.SH NOTES
\*(PS is a registered trademark of Adobe Systems Incorporated.
.br
\*(TS is a trademark of Adobe Systems Incorporated.
.br
Unix is a trademark of AT&T Bell Laboratories.
.br
FastPort is a trademark of MiLAN Technology.

