.TH PSINTERFACE 8 "19 August 1992" "Adobe Systems"
\" Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved.
\" ATTN GOVERNMENT END USERS: See notice of rights in file XPSLIBDIRX/Notice
\" RCSID: $Header: /afs/dev.mit.edu/source/repository/third/transcript/man/psinterface.8p,v 1.1.1.1 1996-10-07 20:25:38 ghudson Exp $
.ds PS P\s-2OST\s+2S\s-2CRIPT\s+2
.ds TS T\s-2RAN\s+2S\s-2CRIPT\s+2
.SH NAME
psinterface\(em\*(TS spooler filters for \*(PS printers
.SH "SYNOPSIS"
.B psinterface
.SH "DESCRIPTION"
The
.I psinterface
shell script is the printer interface program as supplied to 
lpadmin.
The options are as specified in the
.I Line Printer Spooling Utilities Guide.
This shell script reads a printer-specific shell script named 
transcript/\fIprinter\fP.opt
below the current working directory (the lp spooling directory) which
may do additional printer-specific processing.
The \fIprinter\fP.opt script is often used to redefine the values of
some environment variables that regulate page-reversal,
how to print banner pages, etc. for specific printers.  See below.
.PP
.I Psinterface
is responsible for the complete processing of the print job, invoking
programs to accomplish banner pages, document management, and
communications.  
If job banner break pages are enabled for this printer (and requested
for this job),
.I psinterface
will invoke
psbanner
to format a banner break page.
.I Psinterface
currently recognizes three \*(TS-specific spooling options (presented to 
lp
with the
.B \-o
flag). The 
.B h
option suppresses the printing of a banner break page, the
.B r
option suppresses page reversal, and the 
.B m
option causes 
.I psinterface
to send any stream output from the execution of the user's \*(PS
print file back to the user as mail.
.PP
The 
.I psinterface 
script also invokes a communications program for communicating with the
printer.  Communications programs are provided for serial
communications, Centronix parallel communications, Appletalk
communications, and Ethernet
communications with either a QMS printer or a MiLAN FastPort printer
server. 
.I Psinterface 
and the communications program
manage a printer log file named
transcript/\fIprinter\fP-log (under the lp spooling directory).
This file contains a log of each job processed, as well as any
error output from the printer.  In particular, it contains messages
regarding the printer being out of paper, jammed, etc.  Doing a 
tail
on this file will help determine the printer's status.
.PP
.B "psinterface Environment Variables."
.br
A number of environment variables are used by the spooler filters.
These are listed below.
The
.I psinterface
script sets the initial value for each,
and the \fIprinter\fP.opt file can be used to change the value for a
particular printer.
Note that Bourne shell syntax must be used in both
.I psinterface,
and the \fIprinter\fP.opt file.
Many of the variables take a number value and specify whether or not
an action should take place; 1 means do the action and
0 means don't do it.
.PP
.ta 2.25i
.tc 
BANNERFIRST=\fInumber\fP	print a banner at start of the job
.br
BANNERLAST=\fInumber\fP	print a banner at end of the job
.br
BANNERPRO=\fIfile name\fP	banner prologue file
.br
VERBOSELOG=\fInumber\fP	print verbose log messages
.br
PSTEMPDIR=\fIdirectory name\fP	directory for temporary files
.PP
You can change the banner page for a particular printer by redefining
the BANNERPRO value.
.SH FILES
.TP 2.2i
XPSLIBDIRX/
\*(TS library, prologues, filters, etc
.TP 2.2i
\fIspooldir\fP/transcript/\fIprinter\fP-log
printer log file
.TP 2.2i
\fIspooldir\fP/transcript/\fIprinter\fP.opt
printer-specific options script
.TP 2.2i
XPSTEMPDIRX/b*
banner break page temporary file generated by 
.IR psinterface/psbanner
.TP 2.2i
XPSTEMPDIRX/o*
job output temporary file for mail
.TP 2.2i
XPSTEMPDIRX/t*
temporary file to format text files
.SH "SEE ALSO"
transcript(1), lp(1), lpstat(1), lpsched(1M), lpadmin(1M), psdman(8),
pscomm(8), qmscomm(8), lpcomm(8), fpcomm(8), capcomm(8)
.br
.I System V Line Printer Spooling Utilities Guide
.SH AUTHOR
Adobe Systems Incorporated
.SH NOTES
\*(PS is a registered trademark of Adobe Systems Incorporated.
.br
\*(TS is a trademark of Adobe Systems Incorporated.
