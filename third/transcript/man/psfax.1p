.TH PSFAX 1 "23 June 1992" "Adobe Systems"
\" Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved.
\" ATTN GOVERNMENT END USERS: See notice of rights in file XPSLIBDIRX/Notice
\" RCSID: $Header: /afs/dev.mit.edu/source/repository/third/transcript/man/psfax.1p,v 1.2 1996-10-14 05:09:46 ghudson Exp $
.ds PS P\s-2OST\s+2S\s-2CRIPT\s+2
.ds TS T\s-2RANS\s+2S\s-2CRIPT\s+2
.SH NAME
psfax \- send faxes to PostScript fax printers
.SH SYNOPSIS
.B psfax
[ 
.B -lct
] [
.BI -k key
] [
.BI -f dbfile
] [
.BI -d faxnumber
] [
.BI -S opt=value
] [
.BI -n recipientname
] [
.BI -p out
]
.br
[
.BI -P printer
] [
.I files
]
.SH DESCRIPTION
.I psfax
reads in \*(PS language documents and inserts the appropriate \*(PS
language to
allow those 
files to be sent as faxes by a \*(PS fax printer.  Details about the fax
such as recipient, phone number, sender, etc, may be specified on the
command line or by looking in a phone book.
.sp
For example:
.RS
psfax -Paleph -dT9,5551234 -n"John Smith" memo.ps
.RE
will cause memo.ps to be imaged, converted into fax format, and faxed to
555-1234, with John Smith's name on the cover sheet as the recipient. 
.RS
psfax -Paleph -kjsmith -t picture.ps
.RE
will look up the entry for jsmith in the phone book and instruct the
printer to send picture.ps as a \*(PS language document, rather than
imaging and sending it
as a fax, to the \*(PS fax printer aleph. 
.sp
.I Psfax
supports an address book mechanism.  The format of the file consists
of a key on a line, followed by a set of lines of the form "option=value".
The entry for a key is terminated by a single "." on a line.  Multiple values
for the key are allowed, separated by "\||\|".  You can specify a key
"always" 
for information, such as your name,  you wish to have included in every fax.
Comments are indicated by lines beginning with '%'.
Entries of the form "option:value" indicate that, instead of assigning the
string "value" to the option, "value" indicates a file name, and the
contents of the file should be assigned to
the option.  This is most often used for specifying \*(PS language
procedures for items such as coversheets.
.sp
You can also set up an entry that is a list of other entries.  Lines that
begin with "/list=", followed by a list of keys in the database, allow you
to send the same fax to a list of people.  You can specify "option=value"
or "option:value" 
pairs in the list entry, and those pairs will hold for all
the faxes and override any matching entry in the individual entry for a
given key in the list.
.PP
A sample address book file looks like this:
.EX
.nf
% Sample address book
always
SenderName=Joe Smith
SenderOrg=High Tech Software, Inc.
.I .
Steve Jones\||\|steve\||\|Steve
RecipientName=Steve Jones
RecipientOrg=Really Fast Chips
DialCallee=T95552337
CoverSheet:specialcover.ps
.I .
Anne Miller\||\|anne
RecipientName=Anne Miller
RecipientOrg=Brand New Hardware Co.
DialCallee = T918005553849
.I .
vendors
/list=anne, steve
CoverSheet:ordercover.ps
.I .
.EE
.fi
.sp
The environment variable PSFAXDB may be used to specify the location of the
address book file, or it may be specified from the command line.  The
default location for the file is in $HOME/.faxdb.
.sp
The possible options for
.I psfax
are:
.TP
.BI -k key
specifies the key to look up in the address book.
.TP
.BI -f dbfile
specifies the location of the address book file.  Default is $HOME/.faxdb. 
.TP
.BI -d faxnum
specifies the fax number of the recipient.  This must be in the form a fax
modem can handle.  This option is useful when sending a fax to someone not
in your address book, or when sending to someone in your address book but
at a different fax number.  The fax number must be specified somewhere,
either with this switch or in the database.
.TP
.B -t
if specified, sends the fax as a \*(PS language document, rather than as
rasterized fax. 
.TP 
.B -c
don't use the address book.
.TP
.BI -n name
specifies the RecipientName to be
.I name
from the command line.
.TP
.BI -P printer
specifies the printer for spooling.
.TP
.BI -p outfile
specifies the file for saving output.
.TP
.BI -S option=value
.TP
.BI -S option:value
sets various options to either
.I value
(if specified with "="), or the
contents of the file
.I value
(if specified with ":").  The set of options, and their types, that are
supported are:
.PP
.IP DialCallee (string)
phone number of fax machine to call.
.IP RecipientName (string)
.IP RecipientPhone (string)
non-fax phone.
.IP RecipientOrg (string)
.IP RecipientMailStop (string)
.IP RecipientID (string)
.IP SenderName (string)
.IP SenderPhone (string)
.IP SenderOrg (string)
.IP SenderMailStop (string)
.IP SenderID (string)
.IP CallerID (string)
identification string as allowed by CCITT protocol.
.IP CalleePhone (string)
human-readable version of DialCallee.
.IP CallerPhone (string)
human-readable version of calling fax number.
.IP FaxType (integer)
0 for low resolution, 1 for high resolution.
.IP ErrorCorrect (boolean)
controls whether error correction in the
transmission should occur; default is true.
.IP TrimWhite (boolean)
controls whether white space at the top and bottom is
removed before sending; default is false.
.IP PageCaption (procedure)
a \*(PS language procedure to generate a line of
information (such as often appears at the top of faxes) on each page of the
fax.  There is a default procedure to do 
this. 
.IP MaxRetries (integer)
indicate the number of additional tries beyond the
first that should be made before giving up.  
.IP RetryInterval (integer)
number of minutes to wait between retries.
.IP MailingTime (array of integers)
for delayed transmission.  The array
contains year, month, day, hour, minute, second.
.IP CoverSheet (procedure)
a \*(PS language procedure to generate cover sheets.  There
is a default procedure to do this. 
.IP Confirmation (procedure)
a \*(PS language procedure to print a confirmation sheet
locally.  There is a default procedure to do this.
.IP nPages (integer)
supplies an estimate of the number of pages exclusive of
automatically generated cover sheets.  
.IP CoverSheetOnly (boolean)
indicates that a job consisting solely of a
coversheet is okay.  The default is false.
.IP RevertToRaster (boolean)
controls what happens if the receiving machine
refuses to accept a \*(PS language job.  The default is true.
.IP PostScriptPassword (string)
the password to use in gaining permission to
transmit the fax as a \*(PS language document.
.SH ENVIRONMENT
.IP PSFAXDB
location of the address book file
.SH "SEE ALSO"
transcript(1)
.SH AUTHOR
Adobe Systems Incorporated
.SH NOTES
\*(PS is a registered trademark of Adobe Systems Incorporated.
