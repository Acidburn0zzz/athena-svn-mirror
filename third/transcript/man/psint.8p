.TH PSINT 8 "19 August 1992" "Adobe Systems"
\" Copyright (c) 1992 Adobe Systems Incorporated. All Rights Reserved.
\" ATTN GOVERNMENT END USERS: See notice of rights in file XPSLIBDIRX/Notice
\" RCSID: $Header: /afs/dev.mit.edu/source/repository/third/transcript/man/psint.8p,v 1.1.1.1 1996-10-07 20:25:39 ghudson Exp $
.ds PS P\s-2OST\s+2S\s-2CRIPT\s+2
.ds TS T\s-2RAN\s+2S\s-2CRIPT\s+2
.SH NAME
psint\(em\*(TS interface script for \*(PS printers
.SH "SYNOPSIS"
.B XPSLIBDIRX/ps?f
.SH "DESCRIPTION"
This is the low-level \*(TS interface script for use by the 
BSD line printer spooling system through the printer description file 
/etc/printcap .  
The 
.I ps?f
entries in XPSLIBDIRX are all links to the 
.I psint.sh
shell script.  This script uses argv[0] (the name it was invoked under)
to determine which action to take.
The options are as specified in the
.I 4.2BSD Line Printer Spooler Manual.  
This shell script reads a printer-specific shell script named 
.options
in the current working directory (the spooling directory) which
may do additional printer-specific processing.
The .options script is often used to redefine the values of some
environment variables that regulate page-reversal, how to print
banner pages, etc.  See below.
.PP
The 
.I psof
entry is responsible for formatting a banner break page.  It executes
the 
psbanner
filter which leaves the banner page in a file named ".banner"
for 
the communications program
to print.
The 
.I psint.sh
interface script is responsible for invoking programs to do translation if
necessary, document
management, and communication with the printer.
.PP
.I psgf, psnf,
and
.I pstf
are the filters for
plot (5), 
ditroff (1), 
and
troff (1)
respectively.  
The 
.I psif
filter will also accept any \*(PS language print file.
Other filter entries, such as those for 
TeX DVI 
files,
cifplot,
and raw raster data are not available in the \*(TS package,
although they may be available from other sources.
The default action for these filter types is to execute 
psbad,
a script that prints and logs an error message that the
translation filter is not available.
The translation filters are usually invoked by giving an option to
lpr(1).
It is not correct to invoke the interface filters
directly.
More flexibility in format conversion may be achieved by
invoking the appropriate translator directly, rather than specifying an
lpr
option.
.PP
.B "psint.sh Environment Variables."
.br
A number of environment variables are used by the spooler filters.
These are listed below.
The
.I psint.sh
script sets the initial value for each,
and the .options file can be used to change the value for a
particular printer.
Note that Bourne shell syntax must be used in both
.I psint.sh
and the .options file.
Many of the variables take a numerical value and specify whether
an action should take place or not; 1 means do the action and
0 means don't do it.
.PP
.ta 2.25i
.tc
BANNERFIRST=\fInumber\fP	Print a banner at start of the job
.br
BANNERLAST=\fInumber\fP	Print a banner at end of the job
.br
(see note below)	0=no banner at the end
.br
	1=don't unlink the .banner file
.br
	2=unlink .banner after use
.br
BANNERPRO=\fIfile name\fP	banner prologue file
.br
VERBOSELOG=\fInumber\fP	print verbose log messages
.br
PSCOMM=\fIpath name\fP	specify the communication program to be used.
.br
PSDMAN=\fIpath name\fP	specify the document management program to be used.
This is useful for specifying various switches to psdman(8).
.sp
.B Note:
Due to some problems with the design of lpd(8), there is no
implementation of BANNERLAST that will work in all cases.
Two options are provided:
.sp
BANNERLAST=1. 
This prints out a banner between each copy in a multiple-copy job.
It also may print out \fIthe previous user's\fP banner on a job that has
specified no banner
(lpr -h).
.sp
BANNERLAST=2.
This never prints a banner on a job that has specified no banner
(lpr -h).
However, it prints a banner after \fIthe first copy\fP only in a
multiple-copy job.
It should be after all copies or after the final copy.
.PP
You can change the banner page for a particular printer by redefining
the BANNERPRO value.
.SH FILES
.TP 2.2i
XPSLIBDIRX/
\*(PS library, prologues, filters, etc
.IP .options
printer-specific options script (in the printer spool directory)
.TP 2.2i
\fIprinter\fP.acct
printer accounting file
.TP 2.2i
\fIprinter\fP-log
printer log file
.IP .banner
Banner break page temporary file (in the spool directory), generated by 
.IR psof/psbanner .
.TP 2.2i
status
Printer status file (in the spool directory), shared by 
lpd(8),
and
the communications program.
.SH "SEE ALSO"
transcript(1), lpr(1), lpc(8), lpd(8), printcap(5), psdman(8), pscomm(8),
qmscomm(8), lpcomm(8), fpcomm(8), capcomm(8).
.br
.I 4.2BSD Line Printer Spooler Manual
.SH AUTHOR
Adobe Systems Incorporated
.SH NOTES
\*(PS is a registered trademark of Adobe Systems Incorporated.
.br
\*(TS is a trademark of Adobe Systems Incorporated.
.br
TeX is a trademark of the American Mathematical Society.
.br
Unix is a trademark of AT&T Bell Laboratories.

