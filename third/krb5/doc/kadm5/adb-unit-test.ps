%!PS-Adobe-2.0
%%Creator: dvips 5.526 Copyright 1986, 1994 Radical Eye Software
%%Title: adb-unit-test.dvi
%%CreationDate: Tue Sep 10 23:31:21 1996
%%Pages: 2
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Roman Times-Bold
%%EndComments
%DVIPSCommandLine: dvips -o adb-unit-test.ps adb-unit-test.dvi
%DVIPSParameters: dpi=600, comments removed
%DVIPSSource:  TeX output 1996.09.10:2151
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR matrix currentmatrix dup dup 4 get round 4 exch put dup dup 5 get
round 5 exch put setmatrix}N /@landscape{/isls true N}B /@manualfeed{
statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0
0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn
begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X
array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo
setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{/sf 1 N /fntrx
FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /E{
pop nn dup definefont setfont}B /ch-width{ch-data dup length 5 sub get}
B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128 ch-data dup
length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127 sub}B
/ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type
/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp
0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2
index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoff
ch-yoff ch-height sub ch-xoff ch-width add ch-yoff setcachedevice
ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff .1 add]{
ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}if nn
/base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1
sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{cc 1 add D
}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin 0 0
moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul add
.99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage
userdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 -.1 TR 1 1 scale rulex ruley
false RMat{BDot}imagemask grestore}}{{gsave TR -.1 -.1 TR rulex ruley
scale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave
transform round exch round exch itransform moveto rulex 0 rlineto 0
ruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta
0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}
B /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{
3 M}B /k{4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p
-1 w}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{
3 2 roll p a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont load]cvx def}def
/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600
(/u1/krb5-beta7/doc/kadm5/adb-unit-test.dvi) @start /Fa
135[33 1[33 33 18 26 22 1[33 33 33 52 1[33 18 18 3[29
33 29 33 29 27[41 10[18 33 33 2[33 33 1[33 33 33 18 17
22 17 44[{}31 66.666664 /Times-Roman rf /Fb 1 4 df<00600000700000600000
6000406020E06070F861F07C63E00F6F0003FC0000600003FC000F6F007C63E0F861F0E0
607040602000600000600000700000600014157B9620>3 D E /Fc
138[46 28 32 37 2[42 46 69 7[37 2[46 42 13[46 60 3[60
19[28 58[{}14 83.333336 /Times-Bold rf /Fd 69[37 11[46
3[37 48[42 42 60 42 42 23 32 28 42 42 42 42 65 23 42
1[23 42 42 28 37 42 37 42 37 10[60 1[51 46 55 1[46 60
60 1[51 60 1[28 2[46 51 60 55 55 60 7[42 42 42 42 42
42 42 42 42 42 1[21 28 21 1[42 28 28 40[{}59 83.333336
/Times-Roman rf /Fe 138[65 39 45 52 2[58 65 1[32 65 1[32
1[58 1[52 65 52 65 58 23[45 22[58 58 49[{}18 116.666672
/Times-Bold rf /Ff 139[28 39 33 1[50 50 50 78 4[50 2[44
2[50 44 13[55 7[72 39 33 15[50 2[50 4[50 50 1[25 1[25
44[{}21 100.000000 /Times-Roman rf /Fg 1 4 df<00007000000000F800000000F8
00000000F800000000F800000000F800000000F800000000F800000000F8000000007000
0078007000F07C007001F0FF007007F87F80700FF03FE0703FE00FF0707F8003F870FE00
00FE73F800003F77E000000FFF80000003FE00000000F800000003FE0000000FFF800000
3F77E00000FE73F80003F870FE000FF0707F803FE0703FE07F80700FF0FF007007F87C00
7001F078007000F000007000000000F800000000F800000000F800000000F800000000F8
00000000F800000000F800000000F800000000700000252B7AAD32>3
D E /Fh 138[71 39 55 47 1[71 71 71 110 3[39 3[63 71 63
71 63 10[102 102 86 78 2[78 102 5[47 4[102 2[102 22[71
42[{}24 141.666672 /Times-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop 898 739 a Fh(OpenV*Secure)32 b(Admin)i(Database)g(API)1343
922 y(Unit)i(T)-10 b(est)35 b(Description)2558 869 y
Fg(\003)1556 1162 y Ff(Jonathan)24 b(I.)h(Kamens)1550
1356 y(September)g(10,)g(1996)0 1719 y Fe(1)116 b(Intr)n(oduction)0
1904 y Fd(The)25 b(follo)n(wing)e(is)k(a)e(description)f(of)h(a)h
(black-box)c(unit)j(test)h(of)f(the)h(OpenV*Secure)d(Admin)h(Database)h
(API)h(\(osa)p 3497 1904 25 4 v 29 w(adb\).)43 b(Each)0
2004 y(API)21 b(function)d(is)j(listed,)g(follo)n(wed)d(by)i(the)g
(tests)i(that)e(shoud)f(be)h(performed)e(on)i(it.)125
2104 y(The)f(tests)j(described)d(here)g(are)h(based)g(on)g(the)g(\252O)
l(V*Secure)f(Admin)g(Serv)o(er)h(Implementation)d(Design\272)j(re)n
(vision)f(1.14.)0 2384 y Fe(2)116 b(osa)p 342 2384 35
4 v 43 w(adb)p 573 2384 V 41 w(get)p 763 2384 V 41 w(lock)29
b(and)f(osa)p 1417 2384 V 43 w(adb)p 1648 2384 V 41 w(r)n(elease)p
2030 2384 V 41 w(lock)0 2569 y Fc(Number:)41 b Fd(1)0
2702 y Fc(Reason:)f Fd(A)21 b(shared)f(lock)f(can)h(be)g(acquired.)0
2835 y Fc(Status:)41 b Fd(Implemented)0 3018 y Fc(Number:)g
Fd(2)0 3150 y Fc(Reason:)f Fd(An)21 b(e)o(xclusi)n(v)o(e)d(lock)i(can)g
(be)g(acquired)f(and)g(released.)0 3283 y Fc(Status:)41
b Fd(Implemented)0 3466 y Fc(Number:)g Fd(3)0 3599 y
Fc(Reason:)f Fd(A)21 b(permanent)d(lock)i(can)g(be)g(acquired)f(and)g
(released.)0 3732 y Fc(Status:)41 b Fd(Implemented)0
3914 y Fc(Number:)g Fd(4)0 4047 y Fc(Reason:)f Fd(Attempting)19
b(to)i(release)f(a)h(lock)e(when)h(none)f(is)i(held)f(f)o(ails)h(with)f
(NO)m(TLOCKED.)0 4180 y Fc(Status:)41 b Fd(Implemented)0
4363 y Fc(Number:)g Fd(5)0 4495 y Fc(Reason:)f Fd(T)-7
b(w)o(o)21 b(processes)f(can)g(both)f(acquire)g(a)i(shared)e(lock.)0
4628 y Fc(Status:)41 b Fd(Implemented)0 4811 y Fc(Number:)g
Fd(6)0 4944 y Fc(Reason:)f Fd(An)14 b(attempt)g(to)g(acquire)g(a)g
(share)o(d)g(lo)o(ck)f(wh)o(ile)h(an)o(oth)o(er)f(pro)o(cess)h(h)o
(olds)f(an)g(e)o(x)o(clusi)n(v)n(e)h(lo)o(ck)f(f)o(ails)h(with)f
(CANTLOCK)p 3745 4944 25 4 v 24 w(DB.)0 5077 y Fc(Status:)41
b Fd(Implemented)0 5259 y Fc(Number:)g Fd(7)p 0 5314
1560 4 v 84 5367 a Fb(\003)120 5391 y Fa(/mit/krb5/.cvsroot/doc/kadm5/)
q(adb-)q(unit)q(-te)q(st.tex,v)22 b(1.1)17 b(1995/08/10)i(22:41:08)g
(bjaspan)g(Exp)1929 5656 y Fd(1)p eop
%%Page: 2 2
2 1 bop 0 390 a Fc(Reason:)40 b Fd(An)14 b(attempt)g(to)g(acquire)g(an)
g(e)n(xclu)o(si)n(v)o(e)f(lock)g(wh)o(ile)h(an)o(oth)o(er)f(pr)o(ocess)
h(h)o(old)o(s)g(a)g(sh)o(ared)f(lo)o(ck)g(f)o(ails)h(with)f(CANTLOCK)p
3745 390 25 4 v 24 w(DB.)0 523 y Fc(Status:)41 b Fd(Implemented)0
706 y Fc(Number:)g Fd(8)0 839 y Fc(Reason:)f Fd(An)21
b(attempt)e(to)i(open)e(the)h(database)g(while)g(a)h(process)e(holds)h
(a)h(permanent)d(lock)i(f)o(ails)g(with)h(NO)p 3198 839
V 30 w(LOCKFILE.)0 971 y Fc(Status:)41 b Fd(Implemented)0
1154 y Fc(Number:)g Fd(9)0 1287 y Fc(Reason:)f Fd(An)21
b(attempt)e(to)i(acquire)e(an)h(e)o(xclusi)n(v)o(e)f(lock)h(while)g(a)g
(process)g(holds)g(a)g(permanent)f(lock)g(f)o(ails)i(with)g(NO)p
3445 1287 V 29 w(LOCKFILE.)0 1420 y Fc(Status:)41 b Fd(Implemented)0
1602 y Fc(Number:)g Fd(10)0 1735 y Fc(Reason:)f Fd(Acquiring)19
b(a)h(permanent)f(lock)g(deletes)i(the)f(lock\256le.)0
1868 y Fc(Status:)41 b Fd(Implemented)0 2051 y Fc(Number:)g
Fd(11)0 2183 y Fc(Reason:)f Fd(Releasing)21 b(a)f(permanent)e(lock)i
(re-creates)g(the)g(lock\256le.)0 2316 y Fc(Status:)41
b Fd(Implemented)0 2499 y Fc(Number:)g Fd(12)0 2632 y
Fc(Reason:)f Fd(A)21 b(process)f(can)g(perform)e(a)j(get)f(operation)e
(while)i(another)f(process)h(holds)g(a)g(shared)g(lock.)0
2765 y Fc(Status:)41 b Fd(Implemented)0 2947 y Fc(Number:)g
Fd(13)0 3080 y Fc(Reason:)f Fd(A)20 b(process)g(that)f(is)i(running)c
(and)i(has)h(opened)e(the)h(adb)g(principal)g(database)g(can)g(retrie)n
(v)o(e)f(a)i(principal)f(created)f(after)i(the)208 3180
y(open)f(occurred.)0 3313 y Fc(Status:)41 b Fd(Implemented,)17
b(b)n(ut)j(not)g(w)o(orking)1929 5656 y(2)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
