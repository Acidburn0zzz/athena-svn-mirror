CFLAGS = $(CCOPTS) $(DEFS)

##DOSBUILDTOP = ..\..\..\..
##DOSLIBNAME=..\..\krb5.lib

.c.o:
	$(CC) $(CFLAGS) -c $(srcdir)/$*.c
@SHARED_RULE@

SRCS= \
	$(srcdir)/kts_close.c \
	$(srcdir)/kts_endget.c \
	$(srcdir)/kts_g_ent.c \
	$(srcdir)/kts_g_name.c \
	$(srcdir)/kts_next.c \
	$(srcdir)/kts_ops.c \
	$(srcdir)/kts_resolv.c \
	$(srcdir)/kts_ssget.c \
	$(srcdir)/kts_util.c

OBJS = \
	kts_close.$(OBJEXT)	\
	kts_endget.$(OBJEXT)	\
	kts_g_ent.$(OBJEXT)	\
	kts_g_name.$(OBJEXT)	\
	kts_next.$(OBJEXT)	\
	kts_ops.$(OBJEXT)	\
	kts_resolv.$(OBJEXT)	\
	kts_ssget.$(OBJEXT)	\
	kts_util.$(OBJEXT)

all-unix:: shared $(OBJS)
all-mac:: $(OBJS)
all-windows:: $(OBJS)

shared:
	mkdir shared

clean-unix::
	$(RM) shared/*

clean-mac::
clean-windows::
