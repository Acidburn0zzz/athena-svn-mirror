Received: from snow-white.ee.udel.edu by whimsy.udel.edu id aa12723;
          3 Feb 97 2:47 GMT
Received: from sverige (pas-ca8-09.ix.netcom.com [204.31.230.73]) by dfw-ix5.ix.netcom.com (8.6.13/8.6.12) with SMTP id SAA27694; Sun, 2 Feb 1997 18:47:12 -0800
Message-ID: <32F551DF.3B@ix.netcom.com>
Date: Sun, 02 Feb 1997 18:47:59 -0800
From: Greg Schueman <schueman@ix.netcom.com>
Reply-To: schueman@ix.netcom.com
X-Mailer: Mozilla 3.0Gold (Win95; U)
MIME-Version: 1.0
To: stenn@whimsy.udel.edu
CC: mills@udel.edu
Subject: Re: xntpd and recv() vs. read()
References: <9701310047.aa23550@whimsy.udel.edu>
Content-Type: multipart/mixed; boundary="------------103357DAB9A"

This is a multi-part message in MIME format.

--------------103357DAB9A
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Okay,  here's the modified ntp_io.c file diffs.

I modified close_socket into close_socket() and close_file() as
Windows NT requires closesocket() on SOCKETs and close() on FILEs.

My previous modification of close_socket() was wrong.

I also noticed that FD_SETSIZE defaults to 64 on Windows NT.
Is it possible for XNTP to have > 64 peers??  If so this needs
to be modified to be set to 256, the Unix default.

-Greg

--------------103357DAB9A
Content-Type: application/x-gzip; name="diffs.tar.gz"
Content-Transfer-Encoding: base64
Content-Disposition: inline; filename="diffs.tar.gz"

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
J1PU167wP9aPdf/6C8IGlcMAKAAA
--------------103357DAB9A--

