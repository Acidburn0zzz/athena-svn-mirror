<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type"><title>Win32 Fonts and Rendering</title><meta name="generator" content="DocBook XSL Stylesheets V1.50.0"><meta name="generator" content="GTK-Doc V0.10 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style><link rel="home" href="index.html" title="Pango Reference Manual"><link rel="up" href="rendering.html" title="Rendering with Pango"><link rel="previous" href="pango-X-Fonts-and-Rendering.html" title="X Fonts and Rendering"><link rel="next" href="pango-FreeType-Fonts-and-Rendering.html" title="FreeType Fonts and Rendering"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="pango-X-Fonts-and-Rendering.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="rendering.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">Pango Reference Manual</th><td><a accesskey="n" href="pango-FreeType-Fonts-and-Rendering.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry"><a name="pango-Win32-Fonts-and-Rendering"></a><div class="titlepage"></div><div class="refnamediv"><h2>Win32 Fonts and Rendering</h2><p>Win32 Fonts and Rendering &#8212; Functions for shape engines to manipulate Win32 fonts</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">



#define     <a href="pango-Win32-Fonts-and-Rendering.html#PANGO-RENDER-TYPE-WIN32-CAPS">PANGO_RENDER_TYPE_WIN32</a>
<a href="pango-Text-Processing.html#PangoContext">PangoContext</a>* <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-get-context">pango_win32_get_context</a>       (void);
void        <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-render">pango_win32_render</a>              (HDC hdc,
                                             <a href="pango-Fonts.html#PangoFont">PangoFont</a> *font,
                                             <a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> y);
void        <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-render-layout-line">pango_win32_render_layout_line</a>  (HDC hdc,
                                             <a href="pango-Layout-Objects.html#PangoLayoutLine">PangoLayoutLine</a> *line,
                                             int x,
                                             int y);
void        <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-render-layout">pango_win32_render_layout</a>       (HDC hdc,
                                             <a href="pango-Layout-Objects.html#PangoLayout">PangoLayout</a> *layout,
                                             int x,
                                             int y);
<a href="pango-Glyph-Storage.html#PangoGlyph">PangoGlyph</a>  <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-get-unknown-glyph">pango_win32_get_unknown_glyph</a>   (<a href="pango-Fonts.html#PangoFont">PangoFont</a> *font,
                                             <a
href="../glib/glib-Unicode-Manipulation.html#gunichar"
>gunichar</a> wc);
<a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-font-get-glyph-index">pango_win32_font_get_glyph_index</a>
                                            (<a href="pango-Fonts.html#PangoFont">PangoFont</a> *font,
                                             <a
href="../glib/glib-Unicode-Manipulation.html#gunichar"
>gunichar</a> wc);
<a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-get-debug-flag">pango_win32_get_debug_flag</a>      (void);
HDC         <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-get-dc">pango_win32_get_dc</a>              (void);
struct      <a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a>;
<a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a>* <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-font-cache-new">pango_win32_font_cache_new</a>
                                            (void);
void        <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-font-cache-free">pango_win32_font_cache_free</a>     (<a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a> *cache);
HFONT       <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-font-cache-load">pango_win32_font_cache_load</a>     (<a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a> *cache,
                                             const LOGFONT *logfont);
void        <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-font-cache-unload">pango_win32_font_cache_unload</a>   (<a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a> *cache,
                                             HFONT hfont);
<a href="pango-Fonts.html#PangoFontMap">PangoFontMap</a>* <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-font-map-for-display">pango_win32_font_map_for_display</a>
                                            (void);
void        <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-shutdown-display">pango_win32_shutdown_display</a>    (void);
<a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a>* <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-font-map-get-font-cache">pango_win32_font_map_get_font_cache</a>
                                            (<a href="pango-Fonts.html#PangoFontMap">PangoFontMap</a> *font_map);
LOGFONT*    <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-font-logfont">pango_win32_font_logfont</a>        (<a href="pango-Fonts.html#PangoFont">PangoFont</a> *font);

</pre></div><div class="refsect1"><h2>Description</h2><p>

</p></div><div class="refsect1"><h2>Details</h2><div class="refsect2"><h3><a name="PANGO-RENDER-TYPE-WIN32-CAPS"></a>PANGO_RENDER_TYPE_WIN32</h3><pre class="programlisting">#define PANGO_RENDER_TYPE_WIN32 &quot;PangoRenderWin32&quot;
</pre><p>
A string constant identifying the Win32 renderer. The associated quark (see
<a
href="../glib/glib-Quarks.html#g-quark-from-string"
>g_quark_from_string</a>()) is used to identify the renderer in <a href="pango-Modules.html#pango-find-map">pango_find_map</a>().
</p></div><hr><div class="refsect2"><h3><a name="pango-win32-get-context"></a>pango_win32_get_context ()</h3><pre class="programlisting"><a href="pango-Text-Processing.html#PangoContext">PangoContext</a>* pango_win32_get_context       (void);</pre><p>
Retrieves a <a href="pango-Text-Processing.html#PangoContext">PangoContext</a> appropriate for rendering with Windows fonts.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the new <a href="pango-Text-Processing.html#PangoContext">PangoContext</a>
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-render"></a>pango_win32_render ()</h3><pre class="programlisting">void        pango_win32_render              (HDC hdc,
                                             <a href="pango-Fonts.html#PangoFont">PangoFont</a> *font,
                                             <a href="pango-Glyph-Storage.html#PangoGlyphString">PangoGlyphString</a> *glyphs,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> x,
                                             <a
href="../glib/glib-Basic-Types.html#gint"
>gint</a> y);</pre><p>
Render a PangoGlyphString onto a Windows DC</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>hdc</tt></i> :</span></td><td>     the device context
</td></tr><tr><td><span class="term"><i><tt>font</tt></i> :</span></td><td>    the font in which to draw the string
</td></tr><tr><td><span class="term"><i><tt>glyphs</tt></i> :</span></td><td>  the glyph string to draw
</td></tr><tr><td><span class="term"><i><tt>x</tt></i> :</span></td><td>       the x position of start of string (in pixels)
</td></tr><tr><td><span class="term"><i><tt>y</tt></i> :</span></td><td>       the y position of baseline (in pixels)
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-render-layout-line"></a>pango_win32_render_layout_line ()</h3><pre class="programlisting">void        pango_win32_render_layout_line  (HDC hdc,
                                             <a href="pango-Layout-Objects.html#PangoLayoutLine">PangoLayoutLine</a> *line,
                                             int x,
                                             int y);</pre><p>
Render a <a href="pango-Layout-Objects.html#PangoLayoutLine">PangoLayoutLine</a> onto a device context</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>hdc</tt></i> :</span></td><td>       HDC to use for uncolored drawing
</td></tr><tr><td><span class="term"><i><tt>line</tt></i> :</span></td><td>      a <a href="pango-Layout-Objects.html#PangoLayoutLine">PangoLayoutLine</a>
</td></tr><tr><td><span class="term"><i><tt>x</tt></i> :</span></td><td>         the x position of start of string (in pixels)
</td></tr><tr><td><span class="term"><i><tt>y</tt></i> :</span></td><td>         the y position of baseline (in pixels)
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-render-layout"></a>pango_win32_render_layout ()</h3><pre class="programlisting">void        pango_win32_render_layout       (HDC hdc,
                                             <a href="pango-Layout-Objects.html#PangoLayout">PangoLayout</a> *layout,
                                             int x,
                                             int y);</pre><p>
Render a <a href="pango-Layout-Objects.html#PangoLayoutLine">PangoLayoutLine</a> onto an X drawable</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>hdc</tt></i> :</span></td><td>       HDC to use for uncolored drawing
</td></tr><tr><td><span class="term"><i><tt>layout</tt></i> :</span></td><td>    a <a href="pango-Layout-Objects.html#PangoLayout">PangoLayout</a>
</td></tr><tr><td><span class="term"><i><tt>x</tt></i> :</span></td><td>         the X position of the left of the layout (in pixels)
</td></tr><tr><td><span class="term"><i><tt>y</tt></i> :</span></td><td>         the Y position of the top of the layout (in pixels)
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-get-unknown-glyph"></a>pango_win32_get_unknown_glyph ()</h3><pre class="programlisting"><a href="pango-Glyph-Storage.html#PangoGlyph">PangoGlyph</a>  pango_win32_get_unknown_glyph   (<a href="pango-Fonts.html#PangoFont">PangoFont</a> *font,
                                             <a
href="../glib/glib-Unicode-Manipulation.html#gunichar"
>gunichar</a> wc);</pre><p>
Returns the index of a glyph suitable for drawing <i><tt>wc</tt></i> as an
unknown character.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>font</tt></i> :</span></td><td> a <a href="pango-Fonts.html#PangoFont">PangoFont</a>
</td></tr><tr><td><span class="term"><i><tt>wc</tt></i> :</span></td><td> the Unicode character for which a glyph is needed.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a glyph index into <i><tt>font</tt></i>
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-font-get-glyph-index"></a>pango_win32_font_get_glyph_index ()</h3><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gint"
>gint</a>        pango_win32_font_get_glyph_index
                                            (<a href="pango-Fonts.html#PangoFont">PangoFont</a> *font,
                                             <a
href="../glib/glib-Unicode-Manipulation.html#gunichar"
>gunichar</a> wc);</pre><p>
Obtains the index of the glyph for <i><tt>wc</tt></i> in <i><tt>font</tt></i>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>font</tt></i> :</span></td><td> a <a href="pango-Fonts.html#PangoFont">PangoFont</a>.
</td></tr><tr><td><span class="term"><i><tt>wc</tt></i> :</span></td><td> a Unicode character.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the glyph index for <i><tt>wc</tt></i>.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-get-debug-flag"></a>pango_win32_get_debug_flag ()</h3><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    pango_win32_get_debug_flag      (void);</pre><p>
Returns wether debugging is turned on.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt>TRUE</tt> if debugging is turned on.

</td></tr></tbody></table></div><p>Since  1.2
</p></div><hr><div class="refsect2"><h3><a name="pango-win32-get-dc"></a>pango_win32_get_dc ()</h3><pre class="programlisting">HDC         pango_win32_get_dc              (void);</pre><p>
Obtains a handle to the Windows device context that is used by Pango.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> A handle to the Windows device context that is used by Pango.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="PangoWin32FontCache"></a>struct PangoWin32FontCache</h3><pre class="programlisting">struct PangoWin32FontCache;</pre><p>
A PangoWin32FontCache caches
HFONTs by their LOGFONT descriptions. 
</p></div><hr><div class="refsect2"><h3><a name="pango-win32-font-cache-new"></a>pango_win32_font_cache_new ()</h3><pre class="programlisting"><a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a>* pango_win32_font_cache_new
                                            (void);</pre><p>
Creates a font cache.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The new font cache. This must be freed with
<a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-font-cache-free">pango_win32_font_cache_free</a>().
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-font-cache-free"></a>pango_win32_font_cache_free ()</h3><pre class="programlisting">void        pango_win32_font_cache_free     (<a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a> *cache);</pre><p>
Frees a <a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a> and all associated memory. All fonts loaded
through this font cache will be freed along with the cache.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>cache</tt></i> :</span></td><td> a <a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a>
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-font-cache-load"></a>pango_win32_font_cache_load ()</h3><pre class="programlisting">HFONT       pango_win32_font_cache_load     (<a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a> *cache,
                                             const LOGFONT *logfont);</pre><p>
Creates a HFONT from a LOGFONT. The
result may be newly loaded, or it may have been previously
stored</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>cache</tt></i> :</span></td><td> a <a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a>
</td></tr><tr><td><span class="term"><i><tt>logfont</tt></i> :</span></td><td> a pointer to a LOGFONT structure describing the font to load.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The font structure, or <tt>NULL</tt> if the font could
not be loaded. In order to free this structure, you must call
<a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-font-cache-unload">pango_win32_font_cache_unload</a>().
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-font-cache-unload"></a>pango_win32_font_cache_unload ()</h3><pre class="programlisting">void        pango_win32_font_cache_unload   (<a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a> *cache,
                                             HFONT hfont);</pre><p>
Frees a font structure previously loaded with <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-font-cache-load">pango_win32_font_cache_load</a>().</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>cache</tt></i> :</span></td><td> a <a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a>
</td></tr><tr><td><span class="term"><i><tt>hfont</tt></i> :</span></td><td> the HFONT to unload
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-font-map-for-display"></a>pango_win32_font_map_for_display ()</h3><pre class="programlisting"><a href="pango-Fonts.html#PangoFontMap">PangoFontMap</a>* pango_win32_font_map_for_display
                                            (void);</pre><p>
Returns a PangoWin32FontMap. Font maps are cached and should
not be freed. If the font map is no longer needed, it can
be released with <a href="pango-Win32-Fonts-and-Rendering.html#pango-win32-shutdown-display">pango_win32_shutdown_display</a>().</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a <a href="pango-Fonts.html#PangoFontMap">PangoFontMap</a>.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-shutdown-display"></a>pango_win32_shutdown_display ()</h3><pre class="programlisting">void        pango_win32_shutdown_display    (void);</pre><p>
Free cached resources.</p><p>

</p></div><hr><div class="refsect2"><h3><a name="pango-win32-font-map-get-font-cache"></a>pango_win32_font_map_get_font_cache ()</h3><pre class="programlisting"><a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a>* pango_win32_font_map_get_font_cache
                                            (<a href="pango-Fonts.html#PangoFontMap">PangoFontMap</a> *font_map);</pre><p>
Obtains the font cache associated with the given font map.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>font_map</tt></i> :</span></td><td> a PangoWin32FontMap.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the <a href="pango-Win32-Fonts-and-Rendering.html#PangoWin32FontCache">PangoWin32FontCache</a> of <i><tt>font_map</tt></i>.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="pango-win32-font-logfont"></a>pango_win32_font_logfont ()</h3><pre class="programlisting">LOGFONT*    pango_win32_font_logfont        (<a href="pango-Fonts.html#PangoFont">PangoFont</a> *font);</pre><p>
Determine the LOGFONT struct for the specified bfont.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>font</tt></i> :</span></td><td> a <a href="pango-Fonts.html#PangoFont">PangoFont</a> which must be from the Win32 backend
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> A newly allocated LOGFONT struct. It must be
freed with <a
href="../glib/glib-Memory-Allocation.html#g-free"
>g_free</a>().
</td></tr></tbody></table></div></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="pango-X-Fonts-and-Rendering.html"><b>&lt;&lt; X Fonts and Rendering</b></a></td><td align="right"><a accesskey="n" href="pango-FreeType-Fonts-and-Rendering.html"><b>FreeType Fonts and Rendering &gt;&gt;</b></a></td></tr></table></body></html>
