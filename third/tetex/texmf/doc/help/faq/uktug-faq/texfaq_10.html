<HTML>
<HEAD>
<TITLE>TeX Frequently Asked Questions - Section 10</TITLE>
<!-- File version: 2.2n -->
<!-- File date: 1999/06/05 -->

<!-- Creator: faq2html.el, running on XEmacs 20.4 "Em -->
<!-- CreationDate: Sat Jun  5 14:50:13 1999  te -->
</HEAD>

<BODY>
Go to the <A HREF="texfaq_0.html">first</A>, <A HREF="texfaq_9.html">previous</A>, <A HREF="texfaq_11.html">next</A>, <A HREF="texfaq_17.html">last</A> section, <A HREF="texfaq_toc.html">table of contents</A>.
<HR>

<H1><A NAME="SEC10">METAFONT</A></H1>


<H2><A NAME="QU56">Getting METAFONT to do what you want</A></H2>

<P>
METAFONT allows you to create your own fonts, and most TeX users
will never need to use it. METAFONT, unlike TeX, requires some
customisation: each output device for which you will be generating
fonts needs a mode associated with it. Modes are defined using the
<CODE>mode_def</CODE> convention described on page 94 of <EM>The METAFONTbook</EM>
(see <A HREF="texfaq_2.html#QU19">TeX-related books</A>). You will need
a file, which conventionally called <TT>local.mf</TT>, containing all the
<CODE>mode_def</CODE>s you will be using. If <TT>local.mf</TT> doesn't already
exist, Karl Berry's collection of modes,
available as <A HREF="ftp://ftp.dante.de/tex-archive/fonts/modes/modes.mf"><TT>fonts/modes/modes.mf</TT></A>, is a good starting point 
(it can be used as a `<TT>local.mf</TT>' without modification in a `big
enough' implementation of METAFONT). Lists of
settings for various output devices are also published periodically in
<CITE>TUGboat</CITE> (see <A HREF="texfaq_1.html#QU16">TUG</A>). Now create
a <CODE>plain</CODE> base
file using <I>inimf</I>, <CODE>plain.mf</CODE>, and <CODE>local.mf</CODE>:
<PRE>
   % inimf
   This is METAFONT...
   **plain # you type plain
   (output)
   *input local # you type this
   (output)
   *dump # you type this
   Beginning to dump on file plain...
   (output)
</PRE>
<P>
This will create a base file named <TT>plain.base</TT> (or something
similar; for example, it will be
  <TT>PLAIN.BAS</TT>
on MS-DOS systems) which should be moved to the directory containing
the base files on your system (note that some systems have two or more
such directories, one for each `size' of METAFONT used).

<P>
Now you need to make sure METAFONT loads this new base when it starts up. If
METAFONT loads the <CODE>plain</CODE> base by default on your system, then you're
ready to go. Under Unix (using the default <I>web2c</I>
distribution)
this does indeed happen, but we could for instance define a command
<I>mf</I> which executes <CODE>virmf &amp;plain</CODE> loading the <CODE>plain</CODE> base
file.

<P>
The usual way to create a font with <CODE>plain</CODE> METAFONT is to start 
it with the line
<PRE>
\mode=&lt;mode name&gt;; mag=&lt;magnification&gt;; input &lt;font file name&gt;
</PRE>
<P>
in
response to the `**' prompt or on the METAFONT command line. (If
<CODE>&lt;mode name&gt;</CODE> is unknown or omitted, the mode defaults to `proof' and
METAFONT will produce an output file called <TT><font file
name>.2602gf</TT>)  The <CODE>&lt;magnification&gt;</CODE> is a floating point number or
`magstep' (magsteps are defined in <EM>The METAFONTbook</EM> and <EM>The
TeXbook</EM>).  If <CODE>mag=&lt;magnification&gt;</CODE> is omitted, then the default
is 1 (magstep 0).  For example, to generate cmr10 at 12pt for an epson
printer you would type
<PRE>
  mf \mode=epson; mag=magstep 1; input cmr10
</PRE>
<P>
Note that under Unix the <CODE>\</CODE> and <CODE>;</CODE> characters must usually be quoted or
escaped, so this would typically look something like
<PRE>
  mf '\mode=epson; mag=magstep 1; input cmr10'
</PRE>

<P>
If you don't have <I>inimf</I> or need a special mode that isn't
in the base, you can put its commands in a file (<EM>e.g.</EM>,
<TT>ln03.mf</TT>) and invoke it on the fly with the <CODE>\smode</CODE> command.
For example, to create <TT>cmr10.300gf</TT> for an LN03 printer, using
the file
<PRE>
   % This is ln03.mf as of 1990/02/27
   % mode_def courtesy of John Sauter
   proofing:=0;
   fontmaking:=1;
   tracingtitles:=0;
   pixels_per_inch:=300;
   blacker:=0.65;
   fillin:=-0.1;
   o_correction:=.5;
</PRE>
<P>
(note the absence of the <CODE>mode_def</CODE> and <CODE>enddef</CODE> commands), you would
type
<PRE>
   mf \smode=&quot;ln03&quot;; input cmr10
</PRE>
<P>
This technique isn't one you should regularly use, but it may
prove useful if you acquire a new printer and want to experiment with
parameters, or for some other reason are regularly editing the
parameters you're using.  Once you've settled on an appropriate set of
parameters, you should use them to rebuild the base file that you use.

<P>
A summary of the above written by Geoffrey Tobin, and tips about
common pitfalls in using METAFONT, is available as <A HREF="ftp://ftp.dante.de/tex-archive/info/metafont-for-beginners.tex"><TT>info/metafont-for-beginners.tex</TT></A>


<H2><A NAME="QU57">Which font files should be kept</A></H2>

<P>
METAFONT produces from its run three files, a metrics (TFM) file, a
generic font (GF) file, and a log file; all of these files have the
same base name as does the input (<EM>e.g.</EM>, if the input file was
<TT>cmr10.mf</TT>, the outputs will be <TT>cmr10.tfm</TT>,
<TT>cmr10.nnngf</TT>
and <TT>cmr10.log</TT>).

<P>
For TeX to use the font, you need a TFM file, so you need
to keep that.  However, you are likely to generate the same font
at more than one magnification, and each time you do so you'll
(incidentally) generate another TFM file; these files are
all the same, so you only need to keep one of them.

<P>
To preview or to produce printed output, the DVI processor will need a
font raster file; this is what the GF file provides.  However, while
there used (once upon a time) to be DVI processors that could use
GF files, modern processors use packed raster (PK) files.
Therefore, you need to generate a PK file from the GF file; the
program <I>gftopk</I> does this for you, and once you've done that you
may throw the GF file away.

<P>
The log file should never need to be used, unless there was some sort
of problem in the METAFONT run, and need not be ordinarily kept.


<H2><A NAME="QU58">Getting bitmaps from the archives</A></H2>

<P>
Most people these days start using TeX with a 300 dots-per-inch (dpi)
laser printer, and Computer Modern bitmap fonts for this resolution
are supplied with most TeX packages.   There are also two such sets
available on CTAN: <A HREF="ftp://ftp.dante.de/tex-archive/fonts/cm/pk/pk300.zip"><TT>fonts/cm/pk/pk300.zip</TT></A> (for write-black printer engines)
and <A HREF="ftp://ftp.dante.de/tex-archive/fonts/cm/pk/pk300w.zip"><TT>fonts/cm/pk/pk300w.zip</TT></A> (for write-white engines).
However, some users want to
send their work to high quality typesetting machines (typically with a
resolution of 1270 dpi or greater); it is also becoming more common to
use a 600 dpi laser printer. Why don't the archives or suppliers
provide bitmap fonts at these sizes? There are two reasons:
<OL>
<LI> When a bitmap font is created with METAFONT, it needs to know the
  characteristics of the device; who knows what 600 or 1270 dpi device
  you have?  (Of course, this objection applies equally well to
  300 dpi printers.)
<LI> Bitmap fonts get <EM>big</EM> at high resolutions. Who knows what
  fonts at what sizes you need?
</OL>
It would be possible to provide some set of 1270 dpi bitmap fonts in
the archives, but it would take a lot of space, and might not be right
for you. 

<P>
So what to do?  You can build the fonts you need yourself with METAFONT:
this isn't at all hard, and some drivers help you (<I>dvips</I>, and the
emTeX drivers construct the METAFONT commands). You might need to look
at Karl Berry's collection of METAFONT modes (<A HREF="ftp://ftp.dante.de/tex-archive/fonts/modes/modes.mf"><TT>fonts/modes/modes.mf</TT></A>). 
Alternatively, if it is a PostScript device you have, consider using
the fonts in Type 1 font format. You can buy all the Computer Modern
fonts in
outline form from Blue Sky Research, Kinch or Y&Y 
  (<A HREF="texfaq_5.html#QU40">commercial vendors</A> for addresses),
or you can use Basil
Malyshev's public domain versions in <A HREF="ftp://ftp.dante.de/tex-archive/fonts/cm/ps-type1"><TT>fonts/cm/ps-type1</TT></A> (the Paradissa
collection is complete, but has largely been replaced by the better
  BaKoMa collection).


<HR>
Go to the <A HREF="texfaq_0.html">first</A>, <A HREF="texfaq_9.html">previous</A>, <A HREF="texfaq_11.html">next</A>, <A HREF="texfaq_17.html">last</A> section, <A HREF="texfaq_toc.html">table of contents</A>.
</BODY>
</HTML>
