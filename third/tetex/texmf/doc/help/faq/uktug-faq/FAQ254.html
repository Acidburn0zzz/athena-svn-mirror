<head>
<title>UK TeX FAQ -- question 254</title>
</head><body>
<h3>Case-changing oddities</h3>
<p>TeX provides two primitive commands <code>\uppercase</code> and
<code>\lowercase</code> to change the case of text; they're not much used, but
are capable creating confusion.
<p>The two commands do not expand the text that is their parameter -
the result of <code>\uppercase{abc}</code> is '<code>ABC</code>', but <code>\uppercase{\abc}</code>
is always '<code>\abc</code>', whatever the meaning of <code>\abc</code>.  The commands
are simply interpreting a table of equivalences between upper- and
lowercase characters.
They have (for example) no mathematical sense, and
<pre>
  \uppercase{About $y=f(x)$}
</pre>
will produce
<pre>
  ABOUT $Y=F(X)$
</pre>
which is probably not what is wanted.
<p>In addition, <code>\uppercase</code> and <code>\lowercase</code> do not deal very well
with non-American characters, for example <code>\uppercase{\ae}</code> is the
same as <code>\ae</code>.
<p>LaTeX provides commands <code>\MakeUppercase</code> and <code>\MakeLowercase</code>
which fixes the latter problem.  These commands are used in the
standard classes to produce upper case running heads for chapters
and sections.
<p>Unfortunately <code>\MakeUppercase</code> and <code>\MakeLowercase</code> do not solve
the other problems with <code>\uppercase</code>, so for example a section
title containing <code>\begin{tabular}</code> ... <code>\end{tabular}</code> will
produce a running head containing <code>\begin{TABULAR}</code>.  The simplest
solution to this problem is using a user-defined command, for
example: 
<pre>
   \newcommand{\mytable}{\begin{tabular}...
      \end{tabular}}
   \section{A section title \protect\mytable{}
       with a table}
</pre>
Note that <code>\mytable</code> has to be protected, otherwise it will be
expanded and made upper case; you can achieve the same result by
declaring it with <code>\DeclareRobustCommand</code>, in which case the
<code>\protect</code> won't be necessary.
<p>David Carlisle's <i>textcase</i> package
addresses many of these problems in a transparent way.  It defines
commands <code>\MakeTextUppercase</code> and <code>\MakeTextLowercase</code> which do
upper- or lowercase, with the fancier features of the LaTeX
standard <code>\Make*</code>-commands but without the problems
mentioned above.  Load the package with
<code>\usepackage[overload]{textcase}</code>, and it will redefine the LaTeX
commands (<em>not</em> the TeX primitive commands <code>\uppercase</code> and
<code>\lowercase</code>), so that section headings and the like don't produce
broken page headings.
<dl>
<dt><tt><i>textcase.sty</i></tt><dd>Distributed as part of <a href="ftp://macros/latex/contrib/supported/carlisle.tar.gz">macros/latex/contrib/supported/carlisle.tar.gz</a>
</dl>
<p></body>
