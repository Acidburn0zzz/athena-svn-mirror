<head>
<title>UK TeX FAQ -- question 231</title>
</head><body>
<h3><code>\edef</code> does not work with <code>\protect</code></h3>
<p>Robust LaTeX commands are either "naturally robust" - meaning that
they never need <code>\protect</code>, or "self-protected" - meaning that
they have <code>\protect</code> built in to their definition in some
way. Self-protected commands are robust only in a context where the
<code>\protect</code> mechanism is properly handled.  The body of an
<code>\edef</code> definition doesn't handle <code>\protect</code> properly, since
<code>\edef</code> is a TeX primitive rather than a LaTeX command.
<p>This problem is resolved by a LaTeX internal command
<code>\protected@edef</code>, which does the job of <code>\edef</code> while keeping the
<code>\protect</code> mechanism working.  There's a corresponding
<code>\protected@xdef</code> which does the job of <code>\xdef</code>.
<p>Of course, these commands need to be tended carefully, since they're

internal: see <a href="FAQ229.html">'@' in control sequence names</a>.
<p></body>
