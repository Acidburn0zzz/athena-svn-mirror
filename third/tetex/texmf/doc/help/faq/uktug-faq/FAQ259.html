<head>
<title>UK TeX FAQ -- question 259</title>
</head><body>
<h3>Commands gobble following space</h3>
<p>People are forever surprised that simple commands gobble the space
after them: this is just the way it is.  The effect arises from the
way TeX works, and Lamport describes a solution (place a pair of braces
after a command's invocation) in the description of LaTeX syntax.
Thus the requirement is in effect part of the definition of LaTeX.
<p>This FAQ,
for example, is written with definitions that <em>require</em> one to
type <code>\fred{}</code> 
                              
for almost all macro invocations, regardless
of whether the following space is required: however, this FAQ
is written by highly dedicated (and, some would say, eccentric)
people.  Many users find all those braces become very tedious very
quickly, and would really rather not type them all.
<p>An alternative structure, that doesn't violate the design of LaTeX,
is to say <code>\fred</code><code>\ </code> - the <code>\ </code> command is "self
terminating" (like <code>\</code><code>\</code>) and you don't need braces after
<em>it</em>.  Thus one can reduce to one the extra characters one needs
to type.
<p>If even that one character is too many, the package <i>xspace</i>
defines a command <code>\xspace</code> that guesses whether there should have
been a space after it, and if so introduces that space.  So

"<code>fred<code>\xspace</code> jim</code>" produces "fred jim", while
"<code>fred<code>\xspace</code>. jim</code>" produces "fred. jim".  Which
usage would of course be completely pointless; but you can incorporate
<code>\xspace</code> in your own macros:

<pre>
\usepackage{xspace}
...
\newcommand{\restenergy}{\ensuremath{mc^2}\xspace}
...
and we find \restenergy available to us...
</pre>
The <code>\xspace</code> command must be the last thing in your macro
definition (as in the example); it's not completely foolproof, but it
copes with most obvious situations in running text.
<p>The <i>xspace</i> package doesn't save you anything if you only use
a modified macro once or twice within your document, and in any case
be careful with usage of <code>\xspace</code> - it offers a change in your
input syntax which can be confusing, particularly if you retain some
commands which don't use it.   (Of course, any command 
built into LaTeX or into any class or package you use won't use
<code>\xspace</code>: you need to think every time you use such a command.)
And of course, be careful to explain what you're doing to any
collaborating author!
<dl>
<dt><tt><i>xspace.sty</i></tt><dd>Distributed as part of <a href="ftp://macros/latex/required/tools.tar.gz">macros/latex/required/tools.tar.gz</a>
</dl>
<p></body>
