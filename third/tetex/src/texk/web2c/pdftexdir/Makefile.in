# Makefile for libpdf - te@informatik.uni-hannover.de

ac_include ../make/common.mk
ac_include ../make/programs.mk
ac_include ../make/library.mk

LIBPNGDIR=../../../libs/libpng
LIBPNGSRCDIR=$(srcdir)/$(LIBPNGDIR)
ZLIBDIR=../../../libs/zlib
ZLIBSRCDIR=$(srcdir)/$(ZLIBDIR)

XCPPFLAGS=-I.. -I$(srcdir)/.. -I../.. -I$(srcdir)/../.. @LIBPNGCPPFLAGS@ @ZLIBCPPFLAGS@


OBJS = epdf.o mapfile.o papersiz.o utils.o config.o vfpacket.o pkin.o \
writefont.o writet1.o writet3.o writezip.o writeenc.o writettf.o \
writejpg.o writepng.o writeimg.o

all: libpdf.a

libpdf.a: $(OBJS)
	$(AR) $(ARFLAGS) $@  $(OBJS)
	$(RANLIB) $@

mostlyclean clean:
	rm -f *.o libpdf.a ttf2afm

distclean maintainer-clean extraclean: clean
	rm -f Makefile config.log config.status

depend:
	rm -f $(OBJS) ttf2afm.o
	XCFLAGS=-MM make -k $(OBJS) ttf2afm.o | \
	    grep -v "^$(CC)\|$(AR)\|make\|klibtool" | \
	    sed 's:$(srcdir):$$(srcdir):' > $(srcdir)/depend.mk

ac_include pdftexdir/depend.mk
