<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>GstTypeFindElement</title><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="GStreamer 0.8 Core Reference Manual"><link rel="up" href="gstreamer.html" title="GStreamer Core Library"><link rel="previous" href="GstThread.html" title="GstThread"><link rel="next" href="GstTypeFindFactory.html" title="GstTypeFindFactory"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="GstThread.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="gstreamer.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GStreamer 0.8 Core Reference Manual</th><td><a accesskey="n" href="GstTypeFindFactory.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="gstreamer-GstTypeFind"></a><div class="titlepage"><div></div><div></div></div><div class="refnamediv"><h2><span class="refentrytitle">GstTypeFindElement</span></h2><p>GstTypeFindElement &#8212; typefinding subsystem</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;gst/gst.h&gt;


struct      <a href="gstreamer-GstTypeFind.html#GstTypeFind">GstTypeFind</a>;
void        (<a href="gstreamer-GstTypeFind.html#GstTypeFindFunction">*GstTypeFindFunction</a>)          (<a href="gstreamer-GstTypeFind.html#GstTypeFind">GstTypeFind</a> *find,
                                             gpointer data);
enum        <a href="gstreamer-GstTypeFind.html#GstTypeFindProbability">GstTypeFindProbability</a>;
guint8*     <a href="gstreamer-GstTypeFind.html#gst-type-find-peek">gst_type_find_peek</a>              (<a href="gstreamer-GstTypeFind.html#GstTypeFind">GstTypeFind</a> *find,
                                             gint64 offset,
                                             guint size);
void        <a href="gstreamer-GstTypeFind.html#gst-type-find-suggest">gst_type_find_suggest</a>           (<a href="gstreamer-GstTypeFind.html#GstTypeFind">GstTypeFind</a> *find,
                                             guint probability,
                                             const <a href="gstreamer-GstCaps.html#GstCaps">GstCaps</a> *caps);
guint64     <a href="gstreamer-GstTypeFind.html#gst-type-find-get-length">gst_type_find_get_length</a>        (<a href="gstreamer-GstTypeFind.html#GstTypeFind">GstTypeFind</a> *find);
gboolean    <a href="gstreamer-GstTypeFind.html#gst-type-find-register">gst_type_find_register</a>          (<a href="gstreamer-GstPlugin.html#GstPlugin">GstPlugin</a> *plugin,
                                             const gchar *name,
                                             guint rank,
                                             <a href="gstreamer-GstTypeFind.html#GstTypeFindFunction">GstTypeFindFunction</a> func,
                                             gchar **extensions,
                                             const <a href="gstreamer-GstCaps.html#GstCaps">GstCaps</a> *possible_caps,
                                             gpointer data);


</pre></div><div class="refsect1" lang="en"><a name="id2774490"></a><h2>Description</h2><p>

</p></div><div class="refsect1" lang="en"><a name="id2774500"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id2774505"></a><h3><a name="GstTypeFind"></a>struct GstTypeFind</h3><a class="indexterm" name="id2774516"></a><pre class="programlisting">struct GstTypeFind {

  /* private to the caller of the typefind function */
  guint8 *		(* peek)			(gpointer		data,
							 gint64	         	offset,
							 guint			size);
  void			(* suggest)			(gpointer		data,
							 guint			probability,
							 const GstCaps *		caps);
  
  gpointer			data;
  
  /* optional */
  guint64		(* get_length)			(gpointer		data);

};
</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2774537"></a><h3><a name="GstTypeFindFunction"></a>GstTypeFindFunction ()</h3><a class="indexterm" name="id2774548"></a><pre class="programlisting">void        (*GstTypeFindFunction)          (<a href="gstreamer-GstTypeFind.html#GstTypeFind">GstTypeFind</a> *find,
                                             gpointer data);</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>find</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>data</tt></i> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2774615"></a><h3><a name="GstTypeFindProbability"></a>enum GstTypeFindProbability</h3><a class="indexterm" name="id2774627"></a><pre class="programlisting">typedef enum {
  GST_TYPE_FIND_MINIMUM = 1,
  GST_TYPE_FIND_POSSIBLE = 50,
  GST_TYPE_FIND_LIKELY = 80,
  GST_TYPE_FIND_NEARLY_CERTAIN = 99,
  GST_TYPE_FIND_MAXIMUM = 100
} GstTypeFindProbability;
</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2774645"></a><h3><a name="gst-type-find-peek"></a>gst_type_find_peek ()</h3><a class="indexterm" name="id2774656"></a><pre class="programlisting">guint8*     gst_type_find_peek              (<a href="gstreamer-GstTypeFind.html#GstTypeFind">GstTypeFind</a> *find,
                                             gint64 offset,
                                             guint size);</pre><p>
Returns size bytes of the stream to identify beginning at offset. If offset 
is a positive number, the offset is relative to the beginning of the stream,
if offset is a negative number the offset is relative to the end of the 
stream. The returned memory is valid until the typefinding function returns
and must not be freed.
If NULL is returned, that data is not available.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>find</tt></i> :</span></td><td> the find object the function was called with
</td></tr><tr><td><span class="term"><i class="parameter"><tt>offset</tt></i> :</span></td><td> the offset
</td></tr><tr><td><span class="term"><i class="parameter"><tt>size</tt></i> :</span></td><td> the number of bytes to return
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the requested data or NULL if that data is not available.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2774767"></a><h3><a name="gst-type-find-suggest"></a>gst_type_find_suggest ()</h3><a class="indexterm" name="id2774778"></a><pre class="programlisting">void        gst_type_find_suggest           (<a href="gstreamer-GstTypeFind.html#GstTypeFind">GstTypeFind</a> *find,
                                             guint probability,
                                             const <a href="gstreamer-GstCaps.html#GstCaps">GstCaps</a> *caps);</pre><p>
If a typefind function calls this function it suggests the caps with the
given probability. A typefind function may supply different suggestions
in one call.
It is up to the caller of the typefind function to interpret these values.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>find</tt></i> :</span></td><td> the find object the function was called with
</td></tr><tr><td><span class="term"><i class="parameter"><tt>probability</tt></i> :</span></td><td> the probability in percent that the suggestion is right
</td></tr><tr><td><span class="term"><i class="parameter"><tt>caps</tt></i> :</span></td><td> the fixed caps to suggest
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2774877"></a><h3><a name="gst-type-find-get-length"></a>gst_type_find_get_length ()</h3><a class="indexterm" name="id2774888"></a><pre class="programlisting">guint64     gst_type_find_get_length        (<a href="gstreamer-GstTypeFind.html#GstTypeFind">GstTypeFind</a> *find);</pre><p>
Get the length of the data stream.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>find</tt></i> :</span></td><td> the find object the function was called with
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the length of the data stream or 0 if it is not available.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2774950"></a><h3><a name="gst-type-find-register"></a>gst_type_find_register ()</h3><a class="indexterm" name="id2774962"></a><pre class="programlisting">gboolean    gst_type_find_register          (<a href="gstreamer-GstPlugin.html#GstPlugin">GstPlugin</a> *plugin,
                                             const gchar *name,
                                             guint rank,
                                             <a href="gstreamer-GstTypeFind.html#GstTypeFindFunction">GstTypeFindFunction</a> func,
                                             gchar **extensions,
                                             const <a href="gstreamer-GstCaps.html#GstCaps">GstCaps</a> *possible_caps,
                                             gpointer data);</pre><p>
Registers a new typefind function to be used for typefinding. After 
registering this function will be available for typefinding.
This function is typically called during an element's plugin initialization.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>plugin</tt></i> :</span></td><td> the GstPlugin to register with
</td></tr><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> the name for registering
</td></tr><tr><td><span class="term"><i class="parameter"><tt>rank</tt></i> :</span></td><td> rank (or importance) of this typefind function
</td></tr><tr><td><span class="term"><i class="parameter"><tt>func</tt></i> :</span></td><td> the function to use for typefinding
</td></tr><tr><td><span class="term"><i class="parameter"><tt>extensions</tt></i> :</span></td><td> optional extensions that could belong to this type
</td></tr><tr><td><span class="term"><i class="parameter"><tt>possible_caps</tt></i> :</span></td><td> optionally the caps that could be returned when typefinding succeeds
</td></tr><tr><td><span class="term"><i class="parameter"><tt>data</tt></i> :</span></td><td> optional user data. This user data must be available until the plugin 
  is unloaded.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> TRUE on success, FALSE otherwise
</td></tr></tbody></table></div></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="GstThread.html"><b>&lt;&lt; GstThread</b></a></td><td align="right"><a accesskey="n" href="GstTypeFindFactory.html"><b>GstTypeFindFactory &gt;&gt;</b></a></td></tr></table></body></html>
