=== 2.8.7 ===

2005-02-15  William Jon McCann  <mccann@jhu.edu>

	* NEWS: 
	* configure.in: 2.8.7

2005-02-10  William Jon McCann  <mccann@jhu.edu>

	* cd-drive.c (cd_drive_get_media_type_from_path_full) 
	(cd_drive_get_media_size_from_path, get_cd_scsi_id) 
	(get_device_max_read_speed, get_device_max_write_speed):
	Add fallback to open RDONLY for compatibility with Linux 2.4.
	(Closes #165962)

2005-02-10  William Jon McCann  <mccann@jhu.edu>

	* transport.hxx: Sync with upstream dvd+rw-tools 5.21.4.10.8.
	The only difference is the O_EXCL in open in our version.
	(Closes #166689)

2004-12-17  Ross Burton  <ross@burtonini.com>

	* cd-drive.c:
	Don't pass a LibHalFunctions to hal_initialize as that struct
	often changes, just pass a NULL.

=== 2.8.6 ===

2004-12-06  Bastien Nocera  <hadess@hadess.net>

	* configure.in: 2.8.6

2004-12-04  Bastien Nocera  <hadess@hadess.net>

	* make-iso.c: (mkisofs_stderr_read), (make_iso):
	* nautilus-cd-burner.c: (burn_cd): When an incorrectly encoded file
	is to be added to an image, we need to error out. Also force utf8
	encoding on the command-line when building the image (Closes: #149486)

2004-11-29  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (burn_cd): fix crash when closing the
	"Completed" dialog with the window manager buttons instead of the
	Close button (Closes: #159644)

2004-11-22  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* dvd_plus_rw_utils.cpp:
	Fix memleak spotted by valgrind.

2004-11-16  Marco Pesenti Gritti  <marco@gnome.org>

	* autogen.sh:

	Fix out of src directory build

2004-11-10  James Henstridge  <james@jamesh.id.au>

	* Makefile.am: make a few changes to work with newer automakes.

	* configure.in: remove some cruft that isn't needed with newer
	Automakes.

	* autogen.sh (REQUIRED_AUTOMAKE_VERSION): require Automake 1.7.

2004-11-10  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c: (combo_device_changed),
	(bacon_cd_selection_set_recorders_only): fix crash when the first
	CD drive wasn't a recorder (Closes: #157387)
	* cd-drive.c: (test_cdroms): added a test_cdroms() that can be used
	to fake configurations

=== 2.8.5 ===

2004-11-03  Bastien Nocera  <hadess@hadess.net>

	* NEWS:
	* configure.in: 2.8.5

2004-11-03  Christophe Fergeau  <teuf@gnome.org>

	* bacon-cd-selection.c: (bacon_cd_selection_set_recorders_only): make
	sure there is still an active combo box entry after filtering the 
	combo box content to only show cd recorders.

2004-10-26  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c: (bacon_cd_selection_init),
	(bacon_cd_selection_finalize), (bacon_cd_selection_new):
	move initialisation from _new to _init for use by bindings
	(patch by Bryan Forbes <bryan@reigndropsfall.net>) (Closes: #154106)

2004-10-22  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c:
	* bacon-cd-selection.h:
	* burn-extension.c:
	* cd-drive.c:
	* cd-drive.h:
	* cd-recorder.c:
	* cd-recorder.h:
	* list_cddrives.c:
	* make-iso.c:
	* make-iso.h:
	* nautilus-cd-burner.c:
	* nautilus-cd-burner.h: add G_BEGIN_DECLS/G_END_DECLS, update
	Copyright notices

=== 2.8.4 ===

2004-10-21  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 2.8.4

2004-10-20  Alexander Larsson  <alexl@redhat.com>

	* mapping-method.c (fill_in_directory_info):
	The user should own the folders. This fixed writability for
	users in the root group.

2004-10-19  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* Makefile.am:
	Oops, use LDFLAGS, not LIBADD.

	* burn-extension.c:
	Use glib header for library i18n.

2004-10-19  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* Makefile.am:
	Don't use version for nautilus extension soname.

2004-10-12  Alexander Larsson  <alexl@redhat.com>

	* cd-recorder.c (unmount_thread_start):
	Try to unmount the cdrom if its busy.

2004-10-02  Bastien Nocera  <hadess@hadess.net>

	* configure.in: test for Solaris' volmgt library (Closes: #145550)

2004-09-30  Sebastien Bacher  <seb128@canonical.com>

	* cd-recorder.c: (growisofs_stderr_read), (cdrecord_stderr_read):
	display the cdrecord and growisofs outputs in the right order
	(Closes: #154160).

2004-09-30  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (cd_drive_get_media_type_from_path_full),
	(cd_drive_get_media_size_from_path), (get_cd_scsi_id),
	(get_device_max_read_speed), (get_device_max_write_speed),
	(linux_scan):
	* transport.hxx: open the devices read-write, not read-only if we're
	actually going to write stuff to them. Should fix problems seen
	on Linux 2.6.8 kernels

2004-09-27  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (cd_drive_copy):
	* cd-drive.h: add a function to copy a CDDrive struct
	* configure.in: don't bomb out if HAL is present but not new enough,
	simply compile with an older version

2004-09-25  Bastien Nocera  <hadess@hadess.net>

	* make-iso.c: (make_iso): Oops, that wasn't supposed to be there

2004-09-24  Bastien Nocera  <hadess@hadess.net>

	* make-iso.c: (make_iso): Force the input character set to UTF-8 when
	creating an ISO image (Closes: #151480)

=== 2.8.3 ===

2004-09-22  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 2.8.3

2004-09-22  Alexander Larsson  <alexl@redhat.com>

	* cd-drive.[ch]:
	Add functions to lock/unlock drives with hal.
	* cd-recorder.c:
	Lock drives while burning.
	* configure.in:
	Require hal with lock primitives.

2004-09-21  Bastien Nocera  <hadess@hadess.net>

	* dvd_plus_rw_utils.cpp: fix potential crasher in
	get_read_write_speed (patch from Martin Pitt
	<martin.pitt@canonical.com>)

2004-09-21  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c: (combo_device_changed),
	(bacon_cd_selection_set_have_file_image),
	(bacon_cd_selection_set_recorders_only): Fix crash when no (real)
	drives are available (Closes: #153268)

=== 2.8.2 ===

2004-09-21  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 2.8.2

2004-09-20  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (cd_drive_door_open),
	(cd_drive_get_media_type_from_path_full),
	(cd_drive_get_media_type_from_path), (cd_drive_get_media_type),
	(cd_drive_get_media_type_and_rewritable):
	* cd-drive.h:
	* cd-recorder.c: (media_type_matches),
	(cd_recorder_wait_for_insertion):
	* dvd_plus_rw_utils.cpp:
	* list_cddrives.c: (list_cdroms):
	More fixes for drives that don't handle medium reporting properly,
	including fixes for blanking (patch from Alex Larsson
	<alexl@redhat.com>)

2004-09-19  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (action_changed_cb): correct translations
	of the actions (we translated, but not displayed by the program)
	(Closes: #153074)

2004-09-17  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (cd_drive_get_media_type_from_path),
	(cd_drive_get_media_type), (hal_scan): use HAL to get the CD medium
	type if possible (patch from Alex Larsson <alexl@redhat.com>)
	(Closes: #145196)

2004-09-17  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (insert_cd_retry), (cdrecord_stdout_read),
	(growisofs_stderr_read), (cdrecord_stderr_read),
	(cd_recorder_write_tracks): Revert the changes to assert when
	cdrecord can't find a medium, fixes potential crashes with older
	CD drives that don't support MMC v2 commands (patch from Alex
	Larsson <alexl@redhat.com>)

2004-09-17  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.h: fix the insert_cd signal prototype
	* nautilus-cd-burner.c: (insert_cd_request_cb): fix the inverted
	usage of is_reload in insert_cd_request_cb (Patches from Alex
	Larsson <alexl@redhat.com>)

=== 2.8.1 ===

2004-09-16  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 2.8.1

2004-09-16  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c: (bacon_cd_selection_class_init):
	fix the default value of the default property (patch from Kjartan
	Maraas <kmaraas@gnome.org>) (Closes: #152854)

2004-09-16  Bastien Nocera  <hadess@hadess.net>

	* .cvsignore: upd
	* cd-drive.c: (cd_drive_get_media_type_from_path): an MMC Profile
	of 0 means that there is no medium in the drive, fixes the crash
	trying to burn a CD without a CD in the drive (Closes: #151986)
	* nautilus-cd-burner.c: (ncb_hig_dialog), (insert_cd_request_cb),
	(main): swap the title/reason dialog for CD insertion to the right
	order, use the right glade file when running n-c-b from its source
	directory

2004-09-14  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (target_optionmenu_create): Only show
	CD recorders in the main window (Closes: #152387)

2004-09-10  William Jon McCann  <mccann@jhu.edu>

	* bacon-cd-selection.c (bacon_cd_selection_class_init)
	(cdrom_combo_box, bacon_cd_selection_new, compare_drives)
	(bacon_cd_selection_set_recorders_only)
	(bacon_cd_selection_set_property)
	(bacon_cd_selection_get_property):
	Add show-recorders-only property.  Fixes #152061.

2004-09-10  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: upd
	* bacon-cd-selection.c: (bacon_cd_selection_set_have_file_image):
	fix an off-by-one mistake (spotted by William Jon McCann
	<mccann@jhu.edu>)
	* bcs-test.c: added, based on William Jon McCann's test program

=== 2.8.0 ===

2004-09-10  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 2.8.0

2004-09-10  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (insert_cd_request_cb): put the dialog buttons
	in the right order (Closes: #152093) (Patch by Bryan Clark
	<bclark@redhat.com>)

2004-09-10  Bastien Nocera  <hadess@hadess.net>

	* list_cddrives.c: (media_type_get_string), (list_cdroms): update to
	print the time length only if it's a CD or CD-RW

2004-08-28  Akagic Amila  <bono@linux.org.ba>

        * configure.in: Added 'bs' to ALL_LINGUAS.

2004-08-21  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Add «nb» to ALL_LINGUAS.

2004-08-17  Alexander Larsson  <alexl@redhat.com>

	* NEWS:
	Update

	* configure.in:
	2.7.6

2004-08-02  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "or" to ALL_LINGUAS.

2004-07-31  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.h: don't return negative times
	* dvd_plus_rw_utils.cpp: fix getting the size for DVD-R[W] medium

=== 2.7.5 ===

2004-07-29  Bastien Nocera  <hadess@hadess.net>

	* configure.in: 2.7.5

2004-07-29  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (details_clicked), (ask_cancel), (main):
	Call the "CD Creator" "CD/DVD Creator"

2004-07-29  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (cdrecord_stderr_read),
	(cd_recorder_write_cdrecord):
	* cd-recorder.h:
	* nautilus-cd-burner.c: (burn_cd), (main):
	* ncb.schemas.in: Implement "burnproof" as an option, as it is
	necessary to burn CDs on some systems (Closes: #137099). Display
	an error when cdrecord tells us that the system is too slow
	(Closes: #148749)

2004-07-29  Bastien Nocera  <hadess@hadess.net>

	* burn-extension.c: (nautilus_burn_get_file_items):
	* cd-drive.c: (hal_scan), (get_scsi_cd_name):
	* cd-recorder.c: (growisofs_stdout_read), (cdrecord_stdout_read),
	(growisofs_stderr_read), (cd_recorder_write_growisofs),
	(cd_recorder_write_cdrecord), (cd_recorder_finalize),
	(cd_recorder_init), (cd_recorder_class_init):
	* cd-recorder.h:
	* cdburn.glade:
	* cdrecorder-marshal.list:
	* nautilus-cd-burner.c: (action_changed_cb):
	Fix up the API of CDRecorder to list actions, as well as media type
	in the action-changed signal, Have "CD", "DVD", or "Disc" used
	appropriately (Closes: #140282)

2004-07-29  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (main): make it possible to run n-c-b from
	its source directory

2004-07-29  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* burn-extension.c: (nautilus_module_initialize):
	* configure.in:
	Initialize i18n for nautilus extension.

2004-07-28  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (ncb_hig_dialog),
	(ncb_hig_show_error_dialog), (insert_cd_request_cb),
	(show_error_message), (overwrite_existing_file), (burn_cd),
	(ask_cancel), (help_activate), (main): HIGify all the dialog windows
	in the application itself (Closes: #143117)

2004-07-28  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.h:
	* list_cddrives.c: (list_cdroms): fix printing out the DVD sizes

2004-07-28  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (cd_drive_get_media_size_from_path):
	* dvd_plus_rw_utils.cpp: fix function prototypes for getting sizes from
	DVDs (still slightly broken)

2004-07-27  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (cd_drive_get_media_size_from_path):
	* cd-drive.h:
	* dvd_plus_rw_utils.cpp:
	* list_cddrives.c: (list_cdroms): merge the 2 different code paths
	(ATIP for CDs, and READ CAPACITY SCIS for DVDs), implements getting
	the size from a medium, and macro for bytes->minutes conversion

2004-07-27  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (cd_drive_get_media_size_from_path):
	rename get_disc_size to get_disc_size_cd
	move CD_ROM_SPEED where it can be used without HAL support
	(Closes: #148521)
	* dvd_plus_rw_utils.cpp: add get_disc_size_dvd which returns the
	amount of data in bytes that can fit on a DVD media

2004-07-26  Bastien Nocera  <hadess@hadess.net>

	* list_cddrives.c: (list_cdroms): print out the size, and length in
	minutes/seconds of the media in the drive (Closes: #148274)

2004-07-23  Fernando Herrera  <fherrera@onirica.com>
 
	* dvd_plus_rw_utils.cpp: MMC functions to get read/write speed
	and blank disc size 
	* cd-drive.c: (get_cd_properties):
	(get_device_max_read_speed), (get_device_max_write_speed),
	(add_linux_cd_recorder), (freebsd_scan), (cdrecord_scan):
	Use MMC functions to get speeds.
	(cd_drive_get_media_size_from_path), (cd_drive_get_media_size),
	* cd-drive.h: New functions to get media size.

2004-07-26  Bastien Nocera  <hadess@hadess.net>

	* cdburn.glade: chop the progress window text in 2 labels
	(Closes: #148425)

2004-07-23  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (cdrecord_scan): should be /dev/pgX not /dev/X for
	cdrecord detected drives (thanks Fernando)

=== 2.7.4 ===

2004-07-21  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd
	* configure.in: 2.7.4

2004-07-21  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (hal_scan), (add_linux_cd_recorder),
	(add_linux_cd_drive), (freebsd_scan), (cdrecord_scan),
	(cd_drive_get_file_image), (cd_drive_free), (cd_drive_new):
	* cd-drive.h: remove some struct members that should be private,
	and hide them
	* nautilus-cd-burner.c: (burn_cd), (main): remove unneeded cruft

2004-07-08  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (growisofs_stdout_read), (cdrecord_stdout_read):
	remove our lame attempts at getting decent debug lines from cdrecord
	* cdburn.glade: name the primary label on the progress dialog

2004-07-08  Bastien Nocera  <hadess@hadess.net>

	* dvd_plus_rw_utils.cpp: fix compilation on Solaris (Closes: #145550)

2004-06-30  Bastien Nocera  <hadess@hadess.net>

	* .cvsignore: upd

2004-06-30  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (cdrecord_stdout_read), (growisofs_stderr_read),
	(cdrecord_stderr_read), (cd_recorder_wait_for_insertion),
	(cd_recorder_write_tracks), (cd_recorder_class_init):
	* cd-recorder.h:
	* cdrecorder-marshal.list:
	* nautilus-cd-burner.c: (insert_cd_request_cb):
	Start fixing things up for the RW-already mounted use-case

2004-06-26  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: fix marshal files generation
	* list_cddrives.c: (media_type): fix warning

2004-06-25  Bastien Nocera  <hadess@hadess.net>

	* .cvsignore: upd
	* Makefile.am: generate the marshal files
	* cd-drive.c: (cd_drive_door_open),
	(cd_drive_get_media_type_from_path): return an error if the tray is
	opened, rather than "unknown type"
	* cd-recorder.c: (cd_needs_growisofs), (cdrecord_stderr_read),
	(media_type_matches), (cd_recorder_wait_for_insertion),
	(cd_recorder_write_tracks), (cd_recorder_finalize),
	(cd_recorder_class_init):
	* cd-recorder.h:
	* cdburn.glade:
	* cdrecorder-marshal.list:
	* nautilus-cd-burner.c: (insert_cd_request_cb), (burn_cd),
	(refresh_dialog), (main):

	Remove the Erase checkbox altogether, nautilus-cd-burner and the
	CDRecorder object now detects the CD type, and whether the tray is
	opened, refactor the "Ask user to slot in a CD" job, much leaner
	and cleaner now (Closes: #144925)

2004-06-25  Bastien Nocera  <hadess@hadess.net>

	* burn-extension.c: (nautilus_burn_get_file_items),
	(nautilus_burn_get_background_items),
	(nautilus_burn_get_toolbar_items):
	* cdburn.glade: Fix some strings (patch from Luca Ferretti
	<elle.uca@libero.it>) (Closes: #143116)

2004-06-24  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (cd_recorder_track_free),
	(cd_recorder_write_tracks), (cd_recorder_finalize):
	Free the track item itself when freeing a track, check that the
	number of tracks is under 100 when burning, more memleaks fixed in
	_finalize

2004-06-24  Bastien Nocera  <hadess@hadess.net>

	* .cvsignore: upd
	* Makefile.am: upd
	* cd-drive.c: (hal_scan): Fixed up to use the new HAL properties
	* cd-recorder.c: (cdrecord_stdout_read): remove the "\r" so that
	we can see the output of cdrecord when burning a CD in debug mode
	* configure.in: require a newer HAL
	* list_cddrives.c: added, from libbacon, handy for testing

2004-06-21  Bastien Nocera  <hadess@hadess.net>

	* burn-extension.c: (nautilus_burn_get_file_items),
	(nautilus_burn_get_background_items): use ellipsis correctly
	* cdburn.glade:
	* nautilus-cd-burner.c: (cd_progress_set_text), (init_dialog):
	changes to match the HIG, and simplify the burn, especially when
	default options fill the bill (based on patches from Luca Ferretti
	<elle.uca@libero.it>) (Closes: #143116)

2004-06-21  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (hal_scan): free the device list when we're done with it
	* configure.in: only hal 0.2.91 is required

2004-06-21  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* cd-drive.c: (hal_scan):
	* configure.in: simplify the HAL autotool code, and the detection code
	(no need to load all the properties, only those of removable drives)

2004-06-20  Bastien Nocera  <hadess@hadess.net>

	* configure.in: remove bash-ism (spotted by Joe Marcus Clarke
	<marcus@FreeBSD.org>)

2004-06-18  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* cd-drive.c: (hal_scan):
	* configure.in: Use HAL by default when it's there, use the HAL_CFLAGS
	defined, and support HAL CVS properties (with help from Young-Ho Cha
	<ganadist@chollian.net>) (Closes: #144533)

2004-06-18  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (hal_scan): Ooops, we were leaking the HAL context if
	we managed to get some CD drives

2004-06-18  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd

2004-06-17  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (growisofs_stdout_read), (growisofs_stderr_read),
	(cd_recorder_write_growisofs), (cd_recorder_write_cdrecord):
	* cd-recorder.h:
	* nautilus-cd-burner.c: (burn_cd), (main):
	* ncb.schemas.in: support overburn in GConf, small fixes in the
	CD recorder's debug mode (Closes: #144122)

2004-06-17  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (main): Dummy write and debug are the wrong
	way around

2004-06-17  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (target_changed): Fix a crash when selecting
	the File Image target

2004-06-17  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd

2004-06-17  Bastien Nocera  <hadess@hadess.net>

	* configure.in:
	* nautilus-cd-burner.c: (ncb_make_valid_utf8), (verify_iso):
	remove the eel dependency in nautilus-cd-burner itself

=== 2.7.3 ===

2004-06-16  Bastien Nocera  <hadess@hadess.net>

	* configure.in: release 2.7.3

2004-06-16  Bastien Nocera  <hadess@hadess.net>

	* configure.in: use the libstdc++ hack on FreeBSD 5 (thanks to
	Joe Marcus Clarke <marcus@FreeBSD.org> for the testing)

2004-06-14  Bastien Nocera  <hadess@hadess.net>

	* configure.in: require hal 0.2.92 or greater (Closes: #144188)

2004-06-14  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c: (bacon_cd_selection_finalize): fix a
	double-free, and bad ordering when removing the CD from the linked-list
	(thanks to Fernando Herrera <fherrera@onirica.com> for the testcase)

2004-06-14  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c: (bacon_cd_selection_class_init),
	(bacon_cd_selection_finalize), (cdrom_combo_box),
	(bacon_cd_selection_new), (bacon_cd_selection_set_have_file_image),
	(bacon_cd_selection_set_device), (bacon_cd_selection_get_device),
	(bacon_cd_selection_get_cdrom):
	* bacon-cd-selection.h: make the BaconCdSelection descend from a
	GtkComboBox instead of a GtkVBox
	* libnautilus-burn.pc.in: make libnautilus-burn depend on gtk+

2004-06-11  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c: (bacon_cd_selection_finalize): don't destroy
	the internal widget, it's already destroyed when we get to our
	container
	* nautilus-cd-burner.c: (main): destroy the dialog on exit
	Thanks to Fernando Herrera <fherrera@onirica.com> for spotting this

2004-06-11  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c: (bacon_cd_selection_set_have_file_image),
	(bacon_cd_selection_get_default_device): more parameters checking
	in those functions

=== 2.7.2 ===

2004-06-11  Bastien Nocera  <hadess@hadess.net>

	* NEWS:
	* configure.in: paperbag release

2004-06-11  Bastien Nocera  <hadess@hadess.net>

	* configure.in: fix ALL_LINGUAS not being taken into account,
	spotted by Joe Marcus Clarke <marcus@FreeBSD.org>

=== 2.7.1 ===

2004-06-11  Bastien Nocera  <hadess@hadess.net>

	* NEWS: upd for release

2004-06-11  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c: remove the HAVE_DISCOVERY ifdef's, everybody
	has discovery now
	* cd-drive.c: (cdrecord_get_stdout_for_id), (get_cd_properties),
	(add_whitelist), (add_dvd_plus),
	(cd_drive_get_media_type_from_path), (cd_drive_get_media_type),
	(hal_scan), (linux_add_whitelist), (get_scsi_units),
	(get_device_max_speed), (linux_scan), (freebsd_scan),
	(cdrecord_scan_get_stdout), (cdrecord_scan), (scan_for_cdroms),
	(cd_drive_free):
	* cd-drive.h:
	Add basic discovery with cdrecord when the system isn't Linux or
	FreeBSD, implement your better algorithms, rename guess_media_type
	to cd_drive_get_media_type_from_path, or alternatively, use the new
	cd_drive_get_media_type
	* cd-recorder.c: (cd_needs_growisofs):
	* configure.in:
	* nautilus-cd-burner.c: (wait_for_insertion): update accordingly

2004-06-10  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: more G_DEFINE_TYPE-fu

2004-06-10  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c: (bacon_cd_selection_init): more code saving
	with G_DEFINE_TYPE

2004-06-09  Bastien Nocera  <hadess@hadess.net>

	* bacon-cd-selection.c:
	* cd-drive.c:
	* cd-recorder.c:
	* configure.in: all hail to our new gi18n.h overlords

2004-06-08  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (linux_scan): small-devfs isn't supported, and this
	code could conflict with udev (patch from Andreas Boman
	<aboman@eiwaz.com>)

2004-05-31  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: install the bacon-cd-selection.h header as well

2004-05-31  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* bacon-cd-selection.[ch]:
	* cd-drive.c: (cd_drive_get_file_image), (scan_for_cdroms):
	* cd-drive.h:
	* cdburn.glade:
	* configure.in:
	* nautilus-cd-burner.c: (wait_for_insertion), (burn_cd),
	(lookup_current_recorder), (refresh_dialog), (target_changed),
	(target_optionmenu_create), (init_dialog), (main):
	Move the BaconCdSelection to nautilus-cd-burner, use GtkComboBox
	instead of the old GtkOptionMenu for the CD selection widget (patch
	from Iain Holmes <iain@prettypeople.org>), make ourselves use
	the newly imported widget

2004-05-30  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* cd-drive.c: updated from libbacon
	* configure.in:
	* update-from-bacon.sh: removed

	nautilus-cd-burner is now the place to get the CD detection stuff from

2004-05-29  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (hal_scan): updated from libbacon for Sony CDU-948S
	support

2004-05-12  Bastien Nocera  <hadess@hadess.net>

	* make-iso.c: (mkisofs_stdout_read), (mkisofs_stderr_read),
	(make_iso):
	* make-iso.h:
	* nautilus-cd-burner.c: (burn_cd), (main): fix warning when sscanf
	sucks at parsing mkisofs messages, add run-time debug for make-iso.[ch]
	* ncb.schemas.in: entry type is bool not boolean

2004-05-11  Bastien Nocera  <hadess@hadess.net>

	* cdburn.glade: add mnemonics to the main window (Closes: #138286)

2004-05-11  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (main): set the icon on the progress window
	as well (Closes: #142244)

2004-05-11  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (growisofs_stdout_read), (cdrecord_stdout_read),
	(growisofs_stderr_read), (cdrecord_stderr_read),
	(cd_recorder_write_tracks), (cd_recorder_write_growisofs),
	(cd_recorder_write_cdrecord):
	* cd-recorder.h:
	* configure.in:
	* nautilus-cd-burner.c: (burn_cd), (main):
	* ncb.schemas.in: make debugging a run-time option (via GConf) rather
	than a compile-time one

2004-05-11  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (cdrecord_stderr_read): error out when trying to
	write on an already written-to non-rewritable medium with cdrecord,
	also error out if a wav file isn't in the right format for audio CDs
	(From: #142167)

2004-05-10  Bastien Nocera  <hadess@hadess.net>

	* mapping-daemon.c: (virtual_create):
	* nautilus-cd-burner.c: (burn_cd): use g_mkstemp instead of mkstemp
	(patch by Fabrício Barros Cabral <fxcabral@yahoo.com.br>)
	(Closes: #140751)

2004-05-04  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c (help_activate): 
	Fix help launching

2004-05-04  Bastien Nocera  <hadess@hadess.net>

	* configure.in: remove extraneous comma (Closes: #140997)
	Patch by Mariano Suárez-Alvarez <msuarezalvarez@arnet.com.ar>

2004-04-20  SamÃºel JÃ³n Gunnarsson  <sammi@techattack.nu>

	* configure.in: Added "is" to ALL_LINGUAS.

2004-04-19  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (burn_cd): fix logic in using the temp_dir
	for temp ISOs (Closes: #138699)

2004-04-18  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (init_dialog): it's 32 bytes, not 32
	characters

2004-04-14  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (linux_bsd_media_type):
	* dvd_plus_rw_utils.cpp: update from libbacon

2004-04-10  Guntupalli Karunakar  <karunakar@freedomink.org>

        * configure.in: Added "gu" (Gujarati) to ALL_LINGUAS.

2004-04-05  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (get_cd_scsi_id), (get_scsi_cd_name), (linux_scan):
	* dvd_plus_rw_utils.cpp: update and merge from libbacon, including
	valgrind fixes

2004-04-01  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* configure.in:
	* dvd_plus_rw_utils.cpp: don't link to libstdc++ on GCC/Linux systems,
	as it's not needed, post branch version bump to 2.7.1

2004-04-01  Johan Dahlin  <johan@gnome.org>

	* Makefile.am: Split up cd-drive.c and cd-recoder.c into a library

	* libnautilus-burn.pc.in: New file for library

	* configure.in: Add .pc file

	* cd-drive.c, cd-recorder.c: Remove dependency of libgnome

	* burn-extension.c: Refactor process launching

2004-03-30  Adam Weinberger  <adamw@gnome.org>

	* configure.in: Added en_CA (Canadian English) to ALL_LINGUAS.

2004-03-22  Alexander Larsson  <alexl@redhat.com>

	* configure.in:
	Post release bump to 2.6.1

=== 2.6.0 ===

2004-03-22  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in:
	Bump version to 2.6.0

2004-03-22  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

2004-03-22  Guntupalli Karunakar  <karunakar@freedomink.org>

        * configure.in: Added "pa" (Punjabi) to ALL_LINGUAS.

=== 0.6.7 ===

2004-03-15  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in:
	Update to 0.6.7

=== 0.6.6 ===

2004-03-08  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in:
	Update to 0.6.6

2004-03-05  Alexander Larsson  <alexl@redhat.com>

	* mapping-modules.conf (burn):
	Don't use lib and .so in library name.

2004-03-05  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c (select_iso_filename):
	Clean up fileselector usage.

2004-03-04  Alexander Larsson  <alexl@redhat.com>

	* burn-extension.c (nautilus_burn_get_file_items):
	Handle new iso mime type.

2004-03-02  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c (cdname_entry_insert_text):
	Limit the cdname entry to 32 bytes (not chars)

2004-02-24  Bastien Nocera  <hadess@hadess.net>

	* make-iso.c: For stat.h and vfs.h, apply the same rules for NetBSD
	and OpenBSD as for FreeBSD (Patch from (Julio M. Merino Vidal
	<jmmv@menta.net>) (Closes: #135307)

2004-02-23  Guntupalli Karunakar  <karunakar@freedomink.org>

	* configure.in: Added "hi" for Hindi in ALL_LINGUAS.

2004-02-19  Alexander Larsson  <alexl@redhat.com>

	* mapping-daemon.c (main):
	chdir to /. (fixes #134668)

2004-02-13  Alexander Larsson  <alexl@redhat.com>

	* make-iso.c (make_iso):
	actually pass GError.

=== 0.6.5 ===

2004-02-11  Alexander Larsson  <alexl@redhat.com>

	* Makefile.am (EXTRA_DIST):
	remove acconfig.h

	* NEWS: 
	* configure.in:
	Bump to 0.6.5

2004-02-10  Ross Burton  <ross@burtonini.com>

	* acconfig.h:
	Removed.

	* configure.in:
	Added comments from acconfig.h here.

	* Makefile.am:
	Do more cleaning.

2004-02-05  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* cd-recorder.c: (cd_recorder_write_growisofs):
	* cdburn.glade:
	* nautilus-cd-burner.c: (init_dialog), (help_activate), (main):
	
	Fix crashes with DVD recording debug enabled,
	Eject the DVD after burning with growisofs if told so
	Add link to the user guide (partially Closes: #119991)
	Get the sensitivity of the ISO label the right way around

2004-02-01  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* cd-drive.[ch]:
	* transport.hxx:
	* dvd_plus_rw_utils.cpp:
	* cd-recorder.c: (cd_recorder_track_free), (can_burn_dvds),
	(cd_needs_growisofs), (cd_recorder_cancel),
	(growisofs_stdout_read), (cdrecord_stdout_read),
	(cd_recorder_write_tracks), (cd_recorder_write_growisofs),
	(cd_recorder_write_cdrecord), (cd_recorder_class_init):
	* cd-recorder.h:
	* cdburn.glade:
	* cdrecorder-marshal.list: removed
	* make-iso.c: (make_iso_cancel), (make_iso):
	* make-iso.h:
	* nautilus-cd-burner.c: (reload_dialog_response),
	(insert_cd_response), (insert_cdrw_response), (media_type_matches),
	(details_clicked), (estimate_size), (file_chooser_response_cb),
	(burn_cd), (refresh_dialog), (init_dialog), (ask_cancel),
	(do_cancel), (main):
	* nautilus-cd-burner.h:

	Updated from libbacon, detects blank media and media where logical
	type != physical type properly (Closes: #130090)
	Removed music support from nautilus-cd-burner itself (Closes: #125374),
	cleaned up cancellation handling

=== 0.6.4 ===

2004-01-30  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in:
	Bump to 0.6.4

2003-12-10  Dave Camp  <dave@ximian.com>

	* Makefile.am:
	* Nautilus_CD_Burner_Context_Menu.server.in.in:
	* burn-extension.c: (write_activate_cb), (write_iso_activate_cb),
	(nautilus_burn_get_file_items),
	(nautilus_burn_get_background_items),
	(nautilus_burn_get_toolbar_items),
	(nautilus_burn_menu_provider_iface_init),
	(nautilus_burn_instance_init), (nautilus_burn_class_init),
	(nautilus_burn_get_type), (nautilus_burn_register_type),
	(nautilus_module_initialize), (nautilus_module_shutdown),
	(nautilus_module_list_types):
	* configure.in:
	* context-menu.c: Use the new nautilus extensions interface.

2004-01-13  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c (select_iso_filename):
	Don't set default filesel size.

=== 0.6.3 ===

2004-01-12  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in: 
	0.6.3

2004.01.10  Arafat Medini <lumina@silverpen.de>
                                                                                
        * ar.po: Added Arabic locale "ar" to ALL_LINGUAS

2004-01-06  Bastien Nocera  <hadess@hadess.net>

	* configure.in: we weren't using the minimum gtk+ requirement...
	* nautilus-cd-burner.c: (file_chooser_response_cb):
	avoid possible segfaults, patch by Joe Marcus Clarke
	<marcus@freebsd.org> (Closes: #130584)

2004-01-05  Roozbeh Pournader  <roozbeh@sharif.edu>

	* configure.in: Added "fa" (Persian) in ALL_LINGUAS.

2004-01-03  Robert Sedak  <robert.sedak@sk.htnet.hr>

        * configure.in: Added "hr" in ALL_LINGUAS.

2004-01-02  Taneem Ahmed  <taneem@bengalinux.org>

	* configure.in: Added "bn" to ALL_LINGUAS.

2003-12-31  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (get_cd_properties), (freebsd_scan):
	Merge FreeBSD fixes from libbacon

2003-12-31  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (cd_recorder_get_type),
	(cd_recorder_write_growisofs), (cd_recorder_write_cdrecord):
	* cd-recorder.h:
	* make-iso.c: (build_list_of_audio_tracks):
	* nautilus-cd-burner.c: (track_free), (burn_cd):
	Fix build on GCC 2.95.x platforms (Closes: #129041)
	Patch by Joe Marcus Clarke <marcus@freebsd.org>

=== 0.6.2 ===

2003-12-29  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in:
	0.6.2

2003-12-22  Bastien Nocera  <hadess@hadess.net>

	* ncb.schemas.in: add periods at the end of the long schema
	descriptions (Closes: #124843)

2003-12-18  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (cd_recorder_write_tracks),
	(cd_recorder_write_cdrecord):
	* cd-recorder.h: add disc-at-once support (for audio CDs)
	* make-iso.c: (ask_disable_joliet), (make_iso):
	* make-iso.h: warn the user when the ISO image doesn't allow Joliet
	support because of the filenames (Closes: #129408)
	* nautilus-cd-burner.c: (estimate_size), (burn_cd):
	make it possible to burn CD with files that end up being 0-sized

2003-12-16  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* nautilus-cd-burner.c: (init_dialog):
	Use g_strftime_date instead of strftime for better UTF-8 handling.

2003-12-16	Mohammad DAMT  <mdamt@bisnisweb.com>

	* configure.in: Added "id" in ALL_LINGUAS
	* po/id.po: Indonesian translation by Ahmad Riza H Nst <ari@160c.afraid.org>

2003-12-09  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c: (verify_iso):
	Fix out of bounds array access.
	
2003-12-09  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c (file_chooser_response_cb):
	Fix up handling of delete event

2003-12-09  Alexander Larsson  <alexl@redhat.com>

	* configure.in:
	Require gtk+ 2.3.0

2003-12-06  Jan Arne Petersen  <jpetersen@uni-bonn.de>

	* nautilus-cd-burner.c: (file_chooser_response_cb),
	(select_iso_filename):
	Replace GtkFileSelection with GtkFileChooser.

=== 0.6.1 ===

2003-12-08  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in:
	0.6.1

2003-12-06  IÃ±aki LarraÃ±aga <dooteo@euskalgnu.org>

	* configure.in: Addedd eu to ALL_LINGUAS

2003-12-03  Sanlig Badral  <badral@openmn.org>

	* configure.in: Added mn to ALL_LINGUAS

2003-11-28  Ross Burton  <ross@burtonini.com>

	* cd-recorder.[ch]:
	Refactor into cd_recorder_write_tracks(), which takes a list of
	Track pointers.

	* make-iso.[ch]:
	Cleanup thanks to above change.

	* nautilus-cd-recorder.c:
	Handle above change, and always attempt to write to discs of
	UNKNOWN type.

2003-11-26  Ross Burton  <ross@burtonini.com>

	* cd-drive.c:
	* cd-drive.h:
	Update from libbacon.

2003-10-29  Narayana Pattipati <narayana.pattipati@wipro.com>

	* nautilus-cd-burner.c: Fix file selector relared problems while
	writing iso images. Bugzilla bug#123025.

=== 0.6.0 ===

2003-10-24  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* configure.in: 0.6.0

Wed Oct 15 13:44:32 2003  Jonathan Blandford  <jrb@redhat.com>

	* configure.in: move AC_C_CONST earlier to prevent it from picking
	up the -Werror in $CFLAGS

	* nautilus-cd-burner.c (estimate_size): explicitly cast this to
	make gcc not complain.

2003-10-07  Bastien Nocera  <hadess@hadess.net>

	* configure.in: added geck for ngettext
	* make-iso.c: (make_iso): handle plural with ngettext (patch from
	Danilo Segan <segan@gmx.net>)

2003-10-06  Mugurel Tudor  <mugurelu@go.ro>

	* configure.in: Added 'ro' to ALL_LINGUAS

2003-09-26  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* cd-drive.c: (linux_scan):
	* dvd_plus_rw_utils.cpp:
	Update from libbacon.

2003-09-07  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (init_dialog): s/strftime/strftime/ in the
	comment for translators (spotted by Jordi Mallach)

2003-09-07  Marcel Telka  <marcel@telka.sk>

	* configure.in (ALL_LINGUAS): Added sk.

2003-09-05  Jordi Mallach  <jordi@sindominio.net>

	* configure.in (ALL_LINGUAS): Added "ca" (Catalan).

2003-09-05  Bastien Nocera  <hadess@hadess.net>

	* mapping-method.c: (do_read_directory): fix confusion between
	g_build_filename and g_build_path (thanks Alex)

2003-09-04  Bastien Nocera  <hadess@hadess.net>

	* NEWS: updated
	* mapping-method.c: (remove_file_helper), (do_read_directory),
	(do_unlink): remove from burn:/// the items for which we cannot find
	the backing file anymore (Closes: #119668)

2003-09-04  Bastien Nocera  <hadess@hadess.net>

	* Nautilus_CD_Burner_Context_Menu.server.in.in: add an icon for the
	contextual menu item
	* cd-drive.c: (add_whitelist), (add_linux_cd_recorder),
	(add_linux_cd_drive), (linux_scan): updated from libbacon, adds
	a whitelist for misbehaving CD recorders
	* nautilus-cd-burner: added an icon for the dialog window

2003-09-03  Pauli Virtanen  <pauli.virtanen@hut.fi>

	* configure.in: Added "fi" (Finnish) to ALL_LINGUAS.

2003-09-03  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (get_device_max_speed), (add_linux_cd_recorder):
	updated from libbacon (better speed detection if "cdrecord -prcap"
	fails)
	* nautilus-cd-burner.c: (lookup_current_recorder),
	(refresh_dialog), (main): save the speed used so that it is used
	again on the next run (Closes: #113714), add g_object_unrefs on
	the GConfClients

2003-09-03  Bastien Nocera  <hadess@hadess.net>

	* configure.in: add gconftool-2 detection
	* .cvsignore: updated
	* Makefile.am: added schemas file
	* make-iso.c: (make_iso):
	* make-iso.h:
	* nautilus-cd-burner.c: (burn_cd):
	* nautilus-cd-burner.h: modified to try to write the temporary
	ISO image in the user-supplied directory, then in the system tmp
	directory and finally in the user's home directory (Closes: #109950)
	* ncb.schemas.in: added

2003-09-02  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (cd_recorder_write_iso_cdrecord): don't set
	non-blocking mode on stdout twice, but set it on stderr

2003-09-02  Bastien Nocera  <hadess@hadess.net>

	* NEWS: start updating for the coming 0.6.0 release

2003-09-02  Gediminas Paulauskas  <menesis@delfi.lt>

	* configure.in: Added lt to ALL_LINGUAS.

2003-08-30  Bastien Nocera  <hadess@hadess.net>

	* cdburn.glade: mark test string as not translatable (Closes: #120172)

2003-08-29  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (linux_bsd_media_type):
	* cd-drive.h: updated from libbacon
	* nautilus-cd-burner.c: (media_type_matches), (wait_for_insertion):
	differentiate error guessing media type from unknown media type

2003-08-26  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (cd_needs_growisofs), (cd_recorder_write_iso):
	Remove unneeded filename argument (thanks Ross)

=== 0.5.1 ===

2003-08-25  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in: 0.5.1

2003-08-22 Paul Duffy <dubhthach@frink.nuigalway.ie>

        * configure.in: Added "ga" to ALL_LINGUAS
2003-08-13  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (get_device_max_speed), (add_linux_cd_recorder),
	(linux_scan): update from libbacon, fixes detection of the speed
	with some versions of cdrecord

2003-08-11  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (growisofs_stderr_read),
	(cd_recorder_write_iso_growisofs),
	(cd_recorder_write_iso_cdrecord): fix buglets when growisofs is
	supposed to die and no error message was showing up, ever,
	added debug to cd_recorder_write_iso_growisofs and
	cd_recorder_write_iso_cdrecord

2003-08-10  Bastien Nocera  <hadess@hadess.net>

	* NEWS: added entry: "Burning support on all growisofs supported drives"
	* cd-drive.c: (linux_bsd_media_type):
	* cd-drive.h: upd from libbacon
	* cd-recorder.c: (cd_needs_growisofs), (growisofs_stdout_read),
	(growisofs_stderr_read), (cdrecord_stderr_read),
	(cd_recorder_write_iso), (cd_recorder_write_iso_growisofs),
	(cd_recorder_write_iso_cdrecord): implement writing with growisofs,
	automatically use growisofs depending on the type of media,
	enables writing on DVD-R, DVD-RW, DVD+R and DVD+RW media
	* make-iso.c: (make_iso): fix dirname being freed before it's used
	* nautilus-cd-burner.c: (media_type_matches), (wait_for_insertion),
	(burn_cd): check for a media being inserted before launching the
	burning process (Closes: #116833)

2003-08-10  Paisa Seeluangsawat <paisa@users.sf.net>

	* configure.in: (ALL_LINGUAS) Added Thai (th).
	
=== 0.5.0 ===

2003-08-08  Alexander Larsson  <alexl@redhat.com>

	* NEWS:
	Update

	* configure.in: Bump to 0.5.0

2003-08-07  Yanko Kaneti <yaneti@declera.com>

	* configure.in: (ALL_LINGUAS) Added Bulgarian (bg).

2003-08-06  Wang Jian  <lark@linux.net.cn>

	* configure.in: Added "zh_CN" to ALL_LINGUAS.

2003-08-06  Yuriy Syrota  <yuriy@beer.com>

	* configure.in: Added "uk" (Ukrainian) to ALL_LINGUAS.

2003-07-27  Bastien Nocera  <hadess@hadess.net>

	* nautilus-cd-burner.c: (init_dialog): add a warning for translators
	about the volid field of 32 chars maximum

2003-07-27  Bastien Nocera  <hadess@hadess.net>

	* cdburn.glade: make the maximum length of the volid 32 characters
	* make-iso.c: (make_iso): check for the length of the volid,
	only use "-V" if there is a volid

2003-07-23  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am:
	* configure.in:
	* make-iso.c: (make_iso):
	* mapping-daemon.c: (main):
	* mapping-method.c: (vfs_module_init):
	* mkdtemp.c:
	* mkdtemp.h: patch from Fredrik JÃ¶nsson <fjo@nada.kth.se> to provie
	statfs replacement on Solaris, and mkdtemp.[ch] on non-OpenBSD,
	or non-glibc systems, use the same code in mapping-method.c as in
	mapping-daemon.c to create the communication socket (Closes:
	#117948, #117899)

2003-07-23  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (add_linux_cd_recorder): update from libbacon to allow
	proper selection of IDE CD Burners on Linux 2.6.x (patch from
	robert@t-bse.de)

2003-07-22  Bastien Nocera  <hadess@hadess.net>

	* cd-drive.c: (get_device_max_speed), (get_scsi_cd_name): update
	from libbacon, fixes a leak, and s/CDROM/CD-ROM/

2003-07-22  Bastien Nocera  <hadess@hadess.net>

	* cd-recorder.c: (cdrecord_stderr_read):
	* cdburn.glade:
	* nautilus-cd-burner.c: (burn_cd), (init_dialog): applied patch
	from Dafydd Harries <daf@parnassus.ath.cx> to enhance some strings
	(Closes: #117557)

2003-07-14  Dafydd Harries  <daf@parnassus.ath.cx>

	* configure.in: Added "cy" (Welsh) to ALL_LINGUAS.

2003-07-11  Andras Timar  <timar@gnome.hu>

	* configure.in: Added "hu" to ALL_LINGUAS.

2003-07-07  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am, cd-drive.[ch], configure.in, dvd_plus_rw_utils.cpp,
	transport.hxx: updated from libbacon
	* cd-recorder.c: (cd_needs_dvd_writer), (cd_recorder_write_iso):
	update for changes from libbacon, added bits necessary for DVD-R and
	DVD-RW functionality
	* nautilus-cd-burner.c: (refresh_dialog): only allow "blank cd" to
	be sensitive if the drive is a CD-RW

2003-07-01  Laurent Dhima  <laurenti@alblinux.net>

	* configure.in: Added "sq" to ALL_LINGUAS.

2003-06-27  Ross Burton  <ross@burtonini.com>

	* mapping-daemon.c: Remove hard-coded "/tmp" paths, using
	g_get_tmp_dir() instead.

2003-06-18  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Russian to ALL_LINGUAS.

2003-05-28  Alexander Larsson  <alexl@redhat.com>

	* mapping-method.c (vfs_module_init):
	Fix stupid initialization bug that kept spewing warning.

2003-05-28  Alexander Larsson  <alexl@redhat.com>

	* cd-recorder.c:
	Reorder includes for FreeBSD.

2003-05-27  Alexander Larsson  <alexl@redhat.com>

	* cdburn.glade:
	Don't mark the you have selected... string as translatable.

=== 0.4.3 ===

2003-05-27  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in:
	Bump version to 0.4.3
	
2003-05-27  Alexander Larsson  <alexl@redhat.com>

	* cd-drive.c (get_scsi_units):
	Move variable initialization
	Fix memory overwrite bug.
	
2003-05-27  Alexander Larsson  <alexl@redhat.com>

	* cd-drive.c:
	Remove unneeded exists flag.

2003-05-26  Bob Doan  <bdoan@sicompos.com>

	* cd-recorder.[ch]: Ability to burn structured audio files as a music cd
	* cdburn.glade: likewise
	* nautilus-cd-burner.[ch]: likewise
	* make-iso.[ch]: likewise

2003-05-26  Alexander Larsson  <alexl@redhat.com>

	* cd-drive.c:
	* cd-recorder.c:
	* configure.in:
	* make-iso.c:
	FreeBSD support by marcus@freebsd.org

2003-05-23  Alexander Larsson  <alexl@redhat.com>

	* cd-recorder.c:
	Remove scsi includes.
	
2003-05-23  Alexander Larsson  <alexl@redhat.com>

	* cd-recorder.c (cd_recorder_get_error_message):
	Fix up assertions, pointed out by marcus@FreeBSD.org.

2003-05-19  Alexander Larsson  <alexl@redhat.com>

	* cd-drive.c (linux_scan):
	Fix super-ugly FILE * casts. (64bit problem)

=== 0.4.2 ===

2003-05-19  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in:
	Bump version to 0.4.2

2003-05-19  Ross Burton  <ross@burtonini.com>

	* nautilus-cd-burner.c:
	Disable and check the "resuse these files" check box when burning
	an ISO.

2003-05-19  Alexander Larsson  <alexl@redhat.com>

	* cd-drive.c (linux_scan):
	Look for /dev/cdroms to trigger have_devfs.

2003-05-19  Alexander Larsson  <alexl@redhat.com>

	* cd-drive.[ch]:
	Update from libbacon.
	Add patch from ross to fix indexing with devfs.

2003-05-18  Bob Doan  <bdoan@sicompos.com>

	* cd-recorder.c: Ability to blank CD-RW's before burn
	* cd-recorder.h: likewise
	* cdburn.glade: likewise
	* nautilus-cd-burner.c: likewise

2003-05-15  Alex Duggan  <aldug@astrolinux.com>

	* cdburn.glade: use a cd icon in the Write files to cd button.

2003-05-06  Danilo Å egan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

=== 0.4.1 ===

2003-05-05  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	Update
	
	* configure.in:
	Bump to 0.4.1

2003-04-26  Hasbullah Bin Pit  <sebol@ikhlas.com>

        * configure.in: Added "ms" to ALL_LINGUAS.

2003-04-22  Alexander Larsson  <alexl@redhat.com>

	* make-iso.c (make_iso):
	Correct label switch. (-V instead of -A)
	Thanks to Mikael Hultgren who pointed this out.

=== 0.4.0 ===

2003-04-01  Alexander Larsson  <alexl@redhat.com>

	* Makefile.am (EXTRA_DIST):
	Dist the right intltool files

2003-04-01  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in: 
	Bump to 0.4.0
		
2003-04-01  Alexander Larsson  <alexl@redhat.com>

	* Makefile.am (EXTRA_DIST):
	Add Nautilus_CD_Burner_Context_Menu.server.in.in

2003-03-31  Ross Burton  <ross@burtonini.com>

	* configure.in:
	Find intltool for translating .server files.
	
	* Makefile.am:
	Build nautilus-cd-burner-context-menu into $libexec. Also pass the
	BINDIR into cpp.
	
	* context-menu.c:
	A Nautilus context menu, adding "Write to CD" for ISO images.
	
	* Nautilus_CD_Burner_Context_Menu.server.in.in:
	Added a Bonobo server file for above.

2003-03-26  Evandro Fernandes Giovanini <evandrofg@ig.com.br>
 
        * configure.in: Added "pt_BR" to ALL_LINGUAS.

2003-03-25  Metin Amiroff <metin@karegen.com>

	* configure.in: Added "az" to ALL_LINGUAS.

2003-03-23  Duarte Loreto <happyguy_pt@hotmail.com>

        * configure.in: Added "pt" to ALL_LINGUAS.

2003-03-23  Takeshi AIHANA <aihana@gnome.gr.jp>

	* configure.in: Added Japanese 'ja' into ALL_LINGUAS.

2003-03-20  Zbigniew Chyla  <cyba@gnome.pl>

	* configure.in (ALL_LINGUAS): Added pl (Polish).

2003-03-13  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c (burn_cd):
	Don't unlink iso if the user specified it.

2003-02-28  Ross Burton  <ross@burtonini.com>

	* configure.in: Find eel.

	* nautilus-cd-burner.c: Check that the ISO label is valid UTF-8,
	if it isn't try out best to make it so.

2003-02-28  Ross Burton  <ross@burtonini.com>

	* nautilus-cd-burner.c: Allow the argument to be an ISO image, and
	burn that. Also open burn:/// if the user hasn't dropped anything
	in there yet.

2003-02-27  Alexander Larsson  <alexl@redhat.com>

	* .cvsignore:
	Add new files
	
	* Makefile.am:
	* cdrecorder-marshal.list:
	Marshallers
	
	* cd-recorder.[ch]:
	* nautilus-cd-burner.[ch]:
	GObjectify cd recording.

	Based on patch by Bastien Nocera <bnocera@redhat.com>

2003-02-20  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Belarusian to ALL_LINGUAS.

2003-02-09  TÃµivo LeedjÃ¤rv  <toivo@linux.ee>

	* configure.in: Added et to ALL_LINGUAS.

2003-02-09  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added "zh_TW" (traditional Chinese) to ALL_LINGUAS.

2003-01-30  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "tr" (Turkish) to the languages' list.

2003-01-27  Alexander Larsson  <alexl@redhat.com>

	* configure.in:
	* NEWS
	Bump to 0.3.2

2003-01-27  Alexander Larsson  <alexl@redhat.com>
	
	* nautilus-cd-burner.c (burn_cd): 
	* make-iso.c (make_iso):
	Use g_get_tmp_dir() to get temporary dir.
	Patch from tommi.komulainen@iki.fi (Tommi Komulainen)

2003-01-22  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Amharic (am) and Dutch (nl) to ALL_LINGUAS.

=== 0.3.1 ===

2003-01-13  Alexander Larsson  <alexl@redhat.com>

	* NEWS: 
	* configure.in:
	Bump to 0.3.1

2003-01-10  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c (main):
	Call gettext to make translation work.

2003-01-11  Kenneth Christiansen <kenneth@gnu.org>

	* configure.in: Added "da" to ALL_LINGUAS.

=== 0.3 ===
		
2003-01-10  Alexander Larsson  <alexl@redhat.com>

	* configure.in:
	* NEWS:
	Update to 0.3

2003-01-10  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c:
	Error out if no files selected.
	Better handling of mapping optionmenu->recorder
	Add separator menu item before file image.
	Remove big header.
	Changed default name of CD.

	* cdburn.glade:
	Move target label to left of optionmenu
	Recording speed -> Write speed
	Add tooltips

2003-01-10  Alexander Larsson  <alexl@redhat.com>

	* cd-recorder.c:
	Use CD, not disc.

	* cdburn.glade:
	Move big header text to title.
	cd -> CD
	Burn -> Write

2003-01-06  Alessio Frusciante  <algol@firenze.linux.it>

	* configure.in (ALL_LINGUAS): Added Italian (it) 

2003-01-06  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: add a regenerate-built-sources to copy the cd-drive.[ch]
	from libbacon
	* update-from-bacon.sh: added

2002-01-06  Dennis Cranston <dennis_cranston@yahoo.com>

	* cd-recorder.c (details_clicked):  Fixed a crash caused by 
	a missing argument to gtk_dialog_new_with_button().
	 
2003-01-06  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c:
	Handle closing the window.

2003-01-05  Artis Trops  <hornet@navigator.lv>

        * configure.in: Added Latvian (lv) to ALL_LINGUAS.

2002-12-30  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in (ALL_LINGUAS): Added Norwegian (no).
	
2002-12-23  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in (ALL_LINGUAS): Added German (de) and Vietnamese (vi).

2002-12-23  Pablo Gonzalo del Campo <pablodc@bigfoot.com>

	* configure.in (ALL_LINGUAS): Added Spanish (es).

2002-12-22  Christophe Merlet  <redfox@redfoxcenter.org>

	* configure.in (ALL_LINGUAS): Added French (fr).

2002-12-19  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c (burn_cd):
	Make eject checkbutton insensitive when target is iso.

	* configure.in (ALL_LINGUAS):
	Removed de since the pofile was not checked in, breaking the build.

2002-12-17  Miloslav Trmac  <mitr@volny.cz>

	* configure.in (ALL_LINGUAS): Added Czech (cs).

2002-12-15  Christian Neumair  <chris@gnome-de.org>

	* configure.in (ALL_LINGUAS): Added German (de).

2002-12-14  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2002-12-13  Alexander Larsson  <alexl@redhat.com>

	* Makefile.am (EXTRA_DIST):
	Add spin images

	* configure.in:
	* NEWS:
	Bump version to 0.2.

2002-12-13  Alexander Larsson  <alexl@redhat.com>

	* cd-drive.c (scan_for_cdroms):
	Rename units to scsi_units
	
2002-12-13  Alexander Larsson  <alexl@redhat.com>

	* cd-drive.[ch]:
	* Makefile.am:
	* nautilus-cd-burner.[ch]:
	Move cd detection to separate file.
	Handle non-recorders too and IDE.
	Based on work by Bastien Nocera  <hadess@hadess.net>

2002-12-06  Bastien Nocera  <hadess@hadess.net>

	* TODO: upd
	* cdburn.glade: s/image1/cd_image/
	* cd-recorder.c: (write_iso): call cd_progress_set_image_spinning
	* configure.in: only require gtk+ 2.x
	* make-iso.c: (make_iso): call cd_progress_set_image_spinning
	* nautilus-cd-burner.c: (cd_progress_set_image),
	(cd_progress_set_image_spinning), (cd_progress_image_setup),
	(cd_progress_image_cleanup), (main): spinning CD animation work
	* nautilus-cd-burner.h: upd

2002-12-05  Alexander Larsson  <alexl@redhat.com>

	* configure.in:
	Require glib 2.1.0 for g_has_prefix

2002-12-05  Alexander Larsson  <alexl@redhat.com>

	* TODO:
	Update
	
	* Makefile.am:
	Add cdsping*.png

2002-12-05  Alexander Larsson  <alexl@redhat.com>

	* cdspin[1-8].png:
	Spinning cd images from jdub.
	
=== nautilus-cd-burner 0.1 ===
	
2002-12-05  Alexander Larsson  <alexl@redhat.com>
	
	* NEWS:
	* README:
	Update
	
	* cd-recorder.c:
	* make-iso.c:
	* mapping-daemon.c:
	* mapping-method.c:
	* nautilus-cd-burner.c:
	* nautilus-cd-burner.h:
	Fix warnings

	* CVSVERSION:
	Add new file so we get more warnings

2002-12-05  Alexander Larsson  <alexl@redhat.com>
	
	* AUTHORS:
	* COPYING:
	* COPYING.LIB:
	* make-iso.c:
	* make-iso.h:
	* mapping-daemon.c:
	* mapping-daemon.h:
	* mapping-protocol.c:
	* mapping-protocol.h:
	* nautilus-cd-burner.c:
	* nautilus-cd-burner.h:
	Updated license headers (method LGPL, rest GPL)

2002-12-05  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c:
	* cdburn.glade:
	Remove separate finished dialog.

2002-12-05  Alexander Larsson  <alexl@redhat.com>
	
	* Makefile.am:
	* acconfig.h:
	* autogen.sh:
	* configure.in:
	* nautilus-cd-burner.h:
	* po/*:
	Gettextize

2002-12-05  Alexander Larsson  <alexl@redhat.com>

	* make-iso.c (make_iso):
	Move declarations

	* nautilus-cd-burner.c (main):
	Move GList declaration.

2002-12-05  Alexander Larsson  <alexl@redhat.com>

	* make-iso.c (mkisofs_stdout_read):
	Remove warning.

2002-12-05  Alexander Larsson  <alexl@redhat.com>

	* Makefile.am (EXTRA_DIST):
	Add cdburn.glade.

2002-12-05  Alexander Larsson  <alexl@redhat.com>

	* TODO:
	Updated
	
	* acconfig.h:
	* configure.in:
	* nautilus-cd-burner.c:
	Added --enable-dummy-write
	
	* nautilus-cd-burner.h:
	Include config.h
	
	* cd-recorder.c:
	* make-iso.c:
	Less spewage

2002-12-05  Alexander Larsson  <alexl@redhat.com>

	* cd-recorder.c:
	* nautilus-cd-burner.[ch]:
	Better error reporting. (Added details button with cdrecord crack in it.)

2002-12-05  Alexander Larsson  <alexl@redhat.com>

	* mapping-method.c (vfs_module_init): 
	* mapping-protocol.c: 
	* mapping-daemon.c:
	Remove debug spew.

2002-12-05  Alexander Larsson  <alexl@redhat.com>

	* cd-recorder.c:
	* make-iso.c: 
	* nautilus-cd-burner.c:
	Handle burning speed.
	probe to load sg module
	Don't break if no files selected

2002-12-04  Alexander Larsson  <alexl@redhat.com>

	* configure.in:
	Require gnome-vfs 2.1.3.1

2002-12-04  Alexander Larsson  <alexl@redhat.com>

	* make-iso.c:
	Handle iso not fitting on HD.
	
2002-12-04  Alexander Larsson  <alexl@redhat.com>

	* cd-record.c:
	* make-iso.c:
	* nautilus-cd-burner.c:
	* nautilus-cd-burner.h:
	Handle iso larger than CD.

2002-12-04  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c:
	Implement removing all contents of burn: after burn.

	* mapping-daemon.c:
	Disallow removing root dir.

2002-12-04  Alexander Larsson  <alexl@redhat.com>
	
	* cd-recorder.c: 
	* cdburn.glade:
	* make-iso.c:
	* nautilus-cd-burner.h:
	Further handling of progress bar and UI.

2002-12-03  Christian Neumair  <chris@gnome-de.org>

	* .cvsignore: Added.

2002-12-03  Alexander Larsson  <alexl@redhat.com>

	* cd-recorder.c:
	Make pipes nonblocking.
	Call cdrecord with -v.

2002-12-03  Alexander Larsson  <alexl@redhat.com>
	
	* cdburn.glade:
	* make-iso.c: 
	* make-iso.h:
	* nautilus-cd-burner.c: 
	* nautilus-cd-burner.h:
	Initial work on a progress dialog.

2002-12-02  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c (burn_cd):
	Added cheesy cdrecord call.

2002-12-02  Alexander Larsson  <alexl@redhat.com>

	* Makefile.am:
	* nautilus-cd-burner.h:
	Break out the CDRecorder defines.
	
	* cd-recorder.c:
	Implement cd recorder scanning
	
	* nautilus-cd-burner.c:
	Refresh dialog when target changes.
	

2002-11-28  Alexander Larsson  <alexl@redhat.com>

	* make-iso.c:
	Don't leak fds.
	Don't double free.

2002-11-28  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c (burn_cd): 
	* make-iso.c (make_iso):
	Correctly put label in iso.

2002-11-28  Alexander Larsson  <alexl@redhat.com>

	* nautilus-cd-burner.c:
	Handle cancel in file selector.
	
	* make-iso.c:
	Clean up after iso write.
	Don't spew debug info.
	

2002-11-27  Alexander Larsson  <alexl@redhat.com>

	* Makefile.am:
	Add make-iso.[ch]
	
	* TODO:
	Update

	* make-iso.[ch]:
	* nautilus-cd-burner.c:
	Split out the mkisofs stuff. Handle deep hierarchies and empty dirs.
	
	* mapping-method.c: (do_unlink):
	Fix unlink.
