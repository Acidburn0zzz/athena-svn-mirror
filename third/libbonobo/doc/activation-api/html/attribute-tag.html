<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>The oaf_attribute tag</title><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="Bonobo Activation API Reference Manual"><link rel="up" href="server-xml-reference.html" title=".server file format reference"><link rel="previous" href="server-xml-reference.html" title=".server file format reference"><link rel="next" href="migrating.html" title="Migrating from gnorba to Bonobo-activation"><link rel="chapter" href="tutorial.html" title="Bonobo Activation tutorial"><link rel="chapter" href="configuring.html" title="Configuring Bonobo Activation"><link rel="chapter" href="architecture.html" title="Bonobo Activation Architecture"><link rel="chapter" href="query-langage.html" title="Bonobo Activation Query Langage"><link rel="chapter" href="server-xml-reference.html" title=".server file format reference"><link rel="chapter" href="migrating.html" title="Migrating from gnorba to Bonobo-activation"><link rel="chapter" href="api-reference.html" title="API Reference"><link rel="refentry" href="bonobo-activation-Initialization.html" title="Initialization"><link rel="refentry" href="bonobo-activation-Query-and-Activation.html" title="Query and Activation"><link rel="refentry" href="bonobo-activation-Utilities.html" title="Utilities"><link rel="refentry" href="bonobo-activation-Registration.html" title="Registration"><link rel="refentry" href="bonobo-activation-Debugging.html" title="Debugging"><link rel="article" href="lgpl.html" title="GNU Lesser General Public License"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><link rel="stylesheet" href="style.css" type="text/css"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="server-xml-reference.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="server-xml-reference.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">Bonobo Activation API Reference Manual</th><td><a accesskey="n" href="migrating.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="attribute-tag"></a>The <tt class="sgmltag-element">oaf_attribute</tt> tag</h2></div></div><div></div></div><p>
      Defining servers is useful (that is what <tt class="filename">.goad</tt> files
      did light-years ago) but to use all the power of Bonobo Activation
      (<span class="abbrev">i.e.</span> queries ;-), you have to define
      <span class="emphasis"><em><tt class="sgmltag-element">oaf_attribute</tt>s</em></span> for each of those
      <tt class="sgmltag-element">oaf_server</tt> entries.
      An example is worth all words.

      </p><pre class="programlisting">
&lt;oaf_info&gt;
  &lt;oaf_server iid="OAFIID:Bonobo_Sample_Echo_Factory" type="exe"
	      location="/usr/lib/bonobo-2.0/samples/bonobo-echo-2"&gt;
    &lt;oaf_attribute name="repo_ids" type="stringv"&gt;
      &lt;item value="IDL:Bonobo/GenericFactory:1.0"/&gt;
    &lt;/oaf_attribute&gt;
    &lt;oaf_attribute name="name" type="string" value="Echo component factory"/&gt;
    &lt;oaf_attribute name="description" type="string"
                   value="Bonobo Echo server factory"/&gt;
  &lt;/oaf_server&gt;

  &lt;oaf_server iid="OAFIID:Bonobo_Sample_Echo" type="factory"
	      location="OAFIID:Bonobo_Sample_Echo_Factory"&gt;
    &lt;oaf_attribute name="repo_ids" type="stringv"&gt;
      &lt;item value="IDL:Demo/Echo:1.0"/&gt;
    &lt;/oaf_attribute&gt;
    &lt;oaf_attribute name="name" type="string" value="Echo component"/&gt;
    &lt;oaf_attribute name="description" type="string"
                   value="Bonobo Echo server sample program"/&gt;
  &lt;/oaf_server&gt;
&lt;/oaf_info&gt;</pre><p>

      Each <tt class="sgmltag-element">oaf_server</tt> entry defines a set of attributes.
      Each attribute has a given <span class="emphasis"><em>name,</em></span>
      <span class="emphasis"><em>type,</em></span> and <span class="emphasis"><em>value.</em></span> The types of the
      attributes are those defined in the Bonobo Activation query langage reference
      (<a href="query-syntax.html#oaf-query-ref-types" title="Constants">the section called &#8220;Constants&#8221;</a>).
      Type name should be non-caps.
    </p><p>
      Values of type <span class="emphasis"><em>stringv</em></span> are represented as follows:

      </p><pre class="programlisting">
&lt;oaf_attribute name="repo_ids" type="stringv"&gt;
  &lt;item value="IDL:Bonobo/Unknown:1.0"/&gt;
  &lt;item value="IDL:Bonobo/Control:1.0"/&gt;
&lt;/oaf_attribute&gt;</pre><p>

      All other types' values are simply in the <span class="emphasis"><em>value</em></span> field.
    </p><p>
      A certain number of attributes have been normalized for GNOME.
      If a component uses any attribute from the list, it ought to have the
      meaning described here.
      Their list follows.

      
      </p><div class="table"><a name="id2696900"></a><p class="title"><b>Table 1. Normalized attributes</b></p><table summary="Normalized attributes" border="1"><colgroup><col align="left"><col align="left"><col align="left"><col></colgroup><thead><tr><th align="left">Attribute name</th><th align="left">Type</th><th align="left">Signification</th><td class="auto-generated"> </td></tr></thead><tbody><tr><td align="left">repo_ids</td><td align="left"><span class="type">stringv</span></td><td align="left">
		the list of all <span class="acronym">IDL</span> interfaces this component
                implements, including inherited interfaces.
		If <tt class="classname">Bonobo::Unknown</tt> is one of the
		interfaces, the list should include all interfaces for which a
		<tt class="function">queryInterface</tt> operation on the component
                will succeed.
	      </td><td class="auto-generated"> </td></tr><tr><td align="left">description</td><td align="left"><span class="type">string</span></td><td align="left">
		a human readable string describing what the component can do
	      </td><td class="auto-generated"> </td></tr><tr><td align="left">name</td><td align="left"><span class="type">string</span></td><td align="left">
		a short name for the component, suitable for display to the
		end user, <span class="abbrev">e.g.</span> in a menu.
	      </td><td class="auto-generated"> </td></tr><tr><td align="left">bonobo:editable</td><td align="left"><span class="type">boolean</span></td><td align="left">if the component allows editing of its content</td><td>no</td></tr><tr><td align="left">bonobo:supported_uri_schemes</td><td align="left"><span class="type">stringv</span></td><td align="left">a list of protocols this component knows how to handle.
		This only really makes sense if the component implements one
		of the following interfaces:
		<tt class="classname">Bonobo::PersistFile</tt> or
		<tt class="classname">Nautilus::View</tt></td><td class="auto-generated"> </td></tr><tr><td align="left">bonobo:supported_mime_types</td><td align="left"><span class="type">stringv</span></td><td align="left">a list of <span class="acronym">MIME</span> types this component
                understands as input.
		In addition to specific <span class="acronym">MIME</span> types, it is
                possible to include supertypes (<span class="abbrev">e.g.</span>&#8220;<span class="quote">image/*</span>&#8221; or &#8220;<span class="quote">text/*</span>&#8221;) or
                &#8220;<span class="quote">*/*</span>&#8221; to indicate the component can display any
                <span class="acronym">MIME</span> type.
		Specifying &#8220;<span class="quote">*/*</span>&#8221; is only necessary if neither
                <span class="emphasis"><em>supported_uri_schemes</em></span> nor
                <span class="emphasis"><em>additional_uri_schemes</em></span> is not specified,
                otherwise &#8220;<span class="quote">*/*</span>&#8221; is assumed.
		This only really makes sense if the component implements one
		of the following interfaces:
		<tt class="classname">Bonobo::PersistStream</tt>,
		<tt class="classname">Bonobo::PersistFile</tt>,
		or <tt class="classname">Nautilus::View</tt>.
	      </td><td class="auto-generated"> </td></tr><tr><td align="left">bonobo:additional_uri_schemes</td><td align="left"><span class="type">stringv</span></td><td align="left">a list of protocols this component knows how to handle.
                The component is applicable to any <span class="acronym">URI</span> which
                uses such a protocol, even if its <span class="acronym">MIME</span> type is
                not among <span class="emphasis"><em>supported_mime_types.</em></span>
		This only really makes sense if the component implements one
		of the following interfaces:
		<tt class="classname">Bonobo::PersistFile</tt> or
		<tt class="classname">Nautilus::View</tt></td><td class="auto-generated"> </td></tr><tr><td align="left">bonobo:moniker</td><td align="left"><span class="type">stringv</span></td><td align="left">FIXME
	      </td><td class="auto-generated"> </td></tr><tr><td align="left">bonobo:moniker_extender</td><td align="left"><span class="type">stringv</span></td><td align="left">FIXME
              </td><td class="auto-generated"> </td></tr><tr><td align="left">nautilus:view_as_name</td><td align="left"><span class="type">string</span></td><td align="left">a suitable name for use as a <span class="emphasis"><em>View as</em></span>
                name. Several labels in Nautilus will be built from this value,
                see the following attributes.
		This must be present for any Bonobo Controls that can be
		used as Nautilus views.
                </td><td class="auto-generated"> </td></tr><tr><td align="left">nautilus:view_as_label</td><td align="left"><span class="type">string</span></td><td align="left">a label (without keyboard mnemonic) for the component's menu
                item in Nautilus' <span class="emphasis"><em>View as</em></span> list (next to the
                zoom control) as well as for its entry in the
                <span class="emphasis"><em>Open with Other Viewer</em></span> window.
                It defaults to
                &#8220;<span class="quote">View as <i class="replaceable"><tt>name</tt></i></span>&#8221; where
                <i class="replaceable"><tt>name</tt></i> is the value of the
                <span class="emphasis"><em>view_as_name</em></span> attribute.
		It is discouraged to rely on this fallback because it makes
		correct translation impossible for some languages.
              </td><td class="auto-generated"> </td></tr><tr><td align="left">nautilus:view_as_label_with_mnemonic</td><td align="left"><span class="type">string</span></td><td align="left">a label (with keyboard mnemonic) for the component's menu
                item in Nautilus' <span class="guimenu">View</span> menu.
                Thus the mnemonic must not clash with one from a built-in menu
                item.
                If omitted, the value of <span class="emphasis"><em>view_as_label</em></span> will
                be used instead.
              </td><td class="auto-generated"> </td></tr><tr><td align="left">nautilus:viewer_label</td><td align="left"><span class="type">string</span></td><td align="left">a label for the component's menu item in the
                <span class="guimenu">Open With</span> submenu of Nautilus'  context menu
                for files and the <span class="guimenu">File</span> menu.
                It defaults to
                &#8220;<span class="quote"><i class="replaceable"><tt>name</tt></i> Viewer</span>&#8221; where
                <i class="replaceable"><tt>name</tt></i> is the value of the
                <span class="emphasis"><em>view_as_name</em></span> attribute.
		It is discouraged to rely on this fallback because it makes
		correct translation impossible for some languages.
              </td><td class="auto-generated"> </td></tr><tr><td align="left">nautilus:required_directory_content_mime_types</td><td align="left"><span class="type">stringv</span></td><td align="left">if the component is to be activated on a
		<span class="acronym">URI</span> with <span class="acronym">MIME</span> type
                &#8220;<span class="quote">special/directory</span>&#8221;, it is only really applicable
                if the directory contains a file with one of the
                <span class="acronym">MIME</span> types listed in this attribute.
		As before, supertypes like &#8220;<span class="quote">audio/*</span>&#8221; are allowed.
		If this attribute is omitted, &#8220;<span class="quote">*/*</span>&#8221; is assumed.
	      </td><td class="auto-generated"> </td></tr><tr><td align="left">nautilus:sidebar_panel_name</td><td align="left"><span class="type">string</span></td><td align="left">a suitable name for use as a sidebar panel label name.
                This must be implemented by any Bonobo Controls that can be
                used as a Nautilus sidebar view.
              </td><td class="auto-generated"> </td></tr><tr><td align="left">nautilus:context_menu_handler</td><td class="auto-generated"> </td><td class="auto-generated"> </td><td class="auto-generated"> </td></tr><tr><td align="left">nautilus:can_handle_multiple_files</td><td class="auto-generated"> </td><td class="auto-generated"> </td><td class="auto-generated"> </td></tr><tr><td align="left">nautilus:property_page_name</td><td class="auto-generated"> </td><td class="auto-generated"> </td><td class="auto-generated"> </td></tr><tr><td align="left">nautilusverb:<i class="replaceable"><tt>verbname</tt></i></td><td class="auto-generated"> </td><td class="auto-generated"> </td><td class="auto-generated"> </td></tr></tbody></table></div><p>
    </p><p>
      If <span class="emphasis"><em>bonobo:supported_uri_schemes</em></span> or
      <span class="emphasis"><em>bonobo:additional_uri_schemes</em></span> is specified but
      <span class="emphasis"><em>bonobo:supported_mime_types</em></span> is not, it is assumed the
      component can handle any type of data that might come via that protocol.

      Some schemes may not even have an associated <span class="acronym">MIME</span>
      type for any given URI, for instance <tt class="filename">irc:</tt> or
      <tt class="filename">news:</tt>
    </p><p>
      If <span class="emphasis"><em>bonobo:supported_mime_types</em></span> is specified but
      <span class="emphasis"><em>bonobo:supported_uri_schemes</em></span> is not, the component
      is assumed to be able to handle all common URI schemes (possible
      definition: anything gnome-vfs can handle).
    </p><p>
      If neither <span class="emphasis"><em>bonobo:supported_uri_schemes</em></span> nor
      <span class="emphasis"><em>bonobo:additional_uri_schemes</em></span> nor
      <span class="emphasis"><em>bonobo:supported_mime_types</em></span> is specified, it is
      assumed the component cannot handle any data at all in a general way
      and should never be generically selected for such purposes.
    </p><p>
      Nautilus considers a component as a view if it can handle the data
      from a URI and implements the <tt class="classname">Nautilus::View</tt>
      interface or <tt class="classname">Bonobo::Control</tt> and
      <tt class="classname">Bonobo::PersistStream</tt> or
      <tt class="classname">Bonobo::PersistFile</tt>.
    </p></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="server-xml-reference.html"><b>&lt;&lt; .server file format reference</b></a></td><td align="right"><a accesskey="n" href="migrating.html"><b>Migrating from gnorba to Bonobo-activation &gt;&gt;</b></a></td></tr></table></body></html>
