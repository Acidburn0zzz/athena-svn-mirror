XCOMM 
XCOMM (c) Copyright 1989, 1990, 1991, 1992, 1993 OPEN SOFTWARE FOUNDATION, INC. 
XCOMM ALL RIGHTS RESERVED 
XCOMM 
XCOMM 
XCOMM Motif Release 1.2.3
XCOMM 
XCOMM   $RCSfile: Imakefile,v $ $Revision: 1.1.1.1 $ $Date: 1999-01-30 03:16:37 $

#define DoNormalLib NormalLibUil
#define DoSharedLib SharedLibUil
#define DoDebugLib DebugLibUil
#define DoProfileLib ProfileLibUil

#include <Library.tmpl>

#ifdef RsArchitecture
REQUIREDLIBS = $(MRESOURCESRC)/libMrm.a $(MTOOLKITSRC)/libXm.a $(TOOLKITSRC)/libXt.a $(XLIBSRC)/libX11.a
#endif

INCLUDES	= -I. -I$(INCLUDESRC) -I$(MINCLUDESRC) -I$(MLIBSRC)
DEPLIBS		= BuildClientDepLibs
LOCAL_LIBRARIES = BuildClientLibs
LINTLIBS	= $(LINTMRESOURCE) $(LINTXMLIB) $(LINTXMTOOL) $(LINTXLIB)
INSTALLFLAGS	= $(INSTINCFLAGS)

COMMON_SRC =	UilCmd.c 	UilDiags.c	UilKeyTab.c	UilLexAna.c  \
	UilLexPars.c	UilLstLst.c	UilP2Out.c	UilP2Reslv.c \
	UilSarComp.c	UilSarExp.c	UilSarInc.c	UilSarMod.c \
	UilSarObj.c	UilSarProc.c	UilSarVal.c	UilSrcSrc.c  \
	UilSymNam.c	UilSymStor.c	UilData.c	\
	UilLstMac.c	UilSemVal.c	UilSemCSet.c	UilDB.c

SRCS  = $(COMMON_SRC)	UilMain.c

COMMON_OBJ =	UilCmd.o	UilDiags.o	UilKeyTab.o	UilLexAna.o  \
	UilLexPars.o	UilLstLst.o	UilP2Out.o	UilP2Reslv.o \
	UilSarComp.o	UilSarExp.o	UilSarInc.o	UilSarMod.o \
	UilSarObj.o	UilSarProc.o	UilSarVal.o	UilSrcSrc.o  \
	UilSymNam.o	UilSymStor.o	UilData.o \
	UilLstMac.o	UilSemVal.o	UilSemCSet.o	UilDB.o

OBJS =	$(COMMON_OBJ)	UilMain.o

OBJS4LIB = $(COMMON_OBJ)	UilParser.o

HEADERS = 	Uil.h	UilSymGl.h	UilDBDef.h	UilSymDef.h \
	UilDef.h	XmAppl.uil

PROGRAMS = uil

LibraryObjectRule()
MComplexProgramTarget(uil,$(LOCAL_LIBRARIES),NullParameter)

SpecialLibObjectRule(UilDB.o,$(ICONFIGFILES),-DLIBDIR=\"$(LIBDIR)\" -DINCDIR=\"$(INCDIR)\")

#if DoSharedLib
#if DoNormalLib
SharedLibraryTarget(Uil,$(SOUILREV),$(OBJS4LIB),shared,..)
#else
SharedLibraryTarget(Uil,$(SOUILREV),$(OBJS4LIB),.,.)
#endif
InstallSharedLibrary(Uil,$(SOUILREV),$(USRLIBDIR))
#endif
#if DoNormalLib
NormalLibraryTarget(Uil,$(OBJS4LIB))
InstallLibrary(Uil,$(USRLIBDIR))
#endif
#if DoProfileLib
ProfiledLibraryTarget(Uil,$(OBJS4LIB))
InstallLibrary(Uil_p,$(USRLIBDIR))
#endif
#if DoDebugLib
DebuggedLibraryTarget(Uil,$(OBJS4LIB))
InstallLibrary(Uil_d,$(USRLIBDIR))
#endif

LintLibraryTarget(Uil,$(COMMON_SRC))
InstallLintLibrary(Uil,$(LINTLIBDIR))

BuildIncludes($(HEADERS),uil,..)

InstallMultiple($(HEADERS),$(USRINCDIR)/uil)

LinkFile(UilParser.c,UilMain.c)
SpecialLibObjectRule(UilParser.o,NullParameter,-DCALLABLE)

#ifdef UseVista
VistaMapRule(uil.M,libUil.a)
#endif
