<refentry id="bonobo-bonobo-canvas-component" revision="9 Feb 2001">
<refmeta>
<refentrytitle>BonoboCanvasComponent</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>BONOBO Library</refmiscinfo>
</refmeta>

<refnamediv>
<refname>BonoboCanvasComponent</refname><refpurpose>Class for exporting BonoboCanvasItems through BonoboEmbeddables to
other applications.</refpurpose>
</refnamediv>

<refsynopsisdiv><title>Synopsis</title>
<synopsis>



#define     <link linkend="BONOBO-CANVAS-COMPONENT-TYPE-CAPS">BONOBO_CANVAS_COMPONENT_TYPE</link>
#define     <link linkend="BONOBO-CANVAS-COMPONENT-CAPS">BONOBO_CANVAS_COMPONENT</link>         (o)
#define     <link linkend="BONOBO-CANVAS-COMPONENT-CLASS-CAPS">BONOBO_CANVAS_COMPONENT_CLASS</link>   (k)
#define     <link linkend="BONOBO-IS-CANVAS-COMPONENT-CAPS">BONOBO_IS_CANVAS_COMPONENT</link>      (o)
#define     <link linkend="BONOBO-IS-CANVAS-COMPONENT-CLASS-CAPS">BONOBO_IS_CANVAS_COMPONENT_CLASS</link>(k)
typedef     <link linkend="BonoboCanvasComponent">BonoboCanvasComponent</link>;
typedef     <link linkend="BonoboCanvasComponentClass">BonoboCanvasComponentClass</link>;
<link linkend="Bonobo-Canvas-Component">Bonobo_Canvas_Component</link> <link linkend="bonobo-canvas-component-object-create">bonobo_canvas_component_object_create</link>
                                            (<link linkend="BonoboObject">BonoboObject</link> *object);
void        <link linkend="bonobo-canvas-component-set-proxy">bonobo_canvas_component_set_proxy</link>
                                            (<link linkend="BonoboCanvasComponent">BonoboCanvasComponent</link> *comp,
                                             <link linkend="Bonobo-Canvas-ComponentProxy">Bonobo_Canvas_ComponentProxy</link> proxy);
<link linkend="BonoboCanvasComponent">BonoboCanvasComponent</link>* <link linkend="bonobo-canvas-component-construct">bonobo_canvas_component_construct</link>
                                            (<link linkend="BonoboCanvasComponent">BonoboCanvasComponent</link> *comp,
                                             <link linkend="Bonobo-Canvas-Component">Bonobo_Canvas_Component</link> corba_canvas_comp,
                                             <link linkend="GnomeCanvasItem">GnomeCanvasItem</link> *item);
<link linkend="BonoboCanvasComponent">BonoboCanvasComponent</link>* <link linkend="bonobo-canvas-component-new">bonobo_canvas_component_new</link>
                                            (<link linkend="GnomeCanvasItem">GnomeCanvasItem</link> *item);
<link linkend="GnomeCanvasItem">GnomeCanvasItem</link>* <link linkend="bonobo-canvas-component-get-item">bonobo_canvas_component_get_item</link>
                                            (<link linkend="BonoboCanvasComponent">BonoboCanvasComponent</link> *comp);
<link linkend="POA-Bonobo-Canvas-Component--epv">POA_Bonobo_Canvas_Component__epv</link>* <link linkend="bonobo-canvas-component-get-epv">bonobo_canvas_component_get_epv</link>
                                            (void);

</synopsis>
</refsynopsisdiv>





<refsect1>
<title>Description</title>
<para>
  The BonoboCanvasComponent objects are used to wrap a GnomeCanvasItems
  and export them to a container application.  Typically the
  <link linkend="bonobo-component-canvas-new">bonobo_component_canvas_new</link>() function will be invoked in a callback
  from a BonoboEmbeddable object.  Like this:
</para>

<para>
  Here is an example of how to export Gnome Canvas Items in a simple
  way.  
  <example>
    <title>Wrapping a Gnome Canvas Item</title>
    <programlisting>

/*
 * Here is where the GnomeCanvasItem (in this case an ellipse
 * is created and wrapped in a BonoboCanvasComponent.
 *
 * This function is invoked on demand on the embeddable
 * argument.  Embeddables are the document model, and the
 * items returned are the views.  
 */
BonoboCanvasComponent *
my_item_creator (BonoboEmbeddable *embeddable,
                 GnomeCanvas      *canvas,
                 void             *data)
{
        GnomeCanvasItem *item = gnome_canvas_item_new (
		gnome_canvas_root (canvas),
                <link linkend="gnome-canvas-ellipse-get-type">gnome_canvas_ellipse_get_type</link>(),
                "x1", 5.0,  "y1", 5.0,
                "x2", 95.0, "y2", 95.0,
                "fill_color", "white",
                "outline_color", "black",
                NULL);

        return gnome_canvas_component_new (item);
}

/*
 * This is a routine that creates a BonoboEmbeddable that
 * uses CanvasItems.
 */
BonoboEmbeddable *make_embeddable (void)
{
       return bonobo_embeddable_new_canvas_item (my_item_creator, NULL);
}
    </programlisting>
  </example>
</para>

<para>
  Applications that do not use the base <link linkend="BonoboEmbeddable">BonoboEmbeddable</link> class, but
  use their own types derived from the <link linkend="BonoboEmbeddable">BonoboEmbeddable</link> can use the
  <link linkend="bonobo-embeddable-construct">bonobo_embeddable_construct</link>() during their construction phase. 
</para>

<para>
  On the client side (the application that will embed this component)
  an object of the type <link linkend="BonoboCanvasItem">BonoboCanvasItem</link> is used.
</para>
</refsect1>

<refsect1>
<title>Details</title>
<refsect2>
<title><anchor id="BONOBO-CANVAS-COMPONENT-TYPE-CAPS">BONOBO_CANVAS_COMPONENT_TYPE</title>
<programlisting>#define BONOBO_CANVAS_COMPONENT_TYPE        (bonobo_canvas_component_get_type ())
</programlisting>
<para>

</para></refsect2>
<refsect2>
<title><anchor id="BONOBO-CANVAS-COMPONENT-CAPS">BONOBO_CANVAS_COMPONENT()</title>
<programlisting>#define BONOBO_CANVAS_COMPONENT(o)          (GTK_CHECK_CAST ((o), BONOBO_CANVAS_COMPONENT_TYPE, BonoboCanvasComponent))
</programlisting>
<para>

</para><informaltable pgwide=1 frame="none" role="params">
<tgroup cols="2">
<colspec colwidth="2*">
<colspec colwidth="8*">
<tbody>
<row><entry align="right"><parameter>o</parameter>&nbsp;:</entry>
<entry>


</entry></row>
</tbody></tgroup></informaltable></refsect2>
<refsect2>
<title><anchor id="BONOBO-CANVAS-COMPONENT-CLASS-CAPS">BONOBO_CANVAS_COMPONENT_CLASS()</title>
<programlisting>#define BONOBO_CANVAS_COMPONENT_CLASS(k)    (GTK_CHECK_CLASS_CAST((k), BONOBO_CANVAS_COMPONENT__TYPE, BonoboCanvasComponentClass))
</programlisting>
<para>

</para><informaltable pgwide=1 frame="none" role="params">
<tgroup cols="2">
<colspec colwidth="2*">
<colspec colwidth="8*">
<tbody>
<row><entry align="right"><parameter>k</parameter>&nbsp;:</entry>
<entry>


</entry></row>
</tbody></tgroup></informaltable></refsect2>
<refsect2>
<title><anchor id="BONOBO-IS-CANVAS-COMPONENT-CAPS">BONOBO_IS_CANVAS_COMPONENT()</title>
<programlisting>#define BONOBO_IS_CANVAS_COMPONENT(o)       (GTK_CHECK_TYPE ((o), BONOBO_CANVAS_COMPONENT_TYPE))
</programlisting>
<para>

</para><informaltable pgwide=1 frame="none" role="params">
<tgroup cols="2">
<colspec colwidth="2*">
<colspec colwidth="8*">
<tbody>
<row><entry align="right"><parameter>o</parameter>&nbsp;:</entry>
<entry>


</entry></row>
</tbody></tgroup></informaltable></refsect2>
<refsect2>
<title><anchor id="BONOBO-IS-CANVAS-COMPONENT-CLASS-CAPS">BONOBO_IS_CANVAS_COMPONENT_CLASS()</title>
<programlisting>#define BONOBO_IS_CANVAS_COMPONENT_CLASS(k) (GTK_CHECK_CLASS_TYPE ((k), BONOBO_CANVAS_COMPONENT_TYPE))
</programlisting>
<para>

</para><informaltable pgwide=1 frame="none" role="params">
<tgroup cols="2">
<colspec colwidth="2*">
<colspec colwidth="8*">
<tbody>
<row><entry align="right"><parameter>k</parameter>&nbsp;:</entry>
<entry>


</entry></row>
</tbody></tgroup></informaltable></refsect2>
<refsect2>
<title><anchor id="BonoboCanvasComponent">BonoboCanvasComponent</title>
<programlisting>typedef struct {
	BonoboObject base;
	BonoboCanvasComponentPrivate *priv;
} BonoboCanvasComponent;
</programlisting>
<para>

</para></refsect2>
<refsect2>
<title><anchor id="BonoboCanvasComponentClass">BonoboCanvasComponentClass</title>
<programlisting>typedef struct {
	BonoboObjectClass parent_class;

	/*
	 * Signals
	 */
	 void (*set_bounds) (BonoboCanvasComponent *component,
			     Bonobo_Canvas_DRect *bbox,
			     CORBA_Environment *ev);
} BonoboCanvasComponentClass;
</programlisting>
<para>
  
</para></refsect2>
<refsect2>
<title><anchor id="bonobo-canvas-component-object-create">bonobo_canvas_component_object_create ()</title>
<programlisting><link linkend="Bonobo-Canvas-Component">Bonobo_Canvas_Component</link> bonobo_canvas_component_object_create
                                            (<link linkend="BonoboObject">BonoboObject</link> *object);</programlisting>
<para>

</para><informaltable pgwide=1 frame="none" role="params">
<tgroup cols="2">
<colspec colwidth="2*">
<colspec colwidth="8*">
<tbody>
<row><entry align="right"><parameter>object</parameter>&nbsp;:</entry>
<entry>
</entry></row>
<row><entry align="right"><emphasis>Returns</emphasis> :</entry><entry>


</entry></row>
</tbody></tgroup></informaltable></refsect2>
<refsect2>
<title><anchor id="bonobo-canvas-component-set-proxy">bonobo_canvas_component_set_proxy ()</title>
<programlisting>void        bonobo_canvas_component_set_proxy
                                            (<link linkend="BonoboCanvasComponent">BonoboCanvasComponent</link> *comp,
                                             <link linkend="Bonobo-Canvas-ComponentProxy">Bonobo_Canvas_ComponentProxy</link> proxy);</programlisting>
<para>

</para><informaltable pgwide=1 frame="none" role="params">
<tgroup cols="2">
<colspec colwidth="2*">
<colspec colwidth="8*">
<tbody>
<row><entry align="right"><parameter>comp</parameter>&nbsp;:</entry>
<entry>
</entry></row>
<row><entry align="right"><parameter>proxy</parameter>&nbsp;:</entry>
<entry>


</entry></row>
</tbody></tgroup></informaltable></refsect2>
<refsect2>
<title><anchor id="bonobo-canvas-component-construct">bonobo_canvas_component_construct ()</title>
<programlisting><link linkend="BonoboCanvasComponent">BonoboCanvasComponent</link>* bonobo_canvas_component_construct
                                            (<link linkend="BonoboCanvasComponent">BonoboCanvasComponent</link> *comp,
                                             <link linkend="Bonobo-Canvas-Component">Bonobo_Canvas_Component</link> corba_canvas_comp,
                                             <link linkend="GnomeCanvasItem">GnomeCanvasItem</link> *item);</programlisting>
<para>

</para><informaltable pgwide=1 frame="none" role="params">
<tgroup cols="2">
<colspec colwidth="2*">
<colspec colwidth="8*">
<tbody>
<row><entry align="right"><parameter>comp</parameter>&nbsp;:</entry>
<entry>
</entry></row>
<row><entry align="right"><parameter>corba_canvas_comp</parameter>&nbsp;:</entry>
<entry>
</entry></row>
<row><entry align="right"><parameter>item</parameter>&nbsp;:</entry>
<entry>
</entry></row>
<row><entry align="right"><emphasis>Returns</emphasis> :</entry><entry>
</entry></row>
</tbody></tgroup></informaltable></refsect2>
<refsect2>
<title><anchor id="bonobo-canvas-component-new">bonobo_canvas_component_new ()</title>
<programlisting><link linkend="BonoboCanvasComponent">BonoboCanvasComponent</link>* bonobo_canvas_component_new
                                            (<link linkend="GnomeCanvasItem">GnomeCanvasItem</link> *item);</programlisting>
<para>

</para><informaltable pgwide=1 frame="none" role="params">
<tgroup cols="2">
<colspec colwidth="2*">
<colspec colwidth="8*">
<tbody>
<row><entry align="right"><parameter>item</parameter>&nbsp;:</entry>
<entry>
</entry></row>
<row><entry align="right"><emphasis>Returns</emphasis> :</entry><entry>


</entry></row>
</tbody></tgroup></informaltable></refsect2>
<refsect2>
<title><anchor id="bonobo-canvas-component-get-item">bonobo_canvas_component_get_item ()</title>
<programlisting><link linkend="GnomeCanvasItem">GnomeCanvasItem</link>* bonobo_canvas_component_get_item
                                            (<link linkend="BonoboCanvasComponent">BonoboCanvasComponent</link> *comp);</programlisting>
<para>

</para><informaltable pgwide=1 frame="none" role="params">
<tgroup cols="2">
<colspec colwidth="2*">
<colspec colwidth="8*">
<tbody>
<row><entry align="right"><parameter>comp</parameter>&nbsp;:</entry>
<entry>
</entry></row>
<row><entry align="right"><emphasis>Returns</emphasis> :</entry><entry>


</entry></row>
</tbody></tgroup></informaltable></refsect2>
<refsect2>
<title><anchor id="bonobo-canvas-component-get-epv">bonobo_canvas_component_get_epv ()</title>
<programlisting><link linkend="POA-Bonobo-Canvas-Component--epv">POA_Bonobo_Canvas_Component__epv</link>* bonobo_canvas_component_get_epv
                                            (void);</programlisting>
<para>

</para><informaltable pgwide=1 frame="none" role="params">
<tgroup cols="2">
<colspec colwidth="2*">
<colspec colwidth="8*">
<tbody>
<row><entry align="right"><emphasis>Returns</emphasis> :</entry><entry>


</entry></row>
</tbody></tgroup></informaltable></refsect2>

</refsect1>



<refsect1>
<title>See Also</title>
<para>
  <link linkend="BonoboEmbeddable">BonoboEmbeddable</link>, <link linkend="BonoboCanvasItem">BonoboCanvasItem</link>
</para>
</refsect1>

</refentry>
