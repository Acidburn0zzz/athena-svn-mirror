/*
 * This file was generated by orbit-idl - DO NOT EDIT!
 */

#include <string.h>
#include "oaf.h"

void
_ORBIT_OAF_GeneralError_demarshal(GIOPRecvBuffer * _ORBIT_recv_buffer,
				  CORBA_Environment * ev)
{
   guchar *_ORBIT_curptr;
   register CORBA_unsigned_long _ORBIT_tmpvar_0;
   CORBA_unsigned_long _ORBIT_tmpvar_1;
   OAF_GeneralError *_ORBIT_exdata = OAF_GeneralError__alloc();

   _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
   if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
      _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
      
	 (*((guint32 *) & (_ORBIT_tmpvar_1))) =
	 GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr)); _ORBIT_curptr += 4;
      (*_ORBIT_exdata).description = CORBA_string_alloc(_ORBIT_tmpvar_1);
      memcpy((*_ORBIT_exdata).description, _ORBIT_curptr,
	     sizeof((*_ORBIT_exdata).description[_ORBIT_tmpvar_0]) *
	     _ORBIT_tmpvar_1);
      _ORBIT_curptr +=
	 sizeof((*_ORBIT_exdata).description[_ORBIT_tmpvar_0]) *
	 _ORBIT_tmpvar_1;
   } else {
      _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
      _ORBIT_tmpvar_1 = *((CORBA_unsigned_long *) _ORBIT_curptr);
      _ORBIT_curptr += 4;
      (*_ORBIT_exdata).description = CORBA_string_alloc(_ORBIT_tmpvar_1);
      memcpy((*_ORBIT_exdata).description, _ORBIT_curptr,
	     sizeof((*_ORBIT_exdata).description[_ORBIT_tmpvar_0]) *
	     _ORBIT_tmpvar_1);
      _ORBIT_curptr +=
	 sizeof((*_ORBIT_exdata).description[_ORBIT_tmpvar_0]) *
	 _ORBIT_tmpvar_1;
   }
   CORBA_exception_set(ev, CORBA_USER_EXCEPTION,
		       TC_OAF_GeneralError_struct.repo_id, _ORBIT_exdata);
}

void
OAF_ActivationCallback_report_activation_failed(OAF_ActivationCallback _obj,
						const CORBA_char * reason,
						CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;

   if (_obj->servant && _obj->vepv && OAF_ActivationCallback__classid) {
      
	 ((POA_OAF_ActivationCallback__epv *) _obj->
       vepv[OAF_ActivationCallback__classid])->report_activation_failed(_obj->
									servant,
									reason,
									ev);
      return;
   }
   _cnx = ORBit_object_get_connection(_obj);
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[25];
      }
      _ORBIT_operation_name_data =
      {
      25, "report_activation_failed"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 29 };
      register CORBA_unsigned_long _ORBIT_tmpvar_0;
      CORBA_unsigned_long _ORBIT_tmpvar_1;

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_FALSE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_tmpvar_1 = strlen(reason) + 1;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_1));
	 memcpy(_ORBIT_t, &(_ORBIT_tmpvar_1), sizeof(_ORBIT_tmpvar_1));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof(_ORBIT_tmpvar_1));
      }
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     (reason),
				     sizeof(reason[_ORBIT_tmpvar_0]) *
				     _ORBIT_tmpvar_1);
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   return;
 _ORBIT_system_exception:
   CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
			      _ORBIT_completion_status);
   giop_recv_buffer_unuse(_ORBIT_recv_buffer);
   giop_send_buffer_unuse(_ORBIT_send_buffer);
   return;
}

void
OAF_ActivationCallback_report_activation_succeeded(OAF_ActivationCallback
						   _obj,
						   const OAF_ActivationResult
						   * result,
						   CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;

   if (_obj->servant && _obj->vepv && OAF_ActivationCallback__classid) {
      
	 ((POA_OAF_ActivationCallback__epv *) _obj->
       vepv[OAF_ActivationCallback__classid])->
report_activation_succeeded(_obj->servant, result, ev);
      return;
   }
   _cnx = ORBit_object_get_connection(_obj);
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[28];
      }
      _ORBIT_operation_name_data =
      {
      28, "report_activation_succeeded"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 32 };
      register CORBA_unsigned_long _ORBIT_tmpvar_0;
      CORBA_unsigned_long _ORBIT_tmpvar_1;
      register CORBA_unsigned_long _ORBIT_tmpvar_2;
      register CORBA_unsigned_long _ORBIT_tmpvar_3;
      CORBA_unsigned_long _ORBIT_tmpvar_4;

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_FALSE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_tmpvar_1 = strlen((*result).aid) + 1;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_1));
	 memcpy(_ORBIT_t, &(_ORBIT_tmpvar_1), sizeof(_ORBIT_tmpvar_1));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof(_ORBIT_tmpvar_1));
      }
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     ((*result).aid),
				     sizeof((*result).aid[_ORBIT_tmpvar_0]) *
				     _ORBIT_tmpvar_1);
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     &((*result).res._d),
				     sizeof((*result).res._d));
      switch ((*result).res._d) {
	case OAF_RESULT_OBJECT:
	   ORBit_marshal_object(_ORBIT_send_buffer,
				(*result).res._u.res_object);
	   break;
	case OAF_RESULT_SHLIB:
	   {
	      guchar *_ORBIT_t;

	      _ORBIT_t = alloca(sizeof((*result).res._u.res_shlib._length));
	      memcpy(_ORBIT_t, &((*result).res._u.res_shlib._length),
		     sizeof((*result).res._u.res_shlib._length));
	      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					     (_ORBIT_send_buffer), (_ORBIT_t),
					     sizeof((*result).res._u.
						    res_shlib._length));
	   }
	   for (_ORBIT_tmpvar_2 = 0;
		_ORBIT_tmpvar_2 < (*result).res._u.res_shlib._length;
		_ORBIT_tmpvar_2++) {
	      _ORBIT_tmpvar_4 =
		 strlen((*result).res._u.res_shlib._buffer[_ORBIT_tmpvar_2]) +
		 1;
	      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
					       (_ORBIT_send_buffer), 4);
	      {
		 guchar *_ORBIT_t;

		 _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_4));
		 memcpy(_ORBIT_t, &(_ORBIT_tmpvar_4),
			sizeof(_ORBIT_tmpvar_4));
		 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
						(_ORBIT_send_buffer),
						(_ORBIT_t),
						sizeof(_ORBIT_tmpvar_4));
	      }
	      {
		 guchar *_ORBIT_t;

		 _ORBIT_t =
		    alloca(sizeof
			   ((*result).res._u.res_shlib.
			    _buffer[_ORBIT_tmpvar_2][_ORBIT_tmpvar_3]) *
			   _ORBIT_tmpvar_4);
		    memcpy(_ORBIT_t,
			   ((*result).res._u.res_shlib.
			    _buffer[_ORBIT_tmpvar_2]),
			   sizeof((*result).res._u.res_shlib.
				  _buffer[_ORBIT_tmpvar_2][_ORBIT_tmpvar_3]) *
			   _ORBIT_tmpvar_4);
		 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
						(_ORBIT_send_buffer),
						(_ORBIT_t),
						sizeof((*result).res._u.
						       res_shlib.
						       _buffer
						       [_ORBIT_tmpvar_2]
						       [_ORBIT_tmpvar_3]) *
						_ORBIT_tmpvar_4);
	      }
	   }

	   break;
	default:
	   break;
      }
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   return;
 _ORBIT_system_exception:
   CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
			      _ORBIT_completion_status);
   giop_recv_buffer_unuse(_ORBIT_recv_buffer);
   giop_send_buffer_unuse(_ORBIT_send_buffer);
   return;
}

OAF_ServerInfoListCache *
OAF_ObjectDirectory_get_servers(OAF_ObjectDirectory _obj,
				const OAF_CacheTime only_if_newer,
				CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   OAF_ServerInfoListCache *_ORBIT_retval;
   register CORBA_unsigned_long _ORBIT_tmpvar_21;
   register CORBA_unsigned_long _ORBIT_tmpvar_22;
   CORBA_unsigned_long _ORBIT_tmpvar_23;
   register CORBA_unsigned_long _ORBIT_tmpvar_24;
   CORBA_unsigned_long _ORBIT_tmpvar_25;
   register CORBA_unsigned_long _ORBIT_tmpvar_26;
   CORBA_unsigned_long _ORBIT_tmpvar_27;
   register CORBA_unsigned_long _ORBIT_tmpvar_28;
   CORBA_unsigned_long _ORBIT_tmpvar_29;
   register CORBA_unsigned_long _ORBIT_tmpvar_30;
   CORBA_unsigned_long _ORBIT_tmpvar_31;
   register CORBA_unsigned_long _ORBIT_tmpvar_32;
   CORBA_unsigned_long _ORBIT_tmpvar_33;
   register CORBA_unsigned_long _ORBIT_tmpvar_34;
   register CORBA_unsigned_long _ORBIT_tmpvar_35;
   CORBA_unsigned_long _ORBIT_tmpvar_36;
   register CORBA_unsigned_long _ORBIT_tmpvar_37;
   CORBA_unsigned_long _ORBIT_tmpvar_38;
   register CORBA_unsigned_long _ORBIT_tmpvar_39;
   register CORBA_unsigned_long _ORBIT_tmpvar_40;
   CORBA_unsigned_long _ORBIT_tmpvar_41;

   if (_obj->servant && _obj->vepv && OAF_ObjectDirectory__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ObjectDirectory__epv *) _obj->
	  vepv[OAF_ObjectDirectory__classid])->get_servers(_obj->servant,
							   only_if_newer, ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[12];
      }
      _ORBIT_operation_name_data =
      {
      12, "get_servers"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 16 };

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 8);
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     &(only_if_newer), sizeof(only_if_newer));
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_retval = OAF_ServerInfoListCache__alloc();
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 (*_ORBIT_retval)._d = *((CORBA_boolean *) _ORBIT_curptr);
	 _ORBIT_curptr += 1;
	 switch ((*_ORBIT_retval)._d) {
	   case CORBA_TRUE:
	      _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	      
		 (*((guint32 *) & ((*_ORBIT_retval)._u.server_list._length)))
		 = GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	      _ORBIT_curptr += 4;
	      (*_ORBIT_retval)._u.server_list._maximum = (*_ORBIT_retval)._u.server_list._length;
	      
		 (*_ORBIT_retval)._u.server_list._buffer =
		 CORBA_sequence_OAF_ServerInfo_allocbuf((*_ORBIT_retval)._u.
							server_list._length);
	      (*_ORBIT_retval)._u.server_list._release = CORBA_TRUE;
	      for (_ORBIT_tmpvar_21 = 0;
		   _ORBIT_tmpvar_21 < (*_ORBIT_retval)._u.server_list._length;
		   _ORBIT_tmpvar_21++) {
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 
		    (*((guint32 *) & (_ORBIT_tmpvar_23))) =
		    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    iid = CORBA_string_alloc(_ORBIT_tmpvar_23);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].iid, _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       iid[_ORBIT_tmpvar_22]) * _ORBIT_tmpvar_23);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].iid[_ORBIT_tmpvar_22]) *
		    _ORBIT_tmpvar_23;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 
		    (*((guint32 *) & (_ORBIT_tmpvar_25))) =
		    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    server_type = CORBA_string_alloc(_ORBIT_tmpvar_25);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].server_type, _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       server_type[_ORBIT_tmpvar_24]) *
			_ORBIT_tmpvar_25);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].
			   server_type[_ORBIT_tmpvar_24]) * _ORBIT_tmpvar_25;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 
		    (*((guint32 *) & (_ORBIT_tmpvar_27))) =
		    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    location_info = CORBA_string_alloc(_ORBIT_tmpvar_27);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].location_info,
			_ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       location_info[_ORBIT_tmpvar_26]) *
			_ORBIT_tmpvar_27);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].
			   location_info[_ORBIT_tmpvar_26]) *
		    _ORBIT_tmpvar_27;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 
		    (*((guint32 *) & (_ORBIT_tmpvar_29))) =
		    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    username = CORBA_string_alloc(_ORBIT_tmpvar_29);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].username, _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       username[_ORBIT_tmpvar_28]) *
			_ORBIT_tmpvar_29);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].
			   username[_ORBIT_tmpvar_28]) * _ORBIT_tmpvar_29;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 
		    (*((guint32 *) & (_ORBIT_tmpvar_31))) =
		    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    hostname = CORBA_string_alloc(_ORBIT_tmpvar_31);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].hostname, _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       hostname[_ORBIT_tmpvar_30]) *
			_ORBIT_tmpvar_31);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].
			   hostname[_ORBIT_tmpvar_30]) * _ORBIT_tmpvar_31;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 
		    (*((guint32 *) & (_ORBIT_tmpvar_33))) =
		    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    domain = CORBA_string_alloc(_ORBIT_tmpvar_33);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].domain, _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       domain[_ORBIT_tmpvar_32]) * _ORBIT_tmpvar_33);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].
			   domain[_ORBIT_tmpvar_32]) * _ORBIT_tmpvar_33;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 
		    (*
		  ((guint32 *) &
		((*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		 props._length))) =
GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr)); _ORBIT_curptr += 4;
		 (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    props._maximum =
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    props._length;
		 (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    props._buffer =
		    CORBA_sequence_OAF_Property_allocbuf((*_ORBIT_retval)._u.
							 server_list.
							 _buffer
							 [_ORBIT_tmpvar_21].
							 props._length);
		 (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    props._release = CORBA_TRUE;
		 for (_ORBIT_tmpvar_34 = 0;
		      _ORBIT_tmpvar_34 <
		      (*_ORBIT_retval)._u.server_list.
		      _buffer[_ORBIT_tmpvar_21].props._length;
		      _ORBIT_tmpvar_34++) {
		    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		    
		       (*((guint32 *) & (_ORBIT_tmpvar_36))) =
		       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		    _ORBIT_curptr += 4;
		    
		       (*_ORBIT_retval)._u.server_list.
		       _buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].name =
		       CORBA_string_alloc(_ORBIT_tmpvar_36);
		    memcpy((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].props.
			   _buffer[_ORBIT_tmpvar_34].name, _ORBIT_curptr,
			   sizeof((*_ORBIT_retval)._u.server_list.
				  _buffer[_ORBIT_tmpvar_21].props.
				  _buffer[_ORBIT_tmpvar_34].
				  name[_ORBIT_tmpvar_35]) * _ORBIT_tmpvar_36);
		    _ORBIT_curptr +=
		       sizeof((*_ORBIT_retval)._u.server_list.
			      _buffer[_ORBIT_tmpvar_21].props.
			      _buffer[_ORBIT_tmpvar_34].
			      name[_ORBIT_tmpvar_35]) * _ORBIT_tmpvar_36;
		    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		    
		       (*
		     ((guint32 *) &
		   ((*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    props._buffer[_ORBIT_tmpvar_34].v._d))) =
		       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		    _ORBIT_curptr += 4;
		    switch ((*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._d) {
		      case OAF_P_STRING:
			 
			    (*((guint32 *) & (_ORBIT_tmpvar_38))) =
			    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
			 _ORBIT_curptr += 4;
			 
			    (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_string =
			    CORBA_string_alloc(_ORBIT_tmpvar_38);
			 memcpy((*_ORBIT_retval)._u.server_list.
				_buffer[_ORBIT_tmpvar_21].props.
				_buffer[_ORBIT_tmpvar_34].v._u.value_string,
				_ORBIT_curptr,
				sizeof((*_ORBIT_retval)._u.server_list.
				       _buffer[_ORBIT_tmpvar_21].props.
				       _buffer[_ORBIT_tmpvar_34].v._u.
				       value_string[_ORBIT_tmpvar_37]) *
				_ORBIT_tmpvar_38);
			 _ORBIT_curptr +=
			    sizeof((*_ORBIT_retval)._u.server_list.
				   _buffer[_ORBIT_tmpvar_21].props.
				   _buffer[_ORBIT_tmpvar_34].v._u.
				   value_string[_ORBIT_tmpvar_37]) *
			    _ORBIT_tmpvar_38;
			 break;
		      case OAF_P_NUMBER:
			 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 8);
			 iiop_byteswap((guchar *) &
				       ((*_ORBIT_retval)._u.server_list.
					_buffer[_ORBIT_tmpvar_21].props.
					_buffer[_ORBIT_tmpvar_34].v._u.
					value_number), _ORBIT_curptr, 8);
			 _ORBIT_curptr += 8;
			 break;
		      case OAF_P_BOOLEAN:
			 
			    (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_boolean =
			    *((CORBA_boolean *) _ORBIT_curptr);
			 _ORBIT_curptr += 1;
			 break;
		      case OAF_P_STRINGV:
			 
			    (*
			  ((guint32 *) &
			((*_ORBIT_retval)._u.server_list.
			 _buffer[_ORBIT_tmpvar_21].props.
			 _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			 _length))) =
			    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
			    _ORBIT_curptr += 4;
			 (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			    _maximum =
			    (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			    _length;
			 (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			    _buffer =
			    CORBA_sequence_CORBA_string_allocbuf(
								 (*_ORBIT_retval).
								 _u.
								 server_list.
								 _buffer
								 [_ORBIT_tmpvar_21].
								 props.
								 _buffer
								 [_ORBIT_tmpvar_34].
								 v._u.
								 value_stringv.
								 _length);
			 (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			    _release = CORBA_TRUE;
			 for (_ORBIT_tmpvar_39 = 0;
			      _ORBIT_tmpvar_39 <
			      (*_ORBIT_retval)._u.server_list.
			      _buffer[_ORBIT_tmpvar_21].props.
			      _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			      _length; _ORBIT_tmpvar_39++) {
			    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
			    
			       (*((guint32 *) & (_ORBIT_tmpvar_41))) =
			       GUINT32_SWAP_LE_BE(*
						  ((guint32 *)
						   _ORBIT_curptr));
			       _ORBIT_curptr += 4;
			    (*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].props.
			       _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			       _buffer[_ORBIT_tmpvar_39] =
			       CORBA_string_alloc(_ORBIT_tmpvar_41);
			    memcpy((*_ORBIT_retval)._u.server_list.
				   _buffer[_ORBIT_tmpvar_21].props.
				   _buffer[_ORBIT_tmpvar_34].v._u.
				   value_stringv._buffer[_ORBIT_tmpvar_39],
				   _ORBIT_curptr,
				   sizeof((*_ORBIT_retval)._u.server_list.
					  _buffer[_ORBIT_tmpvar_21].props.
					  _buffer[_ORBIT_tmpvar_34].v._u.
					  value_stringv.
					  _buffer[_ORBIT_tmpvar_39]
					  [_ORBIT_tmpvar_40]) *
				   _ORBIT_tmpvar_41);
			    _ORBIT_curptr +=
			       sizeof((*_ORBIT_retval)._u.server_list.
				      _buffer[_ORBIT_tmpvar_21].props.
				      _buffer[_ORBIT_tmpvar_34].v._u.
				      value_stringv.
				      _buffer[_ORBIT_tmpvar_39]
				      [_ORBIT_tmpvar_40]) * _ORBIT_tmpvar_41;
			 }

			 break;
		      default:
			 break;
		    }
		 }

	      }

	      break;
	   default:
	      break;
	 }
      } else {
	 (*_ORBIT_retval)._d = *((CORBA_boolean *) _ORBIT_curptr);
	 _ORBIT_curptr += 1;
	 switch ((*_ORBIT_retval)._d) {
	   case CORBA_TRUE:
	      _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	      
		 (*_ORBIT_retval)._u.server_list._length =
		 *((CORBA_unsigned_long *) _ORBIT_curptr);
	      _ORBIT_curptr += 4;
	      (*_ORBIT_retval)._u.server_list._maximum = (*_ORBIT_retval)._u.server_list._length;
	      
		 (*_ORBIT_retval)._u.server_list._buffer =
		 CORBA_sequence_OAF_ServerInfo_allocbuf((*_ORBIT_retval)._u.
							server_list._length);
	      (*_ORBIT_retval)._u.server_list._release = CORBA_TRUE;
	      for (_ORBIT_tmpvar_21 = 0;
		   _ORBIT_tmpvar_21 < (*_ORBIT_retval)._u.server_list._length;
		   _ORBIT_tmpvar_21++) {
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 _ORBIT_tmpvar_23 = *((CORBA_unsigned_long *) _ORBIT_curptr);
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    iid = CORBA_string_alloc(_ORBIT_tmpvar_23);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].iid, _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       iid[_ORBIT_tmpvar_22]) * _ORBIT_tmpvar_23);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].iid[_ORBIT_tmpvar_22]) *
		    _ORBIT_tmpvar_23;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 _ORBIT_tmpvar_25 = *((CORBA_unsigned_long *) _ORBIT_curptr);
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    server_type = CORBA_string_alloc(_ORBIT_tmpvar_25);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].server_type, _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       server_type[_ORBIT_tmpvar_24]) *
			_ORBIT_tmpvar_25);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].
			   server_type[_ORBIT_tmpvar_24]) * _ORBIT_tmpvar_25;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 _ORBIT_tmpvar_27 = *((CORBA_unsigned_long *) _ORBIT_curptr);
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    location_info = CORBA_string_alloc(_ORBIT_tmpvar_27);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].location_info,
			_ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       location_info[_ORBIT_tmpvar_26]) *
			_ORBIT_tmpvar_27);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].
			   location_info[_ORBIT_tmpvar_26]) *
		    _ORBIT_tmpvar_27;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 _ORBIT_tmpvar_29 = *((CORBA_unsigned_long *) _ORBIT_curptr);
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    username = CORBA_string_alloc(_ORBIT_tmpvar_29);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].username, _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       username[_ORBIT_tmpvar_28]) *
			_ORBIT_tmpvar_29);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].
			   username[_ORBIT_tmpvar_28]) * _ORBIT_tmpvar_29;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 _ORBIT_tmpvar_31 = *((CORBA_unsigned_long *) _ORBIT_curptr);
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    hostname = CORBA_string_alloc(_ORBIT_tmpvar_31);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].hostname, _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       hostname[_ORBIT_tmpvar_30]) *
			_ORBIT_tmpvar_31);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].
			   hostname[_ORBIT_tmpvar_30]) * _ORBIT_tmpvar_31;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 _ORBIT_tmpvar_33 = *((CORBA_unsigned_long *) _ORBIT_curptr);
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    domain = CORBA_string_alloc(_ORBIT_tmpvar_33);
		 memcpy((*_ORBIT_retval)._u.server_list.
			_buffer[_ORBIT_tmpvar_21].domain, _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].
			       domain[_ORBIT_tmpvar_32]) * _ORBIT_tmpvar_33);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].
			   domain[_ORBIT_tmpvar_32]) * _ORBIT_tmpvar_33;
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    props._length = *((CORBA_unsigned_long *) _ORBIT_curptr);
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    props._maximum =
		    (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    props._length;
		 (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    props._buffer =
		    CORBA_sequence_OAF_Property_allocbuf((*_ORBIT_retval)._u.
							 server_list.
							 _buffer
							 [_ORBIT_tmpvar_21].
							 props._length);
		 (*_ORBIT_retval)._u.server_list._buffer[_ORBIT_tmpvar_21].
		    props._release = CORBA_TRUE;
		 for (_ORBIT_tmpvar_34 = 0;
		      _ORBIT_tmpvar_34 <
		      (*_ORBIT_retval)._u.server_list.
		      _buffer[_ORBIT_tmpvar_21].props._length;
		      _ORBIT_tmpvar_34++) {
		    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		    _ORBIT_tmpvar_36 =
		       *((CORBA_unsigned_long *) _ORBIT_curptr);
		    _ORBIT_curptr += 4;
		    
		       (*_ORBIT_retval)._u.server_list.
		       _buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].name =
		       CORBA_string_alloc(_ORBIT_tmpvar_36);
		    memcpy((*_ORBIT_retval)._u.server_list.
			   _buffer[_ORBIT_tmpvar_21].props.
			   _buffer[_ORBIT_tmpvar_34].name, _ORBIT_curptr,
			   sizeof((*_ORBIT_retval)._u.server_list.
				  _buffer[_ORBIT_tmpvar_21].props.
				  _buffer[_ORBIT_tmpvar_34].
				  name[_ORBIT_tmpvar_35]) * _ORBIT_tmpvar_36);
		    _ORBIT_curptr +=
		       sizeof((*_ORBIT_retval)._u.server_list.
			      _buffer[_ORBIT_tmpvar_21].props.
			      _buffer[_ORBIT_tmpvar_34].
			      name[_ORBIT_tmpvar_35]) * _ORBIT_tmpvar_36;
		    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		    
		       (*_ORBIT_retval)._u.server_list.
		       _buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._d =
		       *((OAF_PropertyType *) _ORBIT_curptr);
		    _ORBIT_curptr += 4;
		    switch ((*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._d) {
		      case OAF_P_STRING:
			 _ORBIT_tmpvar_38 =
			    *((CORBA_unsigned_long *) _ORBIT_curptr);
			 _ORBIT_curptr += 4;
			 
			    (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_string =
			    CORBA_string_alloc(_ORBIT_tmpvar_38);
			 memcpy((*_ORBIT_retval)._u.server_list.
				_buffer[_ORBIT_tmpvar_21].props.
				_buffer[_ORBIT_tmpvar_34].v._u.value_string,
				_ORBIT_curptr,
				sizeof((*_ORBIT_retval)._u.server_list.
				       _buffer[_ORBIT_tmpvar_21].props.
				       _buffer[_ORBIT_tmpvar_34].v._u.
				       value_string[_ORBIT_tmpvar_37]) *
				_ORBIT_tmpvar_38);
			 _ORBIT_curptr +=
			    sizeof((*_ORBIT_retval)._u.server_list.
				   _buffer[_ORBIT_tmpvar_21].props.
				   _buffer[_ORBIT_tmpvar_34].v._u.
				   value_string[_ORBIT_tmpvar_37]) *
			    _ORBIT_tmpvar_38;
			 break;
		      case OAF_P_NUMBER:
			 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 8);
			 
			    (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_number =
			    *((CORBA_double *) _ORBIT_curptr);
			 _ORBIT_curptr += 8;
			 break;
		      case OAF_P_BOOLEAN:
			 
			    (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_boolean =
			    *((CORBA_boolean *) _ORBIT_curptr);
			 _ORBIT_curptr += 1;
			 break;
		      case OAF_P_STRINGV:
			 
			    (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			    _length =
			    *((CORBA_unsigned_long *) _ORBIT_curptr);
			 _ORBIT_curptr += 4;
			 
			    (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			    _maximum =
			    (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			    _length;
			 (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			    _buffer =
			    CORBA_sequence_CORBA_string_allocbuf(
								 (*_ORBIT_retval).
								 _u.
								 server_list.
								 _buffer
								 [_ORBIT_tmpvar_21].
								 props.
								 _buffer
								 [_ORBIT_tmpvar_34].
								 v._u.
								 value_stringv.
								 _length);
			 (*_ORBIT_retval)._u.server_list.
			    _buffer[_ORBIT_tmpvar_21].props.
			    _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			    _release = CORBA_TRUE;
			 for (_ORBIT_tmpvar_39 = 0;
			      _ORBIT_tmpvar_39 <
			      (*_ORBIT_retval)._u.server_list.
			      _buffer[_ORBIT_tmpvar_21].props.
			      _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			      _length; _ORBIT_tmpvar_39++) {
			    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
			    _ORBIT_tmpvar_41 =
			       *((CORBA_unsigned_long *) _ORBIT_curptr);
			    _ORBIT_curptr += 4;
			    
			       (*_ORBIT_retval)._u.server_list.
			       _buffer[_ORBIT_tmpvar_21].props.
			       _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			       _buffer[_ORBIT_tmpvar_39] =
			       CORBA_string_alloc(_ORBIT_tmpvar_41);
			    memcpy((*_ORBIT_retval)._u.server_list.
				   _buffer[_ORBIT_tmpvar_21].props.
				   _buffer[_ORBIT_tmpvar_34].v._u.
				   value_stringv._buffer[_ORBIT_tmpvar_39],
				   _ORBIT_curptr,
				   sizeof((*_ORBIT_retval)._u.server_list.
					  _buffer[_ORBIT_tmpvar_21].props.
					  _buffer[_ORBIT_tmpvar_34].v._u.
					  value_stringv.
					  _buffer[_ORBIT_tmpvar_39]
					  [_ORBIT_tmpvar_40]) *
				   _ORBIT_tmpvar_41);
			    _ORBIT_curptr +=
			       sizeof((*_ORBIT_retval)._u.server_list.
				      _buffer[_ORBIT_tmpvar_21].props.
				      _buffer[_ORBIT_tmpvar_34].v._u.
				      value_stringv.
				      _buffer[_ORBIT_tmpvar_39]
				      [_ORBIT_tmpvar_40]) * _ORBIT_tmpvar_41;
			 }

			 break;
		      default:
			 break;
		    }
		 }

	      }

	      break;
	   default:
	      break;
	 }
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev, NULL, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
OAF_ServerStateCache *
OAF_ObjectDirectory_get_active_servers(OAF_ObjectDirectory _obj,
				       const OAF_CacheTime only_if_newer,
				       CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   OAF_ServerStateCache *_ORBIT_retval;
   register CORBA_unsigned_long _ORBIT_tmpvar_3;
   register CORBA_unsigned_long _ORBIT_tmpvar_4;
   CORBA_unsigned_long _ORBIT_tmpvar_5;

   if (_obj->servant && _obj->vepv && OAF_ObjectDirectory__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ObjectDirectory__epv *) _obj->
	  vepv[OAF_ObjectDirectory__classid])->get_active_servers(_obj->
								  servant,
								  only_if_newer,
								  ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[19];
      }
      _ORBIT_operation_name_data =
      {
      19, "get_active_servers"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 23 };

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 8);
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     &(only_if_newer), sizeof(only_if_newer));
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_retval = OAF_ServerStateCache__alloc();
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 (*_ORBIT_retval)._d = *((CORBA_boolean *) _ORBIT_curptr);
	 _ORBIT_curptr += 1;
	 switch ((*_ORBIT_retval)._d) {
	   case CORBA_TRUE:
	      _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	      
		 (*
	       ((guint32 *) & ((*_ORBIT_retval)._u.active_servers._length))) =
	     GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	      _ORBIT_curptr += 4;
	      (*_ORBIT_retval)._u.active_servers._maximum = (*_ORBIT_retval)._u.active_servers._length;
	      
		 (*_ORBIT_retval)._u.active_servers._buffer =
		 CORBA_sequence_OAF_ImplementationID_allocbuf(
							      (*_ORBIT_retval).
							      _u.
							      active_servers.
							      _length);
	      (*_ORBIT_retval)._u.active_servers._release = CORBA_TRUE;
	      for (_ORBIT_tmpvar_3 = 0;
		   _ORBIT_tmpvar_3 <
		   (*_ORBIT_retval)._u.active_servers._length;
		   _ORBIT_tmpvar_3++) {
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 
		    (*((guint32 *) & (_ORBIT_tmpvar_5))) =
		    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.active_servers.
		    _buffer[_ORBIT_tmpvar_3] =
		    CORBA_string_alloc(_ORBIT_tmpvar_5);
		 memcpy((*_ORBIT_retval)._u.active_servers.
			_buffer[_ORBIT_tmpvar_3], _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.active_servers.
			       _buffer[_ORBIT_tmpvar_3][_ORBIT_tmpvar_4]) *
			_ORBIT_tmpvar_5);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.active_servers.
			   _buffer[_ORBIT_tmpvar_3][_ORBIT_tmpvar_4]) *
		    _ORBIT_tmpvar_5;
	      }

	      break;
	   default:
	      break;
	 }
      } else {
	 (*_ORBIT_retval)._d = *((CORBA_boolean *) _ORBIT_curptr);
	 _ORBIT_curptr += 1;
	 switch ((*_ORBIT_retval)._d) {
	   case CORBA_TRUE:
	      _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	      
		 (*_ORBIT_retval)._u.active_servers._length =
		 *((CORBA_unsigned_long *) _ORBIT_curptr);
	      _ORBIT_curptr += 4;
	      (*_ORBIT_retval)._u.active_servers._maximum = (*_ORBIT_retval)._u.active_servers._length;
	      
		 (*_ORBIT_retval)._u.active_servers._buffer =
		 CORBA_sequence_OAF_ImplementationID_allocbuf(
							      (*_ORBIT_retval).
							      _u.
							      active_servers.
							      _length);
	      (*_ORBIT_retval)._u.active_servers._release = CORBA_TRUE;
	      for (_ORBIT_tmpvar_3 = 0;
		   _ORBIT_tmpvar_3 <
		   (*_ORBIT_retval)._u.active_servers._length;
		   _ORBIT_tmpvar_3++) {
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 _ORBIT_tmpvar_5 = *((CORBA_unsigned_long *) _ORBIT_curptr);
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval)._u.active_servers.
		    _buffer[_ORBIT_tmpvar_3] =
		    CORBA_string_alloc(_ORBIT_tmpvar_5);
		 memcpy((*_ORBIT_retval)._u.active_servers.
			_buffer[_ORBIT_tmpvar_3], _ORBIT_curptr,
			sizeof((*_ORBIT_retval)._u.active_servers.
			       _buffer[_ORBIT_tmpvar_3][_ORBIT_tmpvar_4]) *
			_ORBIT_tmpvar_5);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval)._u.active_servers.
			   _buffer[_ORBIT_tmpvar_3][_ORBIT_tmpvar_4]) *
		    _ORBIT_tmpvar_5;
	      }

	      break;
	   default:
	      break;
	 }
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev, NULL, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
CORBA_char *
OAF_ObjectDirectory__get_username(OAF_ObjectDirectory _obj,
				  CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   CORBA_char *_ORBIT_retval;
   register CORBA_unsigned_long _ORBIT_tmpvar_2;
   CORBA_unsigned_long _ORBIT_tmpvar_3;

   if (_obj->servant && _obj->vepv && OAF_ObjectDirectory__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ObjectDirectory__epv *) _obj->
	  vepv[OAF_ObjectDirectory__classid])->_get_username(_obj->servant,
							     ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[14];
      }
      _ORBIT_operation_name_data =
      {
      14, "_get_username"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 18 };

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 
	    (*((guint32 *) & (_ORBIT_tmpvar_3))) =
	    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	 _ORBIT_curptr += 4;
	 _ORBIT_retval = CORBA_string_alloc(_ORBIT_tmpvar_3);
	 memcpy(_ORBIT_retval, _ORBIT_curptr,
		sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3);
	 _ORBIT_curptr +=
	    sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3;
      } else {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 _ORBIT_tmpvar_3 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	 _ORBIT_curptr += 4;
	 _ORBIT_retval = CORBA_string_alloc(_ORBIT_tmpvar_3);
	 memcpy(_ORBIT_retval, _ORBIT_curptr,
		sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3);
	 _ORBIT_curptr +=
	    sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3;
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev, NULL, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
CORBA_char *
OAF_ObjectDirectory__get_hostname(OAF_ObjectDirectory _obj,
				  CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   CORBA_char *_ORBIT_retval;
   register CORBA_unsigned_long _ORBIT_tmpvar_2;
   CORBA_unsigned_long _ORBIT_tmpvar_3;

   if (_obj->servant && _obj->vepv && OAF_ObjectDirectory__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ObjectDirectory__epv *) _obj->
	  vepv[OAF_ObjectDirectory__classid])->_get_hostname(_obj->servant,
							     ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[14];
      }
      _ORBIT_operation_name_data =
      {
      14, "_get_hostname"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 18 };

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 
	    (*((guint32 *) & (_ORBIT_tmpvar_3))) =
	    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	 _ORBIT_curptr += 4;
	 _ORBIT_retval = CORBA_string_alloc(_ORBIT_tmpvar_3);
	 memcpy(_ORBIT_retval, _ORBIT_curptr,
		sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3);
	 _ORBIT_curptr +=
	    sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3;
      } else {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 _ORBIT_tmpvar_3 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	 _ORBIT_curptr += 4;
	 _ORBIT_retval = CORBA_string_alloc(_ORBIT_tmpvar_3);
	 memcpy(_ORBIT_retval, _ORBIT_curptr,
		sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3);
	 _ORBIT_curptr +=
	    sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3;
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev, NULL, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
CORBA_char *
OAF_ObjectDirectory__get_domain(OAF_ObjectDirectory _obj,
				CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   CORBA_char *_ORBIT_retval;
   register CORBA_unsigned_long _ORBIT_tmpvar_2;
   CORBA_unsigned_long _ORBIT_tmpvar_3;

   if (_obj->servant && _obj->vepv && OAF_ObjectDirectory__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ObjectDirectory__epv *) _obj->
	  vepv[OAF_ObjectDirectory__classid])->_get_domain(_obj->servant, ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[12];
      }
      _ORBIT_operation_name_data =
      {
      12, "_get_domain"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 16 };

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 
	    (*((guint32 *) & (_ORBIT_tmpvar_3))) =
	    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	 _ORBIT_curptr += 4;
	 _ORBIT_retval = CORBA_string_alloc(_ORBIT_tmpvar_3);
	 memcpy(_ORBIT_retval, _ORBIT_curptr,
		sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3);
	 _ORBIT_curptr +=
	    sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3;
      } else {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 _ORBIT_tmpvar_3 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	 _ORBIT_curptr += 4;
	 _ORBIT_retval = CORBA_string_alloc(_ORBIT_tmpvar_3);
	 memcpy(_ORBIT_retval, _ORBIT_curptr,
		sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3);
	 _ORBIT_curptr +=
	    sizeof(_ORBIT_retval[_ORBIT_tmpvar_2]) * _ORBIT_tmpvar_3;
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev, NULL, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
CORBA_Object
OAF_ObjectDirectory_activate(OAF_ObjectDirectory _obj,
			     const OAF_ImplementationID iid,
			     const OAF_ActivationContext ac,
			     const OAF_ActivationFlags flags,
			     CORBA_Context _ctx, CORBA_Environment * ev)
{
   static const ORBit_ContextMarshalItem _context_items[] = {
      {9, "username"},
      {9, "hostname"},
      {7, "domain"},
      {8, "display"},
   };
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   CORBA_Object _ORBIT_retval;

   if (_obj->servant && _obj->vepv && OAF_ObjectDirectory__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ObjectDirectory__epv *) _obj->
	  vepv[OAF_ObjectDirectory__classid])->activate(_obj->servant, iid,
							ac, flags, _ctx, ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[9];
      }
      _ORBIT_operation_name_data =
      {
      9, "activate"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 13 };
      register CORBA_unsigned_long _ORBIT_tmpvar_0;
      CORBA_unsigned_long _ORBIT_tmpvar_1;

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_tmpvar_1 = strlen(iid) + 1;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_1));
	 memcpy(_ORBIT_t, &(_ORBIT_tmpvar_1), sizeof(_ORBIT_tmpvar_1));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof(_ORBIT_tmpvar_1));
      }
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     (iid),
				     sizeof(iid[_ORBIT_tmpvar_0]) *
				     _ORBIT_tmpvar_1);
      ORBit_marshal_object(_ORBIT_send_buffer, ac);
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     &(flags), sizeof(flags));
      ORBit_Context_marshal(_ctx, _context_items, 4, _ORBIT_send_buffer);
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur = _ORBIT_curptr;
	 _ORBIT_retval =
	    ORBit_demarshal_object(_ORBIT_recv_buffer,
				   GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer)->
				   connection->orb_data);
	 _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      } else {
	 GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur = _ORBIT_curptr;
	 _ORBIT_retval =
	    ORBit_demarshal_object(_ORBIT_recv_buffer,
				   GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer)->
				   connection->orb_data);
	 _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev, NULL, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
void
OAF_ObjectDirectory_lock(OAF_ObjectDirectory _obj, CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;

   if (_obj->servant && _obj->vepv && OAF_ObjectDirectory__classid) {
      
	 ((POA_OAF_ObjectDirectory__epv *) _obj->
       vepv[OAF_ObjectDirectory__classid])->lock(_obj->servant, ev);
      return;
   }
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[5];
      }
      _ORBIT_operation_name_data =
      {
      5, "lock"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 9 };

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
      } else {
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev, NULL, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return;
      }
   }
}
void
OAF_ObjectDirectory_unlock(OAF_ObjectDirectory _obj, CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;

   if (_obj->servant && _obj->vepv && OAF_ObjectDirectory__classid) {
      
	 ((POA_OAF_ObjectDirectory__epv *) _obj->
       vepv[OAF_ObjectDirectory__classid])->unlock(_obj->servant, ev);
      return;
   }
   _cnx = ORBit_object_get_connection(_obj);
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[7];
      }
      _ORBIT_operation_name_data =
      {
      7, "unlock"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 11 };

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_FALSE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   return;
 _ORBIT_system_exception:
   CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
			      _ORBIT_completion_status);
   giop_recv_buffer_unuse(_ORBIT_recv_buffer);
   giop_send_buffer_unuse(_ORBIT_send_buffer);
   return;
}

OAF_RegistrationResult
OAF_ObjectDirectory_register_new(OAF_ObjectDirectory _obj,
				 const OAF_ImplementationID iid,
				 const CORBA_Object obj,
				 CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   OAF_RegistrationResult _ORBIT_retval;

   if (_obj->servant && _obj->vepv && OAF_ObjectDirectory__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ObjectDirectory__epv *) _obj->
	  vepv[OAF_ObjectDirectory__classid])->register_new(_obj->servant,
							    iid, obj, ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[13];
      }
      _ORBIT_operation_name_data =
      {
      13, "register_new"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 17 };
      register CORBA_unsigned_long _ORBIT_tmpvar_0;
      CORBA_unsigned_long _ORBIT_tmpvar_1;

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_tmpvar_1 = strlen(iid) + 1;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_1));
	 memcpy(_ORBIT_t, &(_ORBIT_tmpvar_1), sizeof(_ORBIT_tmpvar_1));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof(_ORBIT_tmpvar_1));
      }
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     (iid),
				     sizeof(iid[_ORBIT_tmpvar_0]) *
				     _ORBIT_tmpvar_1);
      ORBit_marshal_object(_ORBIT_send_buffer, obj);
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 
	    (*((guint32 *) & (_ORBIT_retval))) =
	    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));} else {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 _ORBIT_retval = *((OAF_RegistrationResult *) _ORBIT_curptr);
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev, NULL, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
void
OAF_ObjectDirectory_unregister(OAF_ObjectDirectory _obj,
			       const OAF_ImplementationID iid,
			       const CORBA_Object obj,
			       const OAF_ObjectDirectory_UnregisterType
			       notify, CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;

   if (_obj->servant && _obj->vepv && OAF_ObjectDirectory__classid) {
      
	 ((POA_OAF_ObjectDirectory__epv *) _obj->
       vepv[OAF_ObjectDirectory__classid])->unregister(_obj->servant, iid,
						       obj, notify, ev);
      return;
   }
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[11];
      }
      _ORBIT_operation_name_data =
      {
      11, "unregister"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 15 };
      register CORBA_unsigned_long _ORBIT_tmpvar_0;
      CORBA_unsigned_long _ORBIT_tmpvar_1;

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_tmpvar_1 = strlen(iid) + 1;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_1));
	 memcpy(_ORBIT_t, &(_ORBIT_tmpvar_1), sizeof(_ORBIT_tmpvar_1));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof(_ORBIT_tmpvar_1));
      }
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     (iid),
				     sizeof(iid[_ORBIT_tmpvar_0]) *
				     _ORBIT_tmpvar_1);
      ORBit_marshal_object(_ORBIT_send_buffer, obj);
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     &(notify), sizeof(notify));
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
      } else {
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev, NULL, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return;
      }
   }
}
void
_ORBIT_OAF_ActivationContext_NotListed_demarshal(GIOPRecvBuffer *
						 _ORBIT_recv_buffer,
						 CORBA_Environment * ev)
{
   CORBA_exception_set(ev, CORBA_USER_EXCEPTION,
		       TC_OAF_ActivationContext_NotListed_struct.repo_id,
		       NULL);
}

void
_ORBIT_OAF_ActivationContext_AlreadyListed_demarshal(GIOPRecvBuffer *
						     _ORBIT_recv_buffer,
						     CORBA_Environment * ev)
{
   CORBA_exception_set(ev, CORBA_USER_EXCEPTION,
		       TC_OAF_ActivationContext_AlreadyListed_struct.repo_id,
		       NULL);
}

void
_ORBIT_OAF_ActivationContext_IncompleteContext_demarshal(GIOPRecvBuffer *
							 _ORBIT_recv_buffer,
							 CORBA_Environment *
							 ev)
{
   CORBA_exception_set(ev, CORBA_USER_EXCEPTION,
		       TC_OAF_ActivationContext_IncompleteContext_struct.
		       repo_id, NULL);
}

void
_ORBIT_OAF_ActivationContext_ParseFailed_demarshal(GIOPRecvBuffer *
						   _ORBIT_recv_buffer,
						   CORBA_Environment * ev)
{
   guchar *_ORBIT_curptr;
   register CORBA_unsigned_long _ORBIT_tmpvar_0;
   CORBA_unsigned_long _ORBIT_tmpvar_1;
   OAF_ActivationContext_ParseFailed *_ORBIT_exdata =
      OAF_ActivationContext_ParseFailed__alloc();

   _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
   if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
      _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
      
	 (*((guint32 *) & (_ORBIT_tmpvar_1))) =
	 GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr)); _ORBIT_curptr += 4;
      (*_ORBIT_exdata).description = CORBA_string_alloc(_ORBIT_tmpvar_1);
      memcpy((*_ORBIT_exdata).description, _ORBIT_curptr,
	     sizeof((*_ORBIT_exdata).description[_ORBIT_tmpvar_0]) *
	     _ORBIT_tmpvar_1);
      _ORBIT_curptr +=
	 sizeof((*_ORBIT_exdata).description[_ORBIT_tmpvar_0]) *
	 _ORBIT_tmpvar_1;
   } else {
      _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
      _ORBIT_tmpvar_1 = *((CORBA_unsigned_long *) _ORBIT_curptr);
      _ORBIT_curptr += 4;
      (*_ORBIT_exdata).description = CORBA_string_alloc(_ORBIT_tmpvar_1);
      memcpy((*_ORBIT_exdata).description, _ORBIT_curptr,
	     sizeof((*_ORBIT_exdata).description[_ORBIT_tmpvar_0]) *
	     _ORBIT_tmpvar_1);
      _ORBIT_curptr +=
	 sizeof((*_ORBIT_exdata).description[_ORBIT_tmpvar_0]) *
	 _ORBIT_tmpvar_1;
   }
   CORBA_exception_set(ev, CORBA_USER_EXCEPTION,
		       TC_OAF_ActivationContext_ParseFailed_struct.repo_id,
		       _ORBIT_exdata);
}

OAF_ObjectDirectoryList *
OAF_ActivationContext__get_directories(OAF_ActivationContext _obj,
				       CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   OAF_ObjectDirectoryList *_ORBIT_retval;
   register CORBA_unsigned_long _ORBIT_tmpvar_1;

   if (_obj->servant && _obj->vepv && OAF_ActivationContext__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ActivationContext__epv *) _obj->
	  vepv[OAF_ActivationContext__classid])->_get_directories(_obj->
								  servant,
								  ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[17];
      }
      _ORBIT_operation_name_data =
      {
      17, "_get_directories"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 21 };

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_retval = OAF_ObjectDirectoryList__alloc();
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 
	    (*((guint32 *) & ((*_ORBIT_retval)._length))) =
	    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	 _ORBIT_curptr += 4;
	 (*_ORBIT_retval)._maximum = (*_ORBIT_retval)._length;
	 
	    (*_ORBIT_retval)._buffer =
	    CORBA_sequence_OAF_ObjectDirectory_allocbuf((*_ORBIT_retval).
							_length);
	 (*_ORBIT_retval)._release = CORBA_TRUE;
	 for (_ORBIT_tmpvar_1 = 0; _ORBIT_tmpvar_1 < (*_ORBIT_retval)._length;
	      _ORBIT_tmpvar_1++) {
	    GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur = _ORBIT_curptr;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_1] =
	       ORBit_demarshal_object(_ORBIT_recv_buffer,
				      GIOP_MESSAGE_BUFFER
				      (_ORBIT_recv_buffer)->connection->
				      orb_data);
	    _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
	 }

      } else {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 (*_ORBIT_retval)._length = *((CORBA_unsigned_long *) _ORBIT_curptr);
	 _ORBIT_curptr += 4;
	 (*_ORBIT_retval)._maximum = (*_ORBIT_retval)._length;
	 
	    (*_ORBIT_retval)._buffer =
	    CORBA_sequence_OAF_ObjectDirectory_allocbuf((*_ORBIT_retval).
							_length);
	 (*_ORBIT_retval)._release = CORBA_TRUE;
	 for (_ORBIT_tmpvar_1 = 0; _ORBIT_tmpvar_1 < (*_ORBIT_retval)._length;
	      _ORBIT_tmpvar_1++) {
	    GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur = _ORBIT_curptr;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_1] =
	       ORBit_demarshal_object(_ORBIT_recv_buffer,
				      GIOP_MESSAGE_BUFFER
				      (_ORBIT_recv_buffer)->connection->
				      orb_data);
	    _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
	 }

      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev, NULL, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
void
OAF_ActivationContext_add_directory(OAF_ActivationContext _obj,
				    const OAF_ObjectDirectory dir,
				    CORBA_Environment * ev)
{
   static const ORBit_exception_demarshal_info _ORBIT_user_exceptions[] =
      { {(const CORBA_TypeCode)
	 &TC_OAF_ActivationContext_AlreadyListed_struct,
	 (gpointer) _ORBIT_OAF_ActivationContext_AlreadyListed_demarshal},
      {CORBA_OBJECT_NIL, NULL} };
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;

   if (_obj->servant && _obj->vepv && OAF_ActivationContext__classid) {
      
	 ((POA_OAF_ActivationContext__epv *) _obj->
       vepv[OAF_ActivationContext__classid])->add_directory(_obj->servant,
							    dir, ev);
      return;
   }
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[14];
      }
      _ORBIT_operation_name_data =
      {
      14, "add_directory"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 18 };

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      ORBit_marshal_object(_ORBIT_send_buffer, dir);
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
      } else {
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev,
				_ORBIT_user_exceptions, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return;
      }
   }
}
void
OAF_ActivationContext_remove_directory(OAF_ActivationContext _obj,
				       const OAF_ObjectDirectory dir,
				       CORBA_Environment * ev)
{
   static const ORBit_exception_demarshal_info _ORBIT_user_exceptions[] =
      { {(const CORBA_TypeCode) &TC_OAF_ActivationContext_NotListed_struct,
	 (gpointer) _ORBIT_OAF_ActivationContext_NotListed_demarshal},
      {CORBA_OBJECT_NIL, NULL} };
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;

   if (_obj->servant && _obj->vepv && OAF_ActivationContext__classid) {
      
	 ((POA_OAF_ActivationContext__epv *) _obj->
       vepv[OAF_ActivationContext__classid])->remove_directory(_obj->servant,
							       dir, ev);
      return;
   }
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[17];
      }
      _ORBIT_operation_name_data =
      {
      17, "remove_directory"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 21 };

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      ORBit_marshal_object(_ORBIT_send_buffer, dir);
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
      } else {
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev,
				_ORBIT_user_exceptions, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return;
      }
   }
}
OAF_ActivationResult *
OAF_ActivationContext_activate(OAF_ActivationContext _obj,
			       const CORBA_char * requirements,
			       const GNOME_stringlist * selection_order,
			       const OAF_ActivationFlags flags,
			       CORBA_Context _ctx, CORBA_Environment * ev)
{
   static const ORBit_exception_demarshal_info _ORBIT_user_exceptions[] =
      { {(const CORBA_TypeCode) &TC_OAF_ActivationContext_ParseFailed_struct,
	 (gpointer) _ORBIT_OAF_ActivationContext_ParseFailed_demarshal},
      {(const CORBA_TypeCode)
       &TC_OAF_ActivationContext_IncompleteContext_struct,
       (gpointer) _ORBIT_OAF_ActivationContext_IncompleteContext_demarshal},
      {(const CORBA_TypeCode) &TC_OAF_GeneralError_struct,
       (gpointer) _ORBIT_OAF_GeneralError_demarshal}, {CORBA_OBJECT_NIL,

						       NULL} };
   static const ORBit_ContextMarshalItem _context_items[] = {
      {9, "username"},
      {9, "hostname"},
      {7, "domain"},
      {8, "display"},
   };
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   OAF_ActivationResult *_ORBIT_retval;
   register CORBA_unsigned_long _ORBIT_tmpvar_10;
   CORBA_unsigned_long _ORBIT_tmpvar_11;
   register CORBA_unsigned_long _ORBIT_tmpvar_12;
   register CORBA_unsigned_long _ORBIT_tmpvar_13;
   CORBA_unsigned_long _ORBIT_tmpvar_14;

   if (_obj->servant && _obj->vepv && OAF_ActivationContext__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ActivationContext__epv *) _obj->
	  vepv[OAF_ActivationContext__classid])->activate(_obj->servant,
							  requirements,
							  selection_order,
							  flags, _ctx, ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[9];
      }
      _ORBIT_operation_name_data =
      {
      9, "activate"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 13 };
      register CORBA_unsigned_long _ORBIT_tmpvar_0;
      CORBA_unsigned_long _ORBIT_tmpvar_1;
      register CORBA_unsigned_long _ORBIT_tmpvar_2;
      register CORBA_unsigned_long _ORBIT_tmpvar_3;
      CORBA_unsigned_long _ORBIT_tmpvar_4;

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_tmpvar_1 = strlen(requirements) + 1;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_1));
	 memcpy(_ORBIT_t, &(_ORBIT_tmpvar_1), sizeof(_ORBIT_tmpvar_1));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof(_ORBIT_tmpvar_1));
      }
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     (requirements),
				     sizeof(requirements[_ORBIT_tmpvar_0]) *
				     _ORBIT_tmpvar_1);
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof((*selection_order)._length));
	 memcpy(_ORBIT_t, &((*selection_order)._length),
		sizeof((*selection_order)._length));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof((*selection_order)._length));
      }
      for (_ORBIT_tmpvar_2 = 0; _ORBIT_tmpvar_2 < (*selection_order)._length;
	   _ORBIT_tmpvar_2++) {
	 _ORBIT_tmpvar_4 =
	    strlen((*selection_order)._buffer[_ORBIT_tmpvar_2]) + 1;
	 giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
					  (_ORBIT_send_buffer), 4);
	 {
	    guchar *_ORBIT_t;

	    _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_4));
	    memcpy(_ORBIT_t, &(_ORBIT_tmpvar_4), sizeof(_ORBIT_tmpvar_4));
	    giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					   (_ORBIT_send_buffer), (_ORBIT_t),
					   sizeof(_ORBIT_tmpvar_4));
	 }
	 {
	    guchar *_ORBIT_t;

	    _ORBIT_t =
	       alloca(sizeof
		      ((*selection_order).
		       _buffer[_ORBIT_tmpvar_2][_ORBIT_tmpvar_3]) *
		      _ORBIT_tmpvar_4);
	       memcpy(_ORBIT_t, ((*selection_order)._buffer[_ORBIT_tmpvar_2]),
		      sizeof((*selection_order).
			     _buffer[_ORBIT_tmpvar_2][_ORBIT_tmpvar_3]) *
		      _ORBIT_tmpvar_4);
	    giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					   (_ORBIT_send_buffer), (_ORBIT_t),
					   sizeof((*selection_order).
						  _buffer[_ORBIT_tmpvar_2]
						  [_ORBIT_tmpvar_3]) *
					   _ORBIT_tmpvar_4);
	 }
      }

      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     &(flags), sizeof(flags));
      ORBit_Context_marshal(_ctx, _context_items, 4, _ORBIT_send_buffer);
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_retval = OAF_ActivationResult__alloc();
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 
	    (*((guint32 *) & (_ORBIT_tmpvar_11))) =
	    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	 _ORBIT_curptr += 4;
	 (*_ORBIT_retval).aid = CORBA_string_alloc(_ORBIT_tmpvar_11);
	 memcpy((*_ORBIT_retval).aid, _ORBIT_curptr,
		sizeof((*_ORBIT_retval).aid[_ORBIT_tmpvar_10]) *
		_ORBIT_tmpvar_11);
	 _ORBIT_curptr +=
	    sizeof((*_ORBIT_retval).aid[_ORBIT_tmpvar_10]) * _ORBIT_tmpvar_11;
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 
	    (*((guint32 *) & ((*_ORBIT_retval).res._d))) =
	    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	 _ORBIT_curptr += 4;
	 switch ((*_ORBIT_retval).res._d) {
	   case OAF_RESULT_OBJECT:
	      GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur = _ORBIT_curptr;
	      
		 (*_ORBIT_retval).res._u.res_object =
		 ORBit_demarshal_object(_ORBIT_recv_buffer,
					GIOP_MESSAGE_BUFFER
					(_ORBIT_recv_buffer)->connection->
					orb_data);
	      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
	      break;
	   case OAF_RESULT_SHLIB:
	      
		 (*
	       ((guint32 *) & ((*_ORBIT_retval).res._u.res_shlib._length))) =
	     GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	      _ORBIT_curptr += 4;
	      (*_ORBIT_retval).res._u.res_shlib._maximum = (*_ORBIT_retval).res._u.res_shlib._length;
	      
		 (*_ORBIT_retval).res._u.res_shlib._buffer =
		 CORBA_sequence_CORBA_string_allocbuf((*_ORBIT_retval).res._u.
						      res_shlib._length);
	      (*_ORBIT_retval).res._u.res_shlib._release = CORBA_TRUE;
	      for (_ORBIT_tmpvar_12 = 0;
		   _ORBIT_tmpvar_12 <
		   (*_ORBIT_retval).res._u.res_shlib._length;
		   _ORBIT_tmpvar_12++) {
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 
		    (*((guint32 *) & (_ORBIT_tmpvar_14))) =
		    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval).res._u.res_shlib.
		    _buffer[_ORBIT_tmpvar_12] =
		    CORBA_string_alloc(_ORBIT_tmpvar_14);
		 memcpy((*_ORBIT_retval).res._u.res_shlib.
			_buffer[_ORBIT_tmpvar_12], _ORBIT_curptr,
			sizeof((*_ORBIT_retval).res._u.res_shlib.
			       _buffer[_ORBIT_tmpvar_12][_ORBIT_tmpvar_13]) *
			_ORBIT_tmpvar_14);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval).res._u.res_shlib.
			   _buffer[_ORBIT_tmpvar_12][_ORBIT_tmpvar_13]) *
		    _ORBIT_tmpvar_14;
	      }

	      break;
	   default:
	      break;
	 }
      } else {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 _ORBIT_tmpvar_11 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	 _ORBIT_curptr += 4;
	 (*_ORBIT_retval).aid = CORBA_string_alloc(_ORBIT_tmpvar_11);
	 memcpy((*_ORBIT_retval).aid, _ORBIT_curptr,
		sizeof((*_ORBIT_retval).aid[_ORBIT_tmpvar_10]) *
		_ORBIT_tmpvar_11);
	 _ORBIT_curptr +=
	    sizeof((*_ORBIT_retval).aid[_ORBIT_tmpvar_10]) * _ORBIT_tmpvar_11;
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 (*_ORBIT_retval).res._d = *((OAF_ActivationResultType *) _ORBIT_curptr);
	 _ORBIT_curptr += 4;
	 switch ((*_ORBIT_retval).res._d) {
	   case OAF_RESULT_OBJECT:
	      GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur = _ORBIT_curptr;
	      
		 (*_ORBIT_retval).res._u.res_object =
		 ORBit_demarshal_object(_ORBIT_recv_buffer,
					GIOP_MESSAGE_BUFFER
					(_ORBIT_recv_buffer)->connection->
					orb_data);
	      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
	      break;
	   case OAF_RESULT_SHLIB:
	      
		 (*_ORBIT_retval).res._u.res_shlib._length =
		 *((CORBA_unsigned_long *) _ORBIT_curptr);
	      _ORBIT_curptr += 4;
	      (*_ORBIT_retval).res._u.res_shlib._maximum = (*_ORBIT_retval).res._u.res_shlib._length;
	      
		 (*_ORBIT_retval).res._u.res_shlib._buffer =
		 CORBA_sequence_CORBA_string_allocbuf((*_ORBIT_retval).res._u.
						      res_shlib._length);
	      (*_ORBIT_retval).res._u.res_shlib._release = CORBA_TRUE;
	      for (_ORBIT_tmpvar_12 = 0;
		   _ORBIT_tmpvar_12 <
		   (*_ORBIT_retval).res._u.res_shlib._length;
		   _ORBIT_tmpvar_12++) {
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 _ORBIT_tmpvar_14 = *((CORBA_unsigned_long *) _ORBIT_curptr);
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval).res._u.res_shlib.
		    _buffer[_ORBIT_tmpvar_12] =
		    CORBA_string_alloc(_ORBIT_tmpvar_14);
		 memcpy((*_ORBIT_retval).res._u.res_shlib.
			_buffer[_ORBIT_tmpvar_12], _ORBIT_curptr,
			sizeof((*_ORBIT_retval).res._u.res_shlib.
			       _buffer[_ORBIT_tmpvar_12][_ORBIT_tmpvar_13]) *
			_ORBIT_tmpvar_14);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval).res._u.res_shlib.
			   _buffer[_ORBIT_tmpvar_12][_ORBIT_tmpvar_13]) *
		    _ORBIT_tmpvar_14;
	      }

	      break;
	   default:
	      break;
	 }
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev,
				_ORBIT_user_exceptions, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
void
OAF_ActivationContext_activate_async(OAF_ActivationContext _obj,
				     const CORBA_char * requirements,
				     const GNOME_stringlist * selection_order,
				     const OAF_ActivationFlags flags,
				     const OAF_ActivationCallback
				     callback_object, CORBA_Context _ctx,
				     CORBA_Environment * ev)
{
   static const ORBit_ContextMarshalItem _context_items[] = {
      {9, "username"},
      {9, "hostname"},
      {7, "domain"},
      {8, "display"},
   };
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;

   if (_obj->servant && _obj->vepv && OAF_ActivationContext__classid) {
      
	 ((POA_OAF_ActivationContext__epv *) _obj->
       vepv[OAF_ActivationContext__classid])->activate_async(_obj->servant,
							     requirements,
							     selection_order,
							     flags,
							     callback_object,
							     _ctx, ev);
      return;
   }
   _cnx = ORBit_object_get_connection(_obj);
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[15];
      }
      _ORBIT_operation_name_data =
      {
      15, "activate_async"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 19 };
      register CORBA_unsigned_long _ORBIT_tmpvar_0;
      CORBA_unsigned_long _ORBIT_tmpvar_1;
      register CORBA_unsigned_long _ORBIT_tmpvar_2;
      register CORBA_unsigned_long _ORBIT_tmpvar_3;
      CORBA_unsigned_long _ORBIT_tmpvar_4;

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_FALSE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_tmpvar_1 = strlen(requirements) + 1;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_1));
	 memcpy(_ORBIT_t, &(_ORBIT_tmpvar_1), sizeof(_ORBIT_tmpvar_1));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof(_ORBIT_tmpvar_1));
      }
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     (requirements),
				     sizeof(requirements[_ORBIT_tmpvar_0]) *
				     _ORBIT_tmpvar_1);
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof((*selection_order)._length));
	 memcpy(_ORBIT_t, &((*selection_order)._length),
		sizeof((*selection_order)._length));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof((*selection_order)._length));
      }
      for (_ORBIT_tmpvar_2 = 0; _ORBIT_tmpvar_2 < (*selection_order)._length;
	   _ORBIT_tmpvar_2++) {
	 _ORBIT_tmpvar_4 =
	    strlen((*selection_order)._buffer[_ORBIT_tmpvar_2]) + 1;
	 giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
					  (_ORBIT_send_buffer), 4);
	 {
	    guchar *_ORBIT_t;

	    _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_4));
	    memcpy(_ORBIT_t, &(_ORBIT_tmpvar_4), sizeof(_ORBIT_tmpvar_4));
	    giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					   (_ORBIT_send_buffer), (_ORBIT_t),
					   sizeof(_ORBIT_tmpvar_4));
	 }
	 {
	    guchar *_ORBIT_t;

	    _ORBIT_t =
	       alloca(sizeof
		      ((*selection_order).
		       _buffer[_ORBIT_tmpvar_2][_ORBIT_tmpvar_3]) *
		      _ORBIT_tmpvar_4);
	       memcpy(_ORBIT_t, ((*selection_order)._buffer[_ORBIT_tmpvar_2]),
		      sizeof((*selection_order).
			     _buffer[_ORBIT_tmpvar_2][_ORBIT_tmpvar_3]) *
		      _ORBIT_tmpvar_4);
	    giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					   (_ORBIT_send_buffer), (_ORBIT_t),
					   sizeof((*selection_order).
						  _buffer[_ORBIT_tmpvar_2]
						  [_ORBIT_tmpvar_3]) *
					   _ORBIT_tmpvar_4);
	 }
      }

      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     &(flags), sizeof(flags));
      ORBit_marshal_object(_ORBIT_send_buffer, callback_object);
      ORBit_Context_marshal(_ctx, _context_items, 4, _ORBIT_send_buffer);
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   return;
 _ORBIT_system_exception:
   CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
			      _ORBIT_completion_status);
   giop_recv_buffer_unuse(_ORBIT_recv_buffer);
   giop_send_buffer_unuse(_ORBIT_send_buffer);
   return;
}

OAF_ServerInfoList *
OAF_ActivationContext__get_servers(OAF_ActivationContext _obj,
				   CORBA_Environment * ev)
{
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   OAF_ServerInfoList *_ORBIT_retval;
   register CORBA_unsigned_long _ORBIT_tmpvar_21;
   register CORBA_unsigned_long _ORBIT_tmpvar_22;
   CORBA_unsigned_long _ORBIT_tmpvar_23;
   register CORBA_unsigned_long _ORBIT_tmpvar_24;
   CORBA_unsigned_long _ORBIT_tmpvar_25;
   register CORBA_unsigned_long _ORBIT_tmpvar_26;
   CORBA_unsigned_long _ORBIT_tmpvar_27;
   register CORBA_unsigned_long _ORBIT_tmpvar_28;
   CORBA_unsigned_long _ORBIT_tmpvar_29;
   register CORBA_unsigned_long _ORBIT_tmpvar_30;
   CORBA_unsigned_long _ORBIT_tmpvar_31;
   register CORBA_unsigned_long _ORBIT_tmpvar_32;
   CORBA_unsigned_long _ORBIT_tmpvar_33;
   register CORBA_unsigned_long _ORBIT_tmpvar_34;
   register CORBA_unsigned_long _ORBIT_tmpvar_35;
   CORBA_unsigned_long _ORBIT_tmpvar_36;
   register CORBA_unsigned_long _ORBIT_tmpvar_37;
   CORBA_unsigned_long _ORBIT_tmpvar_38;
   register CORBA_unsigned_long _ORBIT_tmpvar_39;
   register CORBA_unsigned_long _ORBIT_tmpvar_40;
   CORBA_unsigned_long _ORBIT_tmpvar_41;

   if (_obj->servant && _obj->vepv && OAF_ActivationContext__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ActivationContext__epv *) _obj->
	  vepv[OAF_ActivationContext__classid])->_get_servers(_obj->servant,
							      ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[13];
      }
      _ORBIT_operation_name_data =
      {
      13, "_get_servers"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 17 };

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_retval = OAF_ServerInfoList__alloc();
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 
	    (*((guint32 *) & ((*_ORBIT_retval)._length))) =
	    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	 _ORBIT_curptr += 4;
	 (*_ORBIT_retval)._maximum = (*_ORBIT_retval)._length;
	 
	    (*_ORBIT_retval)._buffer =
	    CORBA_sequence_OAF_ServerInfo_allocbuf((*_ORBIT_retval)._length);
	 (*_ORBIT_retval)._release = CORBA_TRUE;
	 for (_ORBIT_tmpvar_21 = 0;
	      _ORBIT_tmpvar_21 < (*_ORBIT_retval)._length; _ORBIT_tmpvar_21++) {
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_23))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].iid =
	       CORBA_string_alloc(_ORBIT_tmpvar_23);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].iid,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  iid[_ORBIT_tmpvar_22]) * _ORBIT_tmpvar_23);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      iid[_ORBIT_tmpvar_22]) * _ORBIT_tmpvar_23;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_25))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].server_type =
	       CORBA_string_alloc(_ORBIT_tmpvar_25);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].server_type,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  server_type[_ORBIT_tmpvar_24]) * _ORBIT_tmpvar_25);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      server_type[_ORBIT_tmpvar_24]) * _ORBIT_tmpvar_25;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_27))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].location_info =
	       CORBA_string_alloc(_ORBIT_tmpvar_27);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].location_info,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  location_info[_ORBIT_tmpvar_26]) *
		   _ORBIT_tmpvar_27);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      location_info[_ORBIT_tmpvar_26]) * _ORBIT_tmpvar_27;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_29))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].username =
	       CORBA_string_alloc(_ORBIT_tmpvar_29);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].username,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  username[_ORBIT_tmpvar_28]) * _ORBIT_tmpvar_29);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      username[_ORBIT_tmpvar_28]) * _ORBIT_tmpvar_29;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_31))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].hostname =
	       CORBA_string_alloc(_ORBIT_tmpvar_31);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].hostname,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  hostname[_ORBIT_tmpvar_30]) * _ORBIT_tmpvar_31);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      hostname[_ORBIT_tmpvar_30]) * _ORBIT_tmpvar_31;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_33))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].domain =
	       CORBA_string_alloc(_ORBIT_tmpvar_33);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].domain,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  domain[_ORBIT_tmpvar_32]) * _ORBIT_tmpvar_33);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      domain[_ORBIT_tmpvar_32]) * _ORBIT_tmpvar_33;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*
	     ((guint32 *) &
	   ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._length))) =
GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._maximum =
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._length;
	    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._buffer =
	       CORBA_sequence_OAF_Property_allocbuf((*_ORBIT_retval).
						    _buffer[_ORBIT_tmpvar_21].
						    props._length);
	    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._release =
	       CORBA_TRUE;
	    for (_ORBIT_tmpvar_34 = 0;
		 _ORBIT_tmpvar_34 <
		 (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._length;
		 _ORBIT_tmpvar_34++) {
	       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	       
		  (*((guint32 *) & (_ORBIT_tmpvar_36))) =
		  GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	       _ORBIT_curptr += 4;
	       
		  (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		  _buffer[_ORBIT_tmpvar_34].name =
		  CORBA_string_alloc(_ORBIT_tmpvar_36);
	       memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		      _buffer[_ORBIT_tmpvar_34].name, _ORBIT_curptr,
		      sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
			     _buffer[_ORBIT_tmpvar_34].
			     name[_ORBIT_tmpvar_35]) * _ORBIT_tmpvar_36);
	       _ORBIT_curptr +=
		  sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
			 _buffer[_ORBIT_tmpvar_34].name[_ORBIT_tmpvar_35]) *
		  _ORBIT_tmpvar_36;
	       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	       
		  (*
		((guint32 *) &
	      ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
	       _buffer[_ORBIT_tmpvar_34].v._d))) =
		  GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	       _ORBIT_curptr += 4;
	       switch ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._d) {
		 case OAF_P_STRING:
		    
		       (*((guint32 *) & (_ORBIT_tmpvar_38))) =
		       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		    _ORBIT_curptr += 4;
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_string =
		       CORBA_string_alloc(_ORBIT_tmpvar_38);
		    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
			   _buffer[_ORBIT_tmpvar_34].v._u.value_string,
			   _ORBIT_curptr,
			   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
				  props._buffer[_ORBIT_tmpvar_34].v._u.
				  value_string[_ORBIT_tmpvar_37]) *
			   _ORBIT_tmpvar_38);
		    _ORBIT_curptr +=
		       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			      props._buffer[_ORBIT_tmpvar_34].v._u.
			      value_string[_ORBIT_tmpvar_37]) *
		       _ORBIT_tmpvar_38;
		    break;
		 case OAF_P_NUMBER:
		    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 8);
		    iiop_byteswap((guchar *) &
				  ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
				   props._buffer[_ORBIT_tmpvar_34].v._u.
				   value_number), _ORBIT_curptr, 8);
		    _ORBIT_curptr += 8;
		    break;
		 case OAF_P_BOOLEAN:
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_boolean =
		       *((CORBA_boolean *) _ORBIT_curptr);
		    _ORBIT_curptr += 1;
		    break;
		 case OAF_P_STRINGV:
		    
		       (*
		     ((guint32 *) &
		   ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		    _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._length))) =
		       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		    _ORBIT_curptr += 4;
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._maximum =
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._length;
		    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._buffer =
		       CORBA_sequence_CORBA_string_allocbuf((*_ORBIT_retval).
							    _buffer
							    [_ORBIT_tmpvar_21].
							    props.
							    _buffer
							    [_ORBIT_tmpvar_34].
							    v._u.
							    value_stringv.
							    _length);
		    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._release =
		       CORBA_TRUE;
		    for (_ORBIT_tmpvar_39 = 0;
			 _ORBIT_tmpvar_39 <
			 (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
			 _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._length;
			 _ORBIT_tmpvar_39++) {
		       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		       
			  (*((guint32 *) & (_ORBIT_tmpvar_41))) =
			  GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		       _ORBIT_curptr += 4;
		       
			  (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
			  _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			  _buffer[_ORBIT_tmpvar_39] =
			  CORBA_string_alloc(_ORBIT_tmpvar_41);
		       memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			      props._buffer[_ORBIT_tmpvar_34].v._u.
			      value_stringv._buffer[_ORBIT_tmpvar_39],
			      _ORBIT_curptr,
			      sizeof((*_ORBIT_retval).
				     _buffer[_ORBIT_tmpvar_21].props.
				     _buffer[_ORBIT_tmpvar_34].v._u.
				     value_stringv.
				     _buffer[_ORBIT_tmpvar_39]
				     [_ORBIT_tmpvar_40]) * _ORBIT_tmpvar_41);
		       _ORBIT_curptr +=
			  sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
				 props._buffer[_ORBIT_tmpvar_34].v._u.
				 value_stringv.
				 _buffer[_ORBIT_tmpvar_39][_ORBIT_tmpvar_40])
			  * _ORBIT_tmpvar_41;
		    }

		    break;
		 default:
		    break;
	       }
	    }

	 }

      } else {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 (*_ORBIT_retval)._length = *((CORBA_unsigned_long *) _ORBIT_curptr);
	 _ORBIT_curptr += 4;
	 (*_ORBIT_retval)._maximum = (*_ORBIT_retval)._length;
	 
	    (*_ORBIT_retval)._buffer =
	    CORBA_sequence_OAF_ServerInfo_allocbuf((*_ORBIT_retval)._length);
	 (*_ORBIT_retval)._release = CORBA_TRUE;
	 for (_ORBIT_tmpvar_21 = 0;
	      _ORBIT_tmpvar_21 < (*_ORBIT_retval)._length; _ORBIT_tmpvar_21++) {
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_23 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].iid =
	       CORBA_string_alloc(_ORBIT_tmpvar_23);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].iid,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  iid[_ORBIT_tmpvar_22]) * _ORBIT_tmpvar_23);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      iid[_ORBIT_tmpvar_22]) * _ORBIT_tmpvar_23;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_25 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].server_type =
	       CORBA_string_alloc(_ORBIT_tmpvar_25);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].server_type,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  server_type[_ORBIT_tmpvar_24]) * _ORBIT_tmpvar_25);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      server_type[_ORBIT_tmpvar_24]) * _ORBIT_tmpvar_25;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_27 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].location_info =
	       CORBA_string_alloc(_ORBIT_tmpvar_27);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].location_info,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  location_info[_ORBIT_tmpvar_26]) *
		   _ORBIT_tmpvar_27);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      location_info[_ORBIT_tmpvar_26]) * _ORBIT_tmpvar_27;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_29 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].username =
	       CORBA_string_alloc(_ORBIT_tmpvar_29);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].username,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  username[_ORBIT_tmpvar_28]) * _ORBIT_tmpvar_29);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      username[_ORBIT_tmpvar_28]) * _ORBIT_tmpvar_29;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_31 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].hostname =
	       CORBA_string_alloc(_ORBIT_tmpvar_31);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].hostname,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  hostname[_ORBIT_tmpvar_30]) * _ORBIT_tmpvar_31);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      hostname[_ORBIT_tmpvar_30]) * _ORBIT_tmpvar_31;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_33 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].domain =
	       CORBA_string_alloc(_ORBIT_tmpvar_33);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].domain,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			  domain[_ORBIT_tmpvar_32]) * _ORBIT_tmpvar_33);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
		      domain[_ORBIT_tmpvar_32]) * _ORBIT_tmpvar_33;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._length =
	       *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._maximum =
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._length;
	    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._buffer =
	       CORBA_sequence_OAF_Property_allocbuf((*_ORBIT_retval).
						    _buffer[_ORBIT_tmpvar_21].
						    props._length);
	    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._release =
	       CORBA_TRUE;
	    for (_ORBIT_tmpvar_34 = 0;
		 _ORBIT_tmpvar_34 <
		 (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props._length;
		 _ORBIT_tmpvar_34++) {
	       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	       _ORBIT_tmpvar_36 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	       _ORBIT_curptr += 4;
	       
		  (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		  _buffer[_ORBIT_tmpvar_34].name =
		  CORBA_string_alloc(_ORBIT_tmpvar_36);
	       memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		      _buffer[_ORBIT_tmpvar_34].name, _ORBIT_curptr,
		      sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
			     _buffer[_ORBIT_tmpvar_34].
			     name[_ORBIT_tmpvar_35]) * _ORBIT_tmpvar_36);
	       _ORBIT_curptr +=
		  sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
			 _buffer[_ORBIT_tmpvar_34].name[_ORBIT_tmpvar_35]) *
		  _ORBIT_tmpvar_36;
	       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	       
		  (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		  _buffer[_ORBIT_tmpvar_34].v._d =
		  *((OAF_PropertyType *) _ORBIT_curptr);
	       _ORBIT_curptr += 4;
	       switch ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._d) {
		 case OAF_P_STRING:
		    _ORBIT_tmpvar_38 =
		       *((CORBA_unsigned_long *) _ORBIT_curptr);
		    _ORBIT_curptr += 4;
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_string =
		       CORBA_string_alloc(_ORBIT_tmpvar_38);
		    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
			   _buffer[_ORBIT_tmpvar_34].v._u.value_string,
			   _ORBIT_curptr,
			   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
				  props._buffer[_ORBIT_tmpvar_34].v._u.
				  value_string[_ORBIT_tmpvar_37]) *
			   _ORBIT_tmpvar_38);
		    _ORBIT_curptr +=
		       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			      props._buffer[_ORBIT_tmpvar_34].v._u.
			      value_string[_ORBIT_tmpvar_37]) *
		       _ORBIT_tmpvar_38;
		    break;
		 case OAF_P_NUMBER:
		    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 8);
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_number =
		       *((CORBA_double *) _ORBIT_curptr);
		    _ORBIT_curptr += 8;
		    break;
		 case OAF_P_BOOLEAN:
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_boolean =
		       *((CORBA_boolean *) _ORBIT_curptr);
		    _ORBIT_curptr += 1;
		    break;
		 case OAF_P_STRINGV:
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._length =
		       *((CORBA_unsigned_long *) _ORBIT_curptr);
		    _ORBIT_curptr += 4;
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._maximum =
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._length;
		    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._buffer =
		       CORBA_sequence_CORBA_string_allocbuf((*_ORBIT_retval).
							    _buffer
							    [_ORBIT_tmpvar_21].
							    props.
							    _buffer
							    [_ORBIT_tmpvar_34].
							    v._u.
							    value_stringv.
							    _length);
		    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
		       _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._release =
		       CORBA_TRUE;
		    for (_ORBIT_tmpvar_39 = 0;
			 _ORBIT_tmpvar_39 <
			 (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
			 _buffer[_ORBIT_tmpvar_34].v._u.value_stringv._length;
			 _ORBIT_tmpvar_39++) {
		       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		       _ORBIT_tmpvar_41 =
			  *((CORBA_unsigned_long *) _ORBIT_curptr);
		       _ORBIT_curptr += 4;
		       
			  (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].props.
			  _buffer[_ORBIT_tmpvar_34].v._u.value_stringv.
			  _buffer[_ORBIT_tmpvar_39] =
			  CORBA_string_alloc(_ORBIT_tmpvar_41);
		       memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
			      props._buffer[_ORBIT_tmpvar_34].v._u.
			      value_stringv._buffer[_ORBIT_tmpvar_39],
			      _ORBIT_curptr,
			      sizeof((*_ORBIT_retval).
				     _buffer[_ORBIT_tmpvar_21].props.
				     _buffer[_ORBIT_tmpvar_34].v._u.
				     value_stringv.
				     _buffer[_ORBIT_tmpvar_39]
				     [_ORBIT_tmpvar_40]) * _ORBIT_tmpvar_41);
		       _ORBIT_curptr +=
			  sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_21].
				 props._buffer[_ORBIT_tmpvar_34].v._u.
				 value_stringv.
				 _buffer[_ORBIT_tmpvar_39][_ORBIT_tmpvar_40])
			  * _ORBIT_tmpvar_41;
		    }

		    break;
		 default:
		    break;
	       }
	    }

	 }

      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev, NULL, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
OAF_ServerInfoList *
OAF_ActivationContext_query(OAF_ActivationContext _obj,
			    const CORBA_char * requirements,
			    const GNOME_stringlist * selection_order,
			    CORBA_Context _ctx, CORBA_Environment * ev)
{
   static const ORBit_exception_demarshal_info _ORBIT_user_exceptions[] =
      { {(const CORBA_TypeCode) &TC_OAF_ActivationContext_ParseFailed_struct,
	 (gpointer) _ORBIT_OAF_ActivationContext_ParseFailed_demarshal},
      {(const CORBA_TypeCode)
       &TC_OAF_ActivationContext_IncompleteContext_struct,
       (gpointer) _ORBIT_OAF_ActivationContext_IncompleteContext_demarshal},
      {CORBA_OBJECT_NIL, NULL} };
   static const ORBit_ContextMarshalItem _context_items[] = {
      {9, "username"},
      {9, "hostname"},
      {7, "domain"},
   };
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   OAF_ServerInfoList *_ORBIT_retval;
   register CORBA_unsigned_long _ORBIT_tmpvar_26;
   register CORBA_unsigned_long _ORBIT_tmpvar_27;
   CORBA_unsigned_long _ORBIT_tmpvar_28;
   register CORBA_unsigned_long _ORBIT_tmpvar_29;
   CORBA_unsigned_long _ORBIT_tmpvar_30;
   register CORBA_unsigned_long _ORBIT_tmpvar_31;
   CORBA_unsigned_long _ORBIT_tmpvar_32;
   register CORBA_unsigned_long _ORBIT_tmpvar_33;
   CORBA_unsigned_long _ORBIT_tmpvar_34;
   register CORBA_unsigned_long _ORBIT_tmpvar_35;
   CORBA_unsigned_long _ORBIT_tmpvar_36;
   register CORBA_unsigned_long _ORBIT_tmpvar_37;
   CORBA_unsigned_long _ORBIT_tmpvar_38;
   register CORBA_unsigned_long _ORBIT_tmpvar_39;
   register CORBA_unsigned_long _ORBIT_tmpvar_40;
   CORBA_unsigned_long _ORBIT_tmpvar_41;
   register CORBA_unsigned_long _ORBIT_tmpvar_42;
   CORBA_unsigned_long _ORBIT_tmpvar_43;
   register CORBA_unsigned_long _ORBIT_tmpvar_44;
   register CORBA_unsigned_long _ORBIT_tmpvar_45;
   CORBA_unsigned_long _ORBIT_tmpvar_46;

   if (_obj->servant && _obj->vepv && OAF_ActivationContext__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ActivationContext__epv *) _obj->
	  vepv[OAF_ActivationContext__classid])->query(_obj->servant,
						       requirements,
						       selection_order, _ctx,
						       ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[6];
      }
      _ORBIT_operation_name_data =
      {
      6, "query"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 10 };
      register CORBA_unsigned_long _ORBIT_tmpvar_0;
      CORBA_unsigned_long _ORBIT_tmpvar_1;
      register CORBA_unsigned_long _ORBIT_tmpvar_2;
      register CORBA_unsigned_long _ORBIT_tmpvar_3;
      CORBA_unsigned_long _ORBIT_tmpvar_4;

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_tmpvar_1 = strlen(requirements) + 1;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_1));
	 memcpy(_ORBIT_t, &(_ORBIT_tmpvar_1), sizeof(_ORBIT_tmpvar_1));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof(_ORBIT_tmpvar_1));
      }
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     (requirements),
				     sizeof(requirements[_ORBIT_tmpvar_0]) *
				     _ORBIT_tmpvar_1);
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof((*selection_order)._length));
	 memcpy(_ORBIT_t, &((*selection_order)._length),
		sizeof((*selection_order)._length));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof((*selection_order)._length));
      }
      for (_ORBIT_tmpvar_2 = 0; _ORBIT_tmpvar_2 < (*selection_order)._length;
	   _ORBIT_tmpvar_2++) {
	 _ORBIT_tmpvar_4 =
	    strlen((*selection_order)._buffer[_ORBIT_tmpvar_2]) + 1;
	 giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
					  (_ORBIT_send_buffer), 4);
	 {
	    guchar *_ORBIT_t;

	    _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_4));
	    memcpy(_ORBIT_t, &(_ORBIT_tmpvar_4), sizeof(_ORBIT_tmpvar_4));
	    giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					   (_ORBIT_send_buffer), (_ORBIT_t),
					   sizeof(_ORBIT_tmpvar_4));
	 }
	 {
	    guchar *_ORBIT_t;

	    _ORBIT_t =
	       alloca(sizeof
		      ((*selection_order).
		       _buffer[_ORBIT_tmpvar_2][_ORBIT_tmpvar_3]) *
		      _ORBIT_tmpvar_4);
	       memcpy(_ORBIT_t, ((*selection_order)._buffer[_ORBIT_tmpvar_2]),
		      sizeof((*selection_order).
			     _buffer[_ORBIT_tmpvar_2][_ORBIT_tmpvar_3]) *
		      _ORBIT_tmpvar_4);
	    giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					   (_ORBIT_send_buffer), (_ORBIT_t),
					   sizeof((*selection_order).
						  _buffer[_ORBIT_tmpvar_2]
						  [_ORBIT_tmpvar_3]) *
					   _ORBIT_tmpvar_4);
	 }
      }

      ORBit_Context_marshal(_ctx, _context_items, 3, _ORBIT_send_buffer);
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_retval = OAF_ServerInfoList__alloc();
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 
	    (*((guint32 *) & ((*_ORBIT_retval)._length))) =
	    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	 _ORBIT_curptr += 4;
	 (*_ORBIT_retval)._maximum = (*_ORBIT_retval)._length;
	 
	    (*_ORBIT_retval)._buffer =
	    CORBA_sequence_OAF_ServerInfo_allocbuf((*_ORBIT_retval)._length);
	 (*_ORBIT_retval)._release = CORBA_TRUE;
	 for (_ORBIT_tmpvar_26 = 0;
	      _ORBIT_tmpvar_26 < (*_ORBIT_retval)._length; _ORBIT_tmpvar_26++) {
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_28))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].iid =
	       CORBA_string_alloc(_ORBIT_tmpvar_28);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].iid,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  iid[_ORBIT_tmpvar_27]) * _ORBIT_tmpvar_28);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      iid[_ORBIT_tmpvar_27]) * _ORBIT_tmpvar_28;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_30))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].server_type =
	       CORBA_string_alloc(_ORBIT_tmpvar_30);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].server_type,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  server_type[_ORBIT_tmpvar_29]) * _ORBIT_tmpvar_30);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      server_type[_ORBIT_tmpvar_29]) * _ORBIT_tmpvar_30;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_32))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].location_info =
	       CORBA_string_alloc(_ORBIT_tmpvar_32);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].location_info,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  location_info[_ORBIT_tmpvar_31]) *
		   _ORBIT_tmpvar_32);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      location_info[_ORBIT_tmpvar_31]) * _ORBIT_tmpvar_32;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_34))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].username =
	       CORBA_string_alloc(_ORBIT_tmpvar_34);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].username,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  username[_ORBIT_tmpvar_33]) * _ORBIT_tmpvar_34);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      username[_ORBIT_tmpvar_33]) * _ORBIT_tmpvar_34;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_36))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].hostname =
	       CORBA_string_alloc(_ORBIT_tmpvar_36);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].hostname,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  hostname[_ORBIT_tmpvar_35]) * _ORBIT_tmpvar_36);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      hostname[_ORBIT_tmpvar_35]) * _ORBIT_tmpvar_36;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*((guint32 *) & (_ORBIT_tmpvar_38))) =
	       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].domain =
	       CORBA_string_alloc(_ORBIT_tmpvar_38);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].domain,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  domain[_ORBIT_tmpvar_37]) * _ORBIT_tmpvar_38);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      domain[_ORBIT_tmpvar_37]) * _ORBIT_tmpvar_38;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*
	     ((guint32 *) &
	   ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._length))) =
GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._maximum =
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._length;
	    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._buffer =
	       CORBA_sequence_OAF_Property_allocbuf((*_ORBIT_retval).
						    _buffer[_ORBIT_tmpvar_26].
						    props._length);
	    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._release =
	       CORBA_TRUE;
	    for (_ORBIT_tmpvar_39 = 0;
		 _ORBIT_tmpvar_39 <
		 (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._length;
		 _ORBIT_tmpvar_39++) {
	       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	       
		  (*((guint32 *) & (_ORBIT_tmpvar_41))) =
		  GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	       _ORBIT_curptr += 4;
	       
		  (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		  _buffer[_ORBIT_tmpvar_39].name =
		  CORBA_string_alloc(_ORBIT_tmpvar_41);
	       memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		      _buffer[_ORBIT_tmpvar_39].name, _ORBIT_curptr,
		      sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
			     _buffer[_ORBIT_tmpvar_39].
			     name[_ORBIT_tmpvar_40]) * _ORBIT_tmpvar_41);
	       _ORBIT_curptr +=
		  sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
			 _buffer[_ORBIT_tmpvar_39].name[_ORBIT_tmpvar_40]) *
		  _ORBIT_tmpvar_41;
	       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	       
		  (*
		((guint32 *) &
	      ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
	       _buffer[_ORBIT_tmpvar_39].v._d))) =
		  GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	       _ORBIT_curptr += 4;
	       switch ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._d) {
		 case OAF_P_STRING:
		    
		       (*((guint32 *) & (_ORBIT_tmpvar_43))) =
		       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		    _ORBIT_curptr += 4;
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_string =
		       CORBA_string_alloc(_ORBIT_tmpvar_43);
		    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
			   _buffer[_ORBIT_tmpvar_39].v._u.value_string,
			   _ORBIT_curptr,
			   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
				  props._buffer[_ORBIT_tmpvar_39].v._u.
				  value_string[_ORBIT_tmpvar_42]) *
			   _ORBIT_tmpvar_43);
		    _ORBIT_curptr +=
		       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			      props._buffer[_ORBIT_tmpvar_39].v._u.
			      value_string[_ORBIT_tmpvar_42]) *
		       _ORBIT_tmpvar_43;
		    break;
		 case OAF_P_NUMBER:
		    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 8);
		    iiop_byteswap((guchar *) &
				  ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
				   props._buffer[_ORBIT_tmpvar_39].v._u.
				   value_number), _ORBIT_curptr, 8);
		    _ORBIT_curptr += 8;
		    break;
		 case OAF_P_BOOLEAN:
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_boolean =
		       *((CORBA_boolean *) _ORBIT_curptr);
		    _ORBIT_curptr += 1;
		    break;
		 case OAF_P_STRINGV:
		    
		       (*
		     ((guint32 *) &
		   ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		    _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._length))) =
		       GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		    _ORBIT_curptr += 4;
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._maximum =
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._length;
		    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._buffer =
		       CORBA_sequence_CORBA_string_allocbuf((*_ORBIT_retval).
							    _buffer
							    [_ORBIT_tmpvar_26].
							    props.
							    _buffer
							    [_ORBIT_tmpvar_39].
							    v._u.
							    value_stringv.
							    _length);
		    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._release =
		       CORBA_TRUE;
		    for (_ORBIT_tmpvar_44 = 0;
			 _ORBIT_tmpvar_44 <
			 (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
			 _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._length;
			 _ORBIT_tmpvar_44++) {
		       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		       
			  (*((guint32 *) & (_ORBIT_tmpvar_46))) =
			  GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		       _ORBIT_curptr += 4;
		       
			  (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
			  _buffer[_ORBIT_tmpvar_39].v._u.value_stringv.
			  _buffer[_ORBIT_tmpvar_44] =
			  CORBA_string_alloc(_ORBIT_tmpvar_46);
		       memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			      props._buffer[_ORBIT_tmpvar_39].v._u.
			      value_stringv._buffer[_ORBIT_tmpvar_44],
			      _ORBIT_curptr,
			      sizeof((*_ORBIT_retval).
				     _buffer[_ORBIT_tmpvar_26].props.
				     _buffer[_ORBIT_tmpvar_39].v._u.
				     value_stringv.
				     _buffer[_ORBIT_tmpvar_44]
				     [_ORBIT_tmpvar_45]) * _ORBIT_tmpvar_46);
		       _ORBIT_curptr +=
			  sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
				 props._buffer[_ORBIT_tmpvar_39].v._u.
				 value_stringv.
				 _buffer[_ORBIT_tmpvar_44][_ORBIT_tmpvar_45])
			  * _ORBIT_tmpvar_46;
		    }

		    break;
		 default:
		    break;
	       }
	    }

	 }

      } else {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 (*_ORBIT_retval)._length = *((CORBA_unsigned_long *) _ORBIT_curptr);
	 _ORBIT_curptr += 4;
	 (*_ORBIT_retval)._maximum = (*_ORBIT_retval)._length;
	 
	    (*_ORBIT_retval)._buffer =
	    CORBA_sequence_OAF_ServerInfo_allocbuf((*_ORBIT_retval)._length);
	 (*_ORBIT_retval)._release = CORBA_TRUE;
	 for (_ORBIT_tmpvar_26 = 0;
	      _ORBIT_tmpvar_26 < (*_ORBIT_retval)._length; _ORBIT_tmpvar_26++) {
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_28 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].iid =
	       CORBA_string_alloc(_ORBIT_tmpvar_28);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].iid,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  iid[_ORBIT_tmpvar_27]) * _ORBIT_tmpvar_28);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      iid[_ORBIT_tmpvar_27]) * _ORBIT_tmpvar_28;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_30 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].server_type =
	       CORBA_string_alloc(_ORBIT_tmpvar_30);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].server_type,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  server_type[_ORBIT_tmpvar_29]) * _ORBIT_tmpvar_30);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      server_type[_ORBIT_tmpvar_29]) * _ORBIT_tmpvar_30;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_32 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].location_info =
	       CORBA_string_alloc(_ORBIT_tmpvar_32);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].location_info,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  location_info[_ORBIT_tmpvar_31]) *
		   _ORBIT_tmpvar_32);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      location_info[_ORBIT_tmpvar_31]) * _ORBIT_tmpvar_32;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_34 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].username =
	       CORBA_string_alloc(_ORBIT_tmpvar_34);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].username,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  username[_ORBIT_tmpvar_33]) * _ORBIT_tmpvar_34);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      username[_ORBIT_tmpvar_33]) * _ORBIT_tmpvar_34;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_36 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].hostname =
	       CORBA_string_alloc(_ORBIT_tmpvar_36);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].hostname,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  hostname[_ORBIT_tmpvar_35]) * _ORBIT_tmpvar_36);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      hostname[_ORBIT_tmpvar_35]) * _ORBIT_tmpvar_36;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    _ORBIT_tmpvar_38 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].domain =
	       CORBA_string_alloc(_ORBIT_tmpvar_38);
	    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].domain,
		   _ORBIT_curptr,
		   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			  domain[_ORBIT_tmpvar_37]) * _ORBIT_tmpvar_38);
	    _ORBIT_curptr +=
	       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
		      domain[_ORBIT_tmpvar_37]) * _ORBIT_tmpvar_38;
	    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._length =
	       *((CORBA_unsigned_long *) _ORBIT_curptr);
	    _ORBIT_curptr += 4;
	    
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._maximum =
	       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._length;
	    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._buffer =
	       CORBA_sequence_OAF_Property_allocbuf((*_ORBIT_retval).
						    _buffer[_ORBIT_tmpvar_26].
						    props._length);
	    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._release =
	       CORBA_TRUE;
	    for (_ORBIT_tmpvar_39 = 0;
		 _ORBIT_tmpvar_39 <
		 (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props._length;
		 _ORBIT_tmpvar_39++) {
	       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	       _ORBIT_tmpvar_41 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	       _ORBIT_curptr += 4;
	       
		  (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		  _buffer[_ORBIT_tmpvar_39].name =
		  CORBA_string_alloc(_ORBIT_tmpvar_41);
	       memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		      _buffer[_ORBIT_tmpvar_39].name, _ORBIT_curptr,
		      sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
			     _buffer[_ORBIT_tmpvar_39].
			     name[_ORBIT_tmpvar_40]) * _ORBIT_tmpvar_41);
	       _ORBIT_curptr +=
		  sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
			 _buffer[_ORBIT_tmpvar_39].name[_ORBIT_tmpvar_40]) *
		  _ORBIT_tmpvar_41;
	       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	       
		  (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		  _buffer[_ORBIT_tmpvar_39].v._d =
		  *((OAF_PropertyType *) _ORBIT_curptr);
	       _ORBIT_curptr += 4;
	       switch ((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._d) {
		 case OAF_P_STRING:
		    _ORBIT_tmpvar_43 =
		       *((CORBA_unsigned_long *) _ORBIT_curptr);
		    _ORBIT_curptr += 4;
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_string =
		       CORBA_string_alloc(_ORBIT_tmpvar_43);
		    memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
			   _buffer[_ORBIT_tmpvar_39].v._u.value_string,
			   _ORBIT_curptr,
			   sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
				  props._buffer[_ORBIT_tmpvar_39].v._u.
				  value_string[_ORBIT_tmpvar_42]) *
			   _ORBIT_tmpvar_43);
		    _ORBIT_curptr +=
		       sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			      props._buffer[_ORBIT_tmpvar_39].v._u.
			      value_string[_ORBIT_tmpvar_42]) *
		       _ORBIT_tmpvar_43;
		    break;
		 case OAF_P_NUMBER:
		    _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 8);
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_number =
		       *((CORBA_double *) _ORBIT_curptr);
		    _ORBIT_curptr += 8;
		    break;
		 case OAF_P_BOOLEAN:
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_boolean =
		       *((CORBA_boolean *) _ORBIT_curptr);
		    _ORBIT_curptr += 1;
		    break;
		 case OAF_P_STRINGV:
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._length =
		       *((CORBA_unsigned_long *) _ORBIT_curptr);
		    _ORBIT_curptr += 4;
		    
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._maximum =
		       (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._length;
		    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._buffer =
		       CORBA_sequence_CORBA_string_allocbuf((*_ORBIT_retval).
							    _buffer
							    [_ORBIT_tmpvar_26].
							    props.
							    _buffer
							    [_ORBIT_tmpvar_39].
							    v._u.
							    value_stringv.
							    _length);
		    (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
		       _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._release =
		       CORBA_TRUE;
		    for (_ORBIT_tmpvar_44 = 0;
			 _ORBIT_tmpvar_44 <
			 (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
			 _buffer[_ORBIT_tmpvar_39].v._u.value_stringv._length;
			 _ORBIT_tmpvar_44++) {
		       _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		       _ORBIT_tmpvar_46 =
			  *((CORBA_unsigned_long *) _ORBIT_curptr);
		       _ORBIT_curptr += 4;
		       
			  (*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].props.
			  _buffer[_ORBIT_tmpvar_39].v._u.value_stringv.
			  _buffer[_ORBIT_tmpvar_44] =
			  CORBA_string_alloc(_ORBIT_tmpvar_46);
		       memcpy((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
			      props._buffer[_ORBIT_tmpvar_39].v._u.
			      value_stringv._buffer[_ORBIT_tmpvar_44],
			      _ORBIT_curptr,
			      sizeof((*_ORBIT_retval).
				     _buffer[_ORBIT_tmpvar_26].props.
				     _buffer[_ORBIT_tmpvar_39].v._u.
				     value_stringv.
				     _buffer[_ORBIT_tmpvar_44]
				     [_ORBIT_tmpvar_45]) * _ORBIT_tmpvar_46);
		       _ORBIT_curptr +=
			  sizeof((*_ORBIT_retval)._buffer[_ORBIT_tmpvar_26].
				 props._buffer[_ORBIT_tmpvar_39].v._u.
				 value_stringv.
				 _buffer[_ORBIT_tmpvar_44][_ORBIT_tmpvar_45])
			  * _ORBIT_tmpvar_46;
		    }

		    break;
		 default:
		    break;
	       }
	    }

	 }

      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev,
				_ORBIT_user_exceptions, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
OAF_ActivationResult *
OAF_ActivationContext_activate_from_id(OAF_ActivationContext _obj,
				       const OAF_ActivationID aid,
				       const OAF_ActivationFlags flags,
				       CORBA_Context _ctx,
				       CORBA_Environment * ev)
{
   static const ORBit_exception_demarshal_info _ORBIT_user_exceptions[] =
      { {(const CORBA_TypeCode) &TC_OAF_ActivationContext_ParseFailed_struct,
	 (gpointer) _ORBIT_OAF_ActivationContext_ParseFailed_demarshal},
      {(const CORBA_TypeCode)
       &TC_OAF_ActivationContext_IncompleteContext_struct,
       (gpointer) _ORBIT_OAF_ActivationContext_IncompleteContext_demarshal},
      {(const CORBA_TypeCode) &TC_OAF_GeneralError_struct,
       (gpointer) _ORBIT_OAF_GeneralError_demarshal}, {CORBA_OBJECT_NIL,

						       NULL} };
   static const ORBit_ContextMarshalItem _context_items[] = {
      {9, "username"},
      {9, "hostname"},
      {7, "domain"},
      {8, "display"},
   };
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;
   OAF_ActivationResult *_ORBIT_retval;
   register CORBA_unsigned_long _ORBIT_tmpvar_7;
   CORBA_unsigned_long _ORBIT_tmpvar_8;
   register CORBA_unsigned_long _ORBIT_tmpvar_9;
   register CORBA_unsigned_long _ORBIT_tmpvar_10;
   CORBA_unsigned_long _ORBIT_tmpvar_11;

   if (_obj->servant && _obj->vepv && OAF_ActivationContext__classid) {
      _ORBIT_retval =
	 ((POA_OAF_ActivationContext__epv *) _obj->
	  vepv[OAF_ActivationContext__classid])->activate_from_id(_obj->
								  servant,
								  aid, flags,
								  _ctx, ev);
      return _ORBIT_retval;
   }
   if (0)
      return *(&_ORBIT_retval);
   _cnx = ORBit_object_get_connection(_obj);
 _ORBIT_retry_request:
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[17];
      }
      _ORBIT_operation_name_data =
      {
      17, "activate_from_id"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 21 };
      register CORBA_unsigned_long _ORBIT_tmpvar_0;
      CORBA_unsigned_long _ORBIT_tmpvar_1;

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_TRUE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_tmpvar_1 = strlen(aid) + 1;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_1));
	 memcpy(_ORBIT_t, &(_ORBIT_tmpvar_1), sizeof(_ORBIT_tmpvar_1));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof(_ORBIT_tmpvar_1));
      }
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     (aid),
				     sizeof(aid[_ORBIT_tmpvar_0]) *
				     _ORBIT_tmpvar_1);
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     &(flags), sizeof(flags));
      ORBit_Context_marshal(_ctx, _context_items, 4, _ORBIT_send_buffer);
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   {				/* demarshalling */
      register guchar *_ORBIT_curptr;

      _ORBIT_recv_buffer =
	 giop_recv_reply_buffer_use_2(_cnx, _ORBIT_request_id, TRUE);
      if (!_ORBIT_recv_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_completion_status = CORBA_COMPLETED_YES;
      if (_ORBIT_recv_buffer->message.u.reply.reply_status !=
	  GIOP_NO_EXCEPTION) goto _ORBIT_msg_exception;
      _ORBIT_retval = OAF_ActivationResult__alloc();
      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
      if (giop_msg_conversion_needed(GIOP_MESSAGE_BUFFER(_ORBIT_recv_buffer))) {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 
	    (*((guint32 *) & (_ORBIT_tmpvar_8))) =
	    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	 _ORBIT_curptr += 4;
	 (*_ORBIT_retval).aid = CORBA_string_alloc(_ORBIT_tmpvar_8);
	 memcpy((*_ORBIT_retval).aid, _ORBIT_curptr,
		sizeof((*_ORBIT_retval).aid[_ORBIT_tmpvar_7]) *
		_ORBIT_tmpvar_8);
	 _ORBIT_curptr +=
	    sizeof((*_ORBIT_retval).aid[_ORBIT_tmpvar_7]) * _ORBIT_tmpvar_8;
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 
	    (*((guint32 *) & ((*_ORBIT_retval).res._d))) =
	    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	 _ORBIT_curptr += 4;
	 switch ((*_ORBIT_retval).res._d) {
	   case OAF_RESULT_OBJECT:
	      GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur = _ORBIT_curptr;
	      
		 (*_ORBIT_retval).res._u.res_object =
		 ORBit_demarshal_object(_ORBIT_recv_buffer,
					GIOP_MESSAGE_BUFFER
					(_ORBIT_recv_buffer)->connection->
					orb_data);
	      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
	      break;
	   case OAF_RESULT_SHLIB:
	      
		 (*
	       ((guint32 *) & ((*_ORBIT_retval).res._u.res_shlib._length))) =
	     GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
	      _ORBIT_curptr += 4;
	      (*_ORBIT_retval).res._u.res_shlib._maximum = (*_ORBIT_retval).res._u.res_shlib._length;
	      
		 (*_ORBIT_retval).res._u.res_shlib._buffer =
		 CORBA_sequence_CORBA_string_allocbuf((*_ORBIT_retval).res._u.
						      res_shlib._length);
	      (*_ORBIT_retval).res._u.res_shlib._release = CORBA_TRUE;
	      for (_ORBIT_tmpvar_9 = 0;
		   _ORBIT_tmpvar_9 <
		   (*_ORBIT_retval).res._u.res_shlib._length;
		   _ORBIT_tmpvar_9++) {
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 
		    (*((guint32 *) & (_ORBIT_tmpvar_11))) =
		    GUINT32_SWAP_LE_BE(*((guint32 *) _ORBIT_curptr));
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval).res._u.res_shlib.
		    _buffer[_ORBIT_tmpvar_9] =
		    CORBA_string_alloc(_ORBIT_tmpvar_11);
		 memcpy((*_ORBIT_retval).res._u.res_shlib.
			_buffer[_ORBIT_tmpvar_9], _ORBIT_curptr,
			sizeof((*_ORBIT_retval).res._u.res_shlib.
			       _buffer[_ORBIT_tmpvar_9][_ORBIT_tmpvar_10]) *
			_ORBIT_tmpvar_11);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval).res._u.res_shlib.
			   _buffer[_ORBIT_tmpvar_9][_ORBIT_tmpvar_10]) *
		    _ORBIT_tmpvar_11;
	      }

	      break;
	   default:
	      break;
	 }
      } else {
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 _ORBIT_tmpvar_8 = *((CORBA_unsigned_long *) _ORBIT_curptr);
	 _ORBIT_curptr += 4;
	 (*_ORBIT_retval).aid = CORBA_string_alloc(_ORBIT_tmpvar_8);
	 memcpy((*_ORBIT_retval).aid, _ORBIT_curptr,
		sizeof((*_ORBIT_retval).aid[_ORBIT_tmpvar_7]) *
		_ORBIT_tmpvar_8);
	 _ORBIT_curptr +=
	    sizeof((*_ORBIT_retval).aid[_ORBIT_tmpvar_7]) * _ORBIT_tmpvar_8;
	 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
	 (*_ORBIT_retval).res._d = *((OAF_ActivationResultType *) _ORBIT_curptr);
	 _ORBIT_curptr += 4;
	 switch ((*_ORBIT_retval).res._d) {
	   case OAF_RESULT_OBJECT:
	      GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur = _ORBIT_curptr;
	      
		 (*_ORBIT_retval).res._u.res_object =
		 ORBit_demarshal_object(_ORBIT_recv_buffer,
					GIOP_MESSAGE_BUFFER
					(_ORBIT_recv_buffer)->connection->
					orb_data);
	      _ORBIT_curptr = GIOP_RECV_BUFFER(_ORBIT_recv_buffer)->cur;
	      break;
	   case OAF_RESULT_SHLIB:
	      
		 (*_ORBIT_retval).res._u.res_shlib._length =
		 *((CORBA_unsigned_long *) _ORBIT_curptr);
	      _ORBIT_curptr += 4;
	      (*_ORBIT_retval).res._u.res_shlib._maximum = (*_ORBIT_retval).res._u.res_shlib._length;
	      
		 (*_ORBIT_retval).res._u.res_shlib._buffer =
		 CORBA_sequence_CORBA_string_allocbuf((*_ORBIT_retval).res._u.
						      res_shlib._length);
	      (*_ORBIT_retval).res._u.res_shlib._release = CORBA_TRUE;
	      for (_ORBIT_tmpvar_9 = 0;
		   _ORBIT_tmpvar_9 <
		   (*_ORBIT_retval).res._u.res_shlib._length;
		   _ORBIT_tmpvar_9++) {
		 _ORBIT_curptr = ALIGN_ADDRESS(_ORBIT_curptr, 4);
		 _ORBIT_tmpvar_11 = *((CORBA_unsigned_long *) _ORBIT_curptr);
		 _ORBIT_curptr += 4;
		 
		    (*_ORBIT_retval).res._u.res_shlib.
		    _buffer[_ORBIT_tmpvar_9] =
		    CORBA_string_alloc(_ORBIT_tmpvar_11);
		 memcpy((*_ORBIT_retval).res._u.res_shlib.
			_buffer[_ORBIT_tmpvar_9], _ORBIT_curptr,
			sizeof((*_ORBIT_retval).res._u.res_shlib.
			       _buffer[_ORBIT_tmpvar_9][_ORBIT_tmpvar_10]) *
			_ORBIT_tmpvar_11);
		 _ORBIT_curptr +=
		    sizeof((*_ORBIT_retval).res._u.res_shlib.
			   _buffer[_ORBIT_tmpvar_9][_ORBIT_tmpvar_10]) *
		    _ORBIT_tmpvar_11;
	      }

	      break;
	   default:
	      break;
	 }
      }
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      return _ORBIT_retval;
    _ORBIT_system_exception:
      CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
				 _ORBIT_completion_status);
      giop_recv_buffer_unuse(_ORBIT_recv_buffer);
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      return _ORBIT_retval;
    _ORBIT_msg_exception:
      if (_ORBIT_recv_buffer->message.u.reply.reply_status ==
	  GIOP_LOCATION_FORWARD) {
	 if (_obj->forward_locations != NULL)
	    ORBit_delete_profiles(_obj->forward_locations);
	 _obj->forward_locations = ORBit_demarshal_IOR(_ORBIT_recv_buffer);
	 _cnx = ORBit_object_get_forwarded_connection(_obj);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);

	 goto _ORBIT_retry_request;
      } else {
	 ORBit_handle_exception(_ORBIT_recv_buffer, ev,
				_ORBIT_user_exceptions, _obj->orb);
	 giop_recv_buffer_unuse(_ORBIT_recv_buffer);
	 return _ORBIT_retval;
      }
   }
}
void
OAF_ActivationContext_activate_from_id_async(OAF_ActivationContext _obj,
					     const OAF_ActivationID aid,
					     const OAF_ActivationFlags flags,
					     const OAF_ActivationCallback
					     callback_object,
					     CORBA_Context _ctx,
					     CORBA_Environment * ev)
{
   static const ORBit_ContextMarshalItem _context_items[] = {
      {9, "username"},
      {9, "hostname"},
      {7, "domain"},
      {8, "display"},
   };
   register GIOP_unsigned_long _ORBIT_request_id,
    _ORBIT_system_exception_minor;
   register CORBA_completion_status _ORBIT_completion_status;
   register GIOPSendBuffer *_ORBIT_send_buffer;
   register GIOPRecvBuffer *_ORBIT_recv_buffer;
   register GIOPConnection *_cnx;

   if (_obj->servant && _obj->vepv && OAF_ActivationContext__classid) {
      
	 ((POA_OAF_ActivationContext__epv *) _obj->
       vepv[OAF_ActivationContext__classid])->activate_from_id_async(_obj->
								     servant,
								     aid,
								     flags,
								     callback_object,
								     _ctx,
								     ev);
      return;
   }
   _cnx = ORBit_object_get_connection(_obj);
   _ORBIT_send_buffer = NULL;
   _ORBIT_recv_buffer = NULL;
   _ORBIT_completion_status = CORBA_COMPLETED_NO;
   _ORBIT_request_id = GPOINTER_TO_UINT(alloca(0));
   {				/* marshalling */
      static const struct
      {
	 CORBA_unsigned_long len;
	 char opname[23];
      }
      _ORBIT_operation_name_data =
      {
      23, "activate_from_id_async"};
      static const struct iovec _ORBIT_operation_vec =
	 { (gpointer) & _ORBIT_operation_name_data, 27 };
      register CORBA_unsigned_long _ORBIT_tmpvar_0;
      CORBA_unsigned_long _ORBIT_tmpvar_1;

      _ORBIT_send_buffer =
	 giop_send_request_buffer_use(_cnx, NULL, _ORBIT_request_id,
				      CORBA_FALSE,
				      &(_obj->active_profile->object_key_vec),
				      &_ORBIT_operation_vec,
				      &ORBit_default_principal_iovec);

      _ORBIT_system_exception_minor = ex_CORBA_COMM_FAILURE;
      if (!_ORBIT_send_buffer)
	 goto _ORBIT_system_exception;
      _ORBIT_tmpvar_1 = strlen(aid) + 1;
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      {
	 guchar *_ORBIT_t;

	 _ORBIT_t = alloca(sizeof(_ORBIT_tmpvar_1));
	 memcpy(_ORBIT_t, &(_ORBIT_tmpvar_1), sizeof(_ORBIT_tmpvar_1));
	 giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER
					(_ORBIT_send_buffer), (_ORBIT_t),
					sizeof(_ORBIT_tmpvar_1));
      }
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     (aid),
				     sizeof(aid[_ORBIT_tmpvar_0]) *
				     _ORBIT_tmpvar_1);
      giop_message_buffer_do_alignment(GIOP_MESSAGE_BUFFER
				       (_ORBIT_send_buffer), 4);
      giop_message_buffer_append_mem(GIOP_MESSAGE_BUFFER(_ORBIT_send_buffer),
				     &(flags), sizeof(flags));
      ORBit_marshal_object(_ORBIT_send_buffer, callback_object);
      ORBit_Context_marshal(_ctx, _context_items, 4, _ORBIT_send_buffer);
      giop_send_buffer_write(_ORBIT_send_buffer);
      _ORBIT_completion_status = CORBA_COMPLETED_MAYBE;
      giop_send_buffer_unuse(_ORBIT_send_buffer);
      _ORBIT_send_buffer = NULL;
   }
   return;
 _ORBIT_system_exception:
   CORBA_exception_set_system(ev, _ORBIT_system_exception_minor,
			      _ORBIT_completion_status);
   giop_recv_buffer_unuse(_ORBIT_recv_buffer);
   giop_send_buffer_unuse(_ORBIT_send_buffer);
   return;
}
