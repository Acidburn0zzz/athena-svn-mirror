<refentry id="libgnomeui-GnomeIconLookup">
<refmeta>
<refentrytitle>GnomeIconLookup</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>LIBGNOMEUI Library</refmiscinfo>
</refmeta>

<refnamediv>
<refname>GnomeIconLookup</refname><refpurpose></refpurpose>
</refnamediv>

<refsynopsisdiv><title>Synopsis</title>

<synopsis>

#include &lt;libgnomeui/libgnomeui.h&gt;


enum        <link linkend="GnomeIconLookupFlags">GnomeIconLookupFlags</link>;
enum        <link linkend="GnomeIconLookupResultFlags">GnomeIconLookupResultFlags</link>;
char*       <link linkend="gnome-icon-lookup">gnome_icon_lookup</link>               (<link linkend="GnomeIconTheme">GnomeIconTheme</link> *icon_theme,
                                             <link linkend="GnomeThumbnailFactory">GnomeThumbnailFactory</link> *thumbnail_factory,
                                             const char *file_uri,
                                             const char *custom_icon,
                                             <link linkend="GnomeVFSFileInfo">GnomeVFSFileInfo</link> *file_info,
                                             const char *mime_type,
                                             <link linkend="GnomeIconLookupFlags">GnomeIconLookupFlags</link> flags,
                                             <link linkend="GnomeIconLookupResultFlags">GnomeIconLookupResultFlags</link> *result);
char*       <link linkend="gnome-icon-lookup-sync">gnome_icon_lookup_sync</link>          (<link linkend="GnomeIconTheme">GnomeIconTheme</link> *icon_theme,
                                             <link linkend="GnomeThumbnailFactory">GnomeThumbnailFactory</link> *thumbnail_factory,
                                             const char *file_uri,
                                             const char *custom_icon,
                                             <link linkend="GnomeIconLookupFlags">GnomeIconLookupFlags</link> flags,
                                             <link linkend="GnomeIconLookupResultFlags">GnomeIconLookupResultFlags</link> *result);
</synopsis>
</refsynopsisdiv>







<refsect1>
<title>Description</title>
<para>

</para>
</refsect1>

<refsect1>
<title>Details</title>
<refsect2>
<title><anchor id="GnomeIconLookupFlags">enum GnomeIconLookupFlags</title>
<programlisting>typedef enum {
  GNOME_ICON_LOOKUP_FLAGS_NONE = 0,
  GNOME_ICON_LOOKUP_FLAGS_EMBEDDING_TEXT = 1&lt;&lt;0,
  GNOME_ICON_LOOKUP_FLAGS_SHOW_SMALL_IMAGES_AS_THEMSELVES = 1&lt;&lt;1
} GnomeIconLookupFlags;
</programlisting>
<para>

</para></refsect2>
<refsect2>
<title><anchor id="GnomeIconLookupResultFlags">enum GnomeIconLookupResultFlags</title>
<programlisting>typedef enum {
  GNOME_ICON_LOOKUP_RESULT_FLAGS_NONE = 0,
  GNOME_ICON_LOOKUP_RESULT_FLAGS_THUMBNAIL = 1&lt;&lt;0
} GnomeIconLookupResultFlags;
</programlisting>
<para>

</para></refsect2>
<refsect2>
<title><anchor id="gnome-icon-lookup">gnome_icon_lookup ()</title>
<programlisting>char*       gnome_icon_lookup               (<link linkend="GnomeIconTheme">GnomeIconTheme</link> *icon_theme,
                                             <link linkend="GnomeThumbnailFactory">GnomeThumbnailFactory</link> *thumbnail_factory,
                                             const char *file_uri,
                                             const char *custom_icon,
                                             <link linkend="GnomeVFSFileInfo">GnomeVFSFileInfo</link> *file_info,
                                             const char *mime_type,
                                             <link linkend="GnomeIconLookupFlags">GnomeIconLookupFlags</link> flags,
                                             <link linkend="GnomeIconLookupResultFlags">GnomeIconLookupResultFlags</link> *result);</programlisting>
<para>
This function tries to locate an icon in <parameter>icon_theme</parameter> that can be used
to represent the file passed. It can optionally also look for existing
thumbnails. It does no I/O, so the lookup should be relatively fast.
</para>
<para>
If you don't know any information about the file already you can use
<link linkend="gnome-icon-lookup-sync">gnome_icon_lookup_sync</link>() which gets this information using gnome-vfs.
</para>
<para>
The following <parameter>flags</parameter> are valid:
</para>
<para>
GNOME_ICON_LOOKUP_FLAGS_EMBEDDING_TEXT - Return the text icon for scripts.
This is useful if you do text embedding in the icons.
</para>
<para>
GNOME_ICON_LOOKUP_FLAGS_SHOW_SMALL_IMAGES_AS_THEMSELVES - Return the
filename of the filename itself for small images. Only availible if you
pass a thumbnail_factory.
</para>
<para>
Possible <parameter>result</parameter> flags:
</para>
<para>
GNOME_ICON_LOOKUP_RESULT_FLAGS_THUMBNAIL - The returned file is a thumbnail.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>icon_theme</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="GnomeIconTheme">GnomeIconTheme</link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>thumbnail_factory</parameter>&nbsp;:</term>
<listitem><simpara> an optional <link linkend="GnomeThumbnailFactory">GnomeThumbnailFactory</link> used to look up thumbnails
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>file_uri</parameter>&nbsp;:</term>
<listitem><simpara> the uri of the file
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>custom_icon</parameter>&nbsp;:</term>
<listitem><simpara> optionally the name of a custom icon to try
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>file_info</parameter>&nbsp;:</term>
<listitem><simpara> information about the file from <link linkend="gnome-vfs-get-file-info">gnome_vfs_get_file_info</link>()
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>mime_type</parameter>&nbsp;:</term>
<listitem><simpara> the mime type of the icon
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>flags</parameter>&nbsp;:</term>
<listitem><simpara> flags that affect the result of the lookup
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>result</parameter>&nbsp;:</term>
<listitem><simpara> optionally result flags of the lookups are stored here
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis> :</term><listitem><simpara> The name of an icon or an absolute filename of an image to
         use for the file.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2>
<title><anchor id="gnome-icon-lookup-sync">gnome_icon_lookup_sync ()</title>
<programlisting>char*       gnome_icon_lookup_sync          (<link linkend="GnomeIconTheme">GnomeIconTheme</link> *icon_theme,
                                             <link linkend="GnomeThumbnailFactory">GnomeThumbnailFactory</link> *thumbnail_factory,
                                             const char *file_uri,
                                             const char *custom_icon,
                                             <link linkend="GnomeIconLookupFlags">GnomeIconLookupFlags</link> flags,
                                             <link linkend="GnomeIconLookupResultFlags">GnomeIconLookupResultFlags</link> *result);</programlisting>
<para>
This function tries to locate an icon in <parameter>icon_theme</parameter> that can be used
to represent the file passed. See <link linkend="gnome-icon-lookup">gnome_icon_lookup</link>() for more information.</para>
<para>

</para><variablelist role="params">
<varlistentry><term><parameter>icon_theme</parameter>&nbsp;:</term>
<listitem><simpara> a <link linkend="GnomeIconTheme">GnomeIconTheme</link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>thumbnail_factory</parameter>&nbsp;:</term>
<listitem><simpara> an optional <link linkend="GnomeThumbnailFactory">GnomeThumbnailFactory</link> used to look up thumbnails
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>file_uri</parameter>&nbsp;:</term>
<listitem><simpara> the uri of the file
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>custom_icon</parameter>&nbsp;:</term>
<listitem><simpara> optionally the name of a custom icon to try
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>flags</parameter>&nbsp;:</term>
<listitem><simpara> flags that affect the result of the lookup
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>result</parameter>&nbsp;:</term>
<listitem><simpara> optionally result flags of the lookups are stored here
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis> :</term><listitem><simpara> The name of an icon or an absolute filename of an image to
         use for the file.
</simpara></listitem></varlistentry>
</variablelist></refsect2>

</refsect1>




</refentry>
