<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type"><title>Core API</title><meta name="generator" content="DocBook XSL Stylesheets V1.50.0"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><style type="text/css">
        .synopsis, .classsynopsis {
            background: #eeeeee;
            border: solid 1px #aaaaaa;
            padding: 0.5em;
        }
        .programlisting {
            background: #eeeeff;
            border: solid 1px #aaaaff;
            padding: 0.5em;
        }
        .variablelist {
            padding: 4px;
            margin-left: 3em;
        }
        .navigation {
            background: #ffeeee;
            border: solid 1px #ffaaaa;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .navigation a {
            color: #770000;
        }
        .navigation a:visited {
            color: #550000;
        }
        .navigation .title {
            font-size: 200%;
        }
      </style><link rel="home" href="index.html" title="RSVG Reference Manual"><link rel="up" href="rn01.html" title="
Using RSVG
"><link rel="previous" href="rn01.html" title="
Using RSVG
"><link rel="next" href="rn02.html" title="
Handling Gzipped SVGs (SVGZ)
"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="rn01.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="rn01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">RSVG Reference Manual</th><td><a accesskey="n" href="rn02.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry"><a name="rsvg-Core-API"></a><div class="titlepage"></div><div class="refnamediv"><h2>Core API</h2><p>Core API &#8212; </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">



GQuark      <a href="rsvg-Core-API.html#rsvg-error-quark">rsvg_error_quark</a>                (void);
void        (<a href="rsvg-Core-API.html#RsvgSizeFunc">*RsvgSizeFunc</a>)                 (gint *width,
                                             gint *height,
                                             gpointer user_data);
void        <a href="rsvg-Core-API.html#rsvg-set-default-dpi">rsvg_set_default_dpi</a>            (double dpi);
RsvgHandle* <a href="rsvg-Core-API.html#rsvg-handle-new">rsvg_handle_new</a>                 (void);
void        <a href="rsvg-Core-API.html#rsvg-handle-set-dpi">rsvg_handle_set_dpi</a>             (RsvgHandle *handle,
                                             double dpi);
void        <a href="rsvg-Core-API.html#rsvg-handle-set-size-callback">rsvg_handle_set_size_callback</a>   (RsvgHandle *handle,
                                             <a href="rsvg-Core-API.html#RsvgSizeFunc">RsvgSizeFunc</a> size_func,
                                             gpointer user_data,
                                             GDestroyNotify user_data_destroy);
gboolean    <a href="rsvg-Core-API.html#rsvg-handle-write">rsvg_handle_write</a>               (RsvgHandle *handle,
                                             const guchar *buf,
                                             gsize count,
                                             GError **error);
gboolean    <a href="rsvg-Core-API.html#rsvg-handle-close">rsvg_handle_close</a>               (RsvgHandle *handle,
                                             GError **error);
GdkPixbuf*  <a href="rsvg-Core-API.html#rsvg-handle-get-pixbuf">rsvg_handle_get_pixbuf</a>          (RsvgHandle *handle);
G_CONST_RETURN char* <a href="rsvg-Core-API.html#rsvg-handle-get-title">rsvg_handle_get_title</a>  (RsvgHandle *handle);
G_CONST_RETURN char* <a href="rsvg-Core-API.html#rsvg-handle-get-desc">rsvg_handle_get_desc</a>   (RsvgHandle *handle);
void        <a href="rsvg-Core-API.html#rsvg-handle-free">rsvg_handle_free</a>                (RsvgHandle *handle);
</pre></div><div class="refsect1"><h2>Description</h2><p>

</p></div><div class="refsect1"><h2>Details</h2><div class="refsect2"><h3><a name="rsvg-error-quark"></a>rsvg_error_quark ()</h3><a class="indexterm" name="id2772508"></a><pre class="programlisting">GQuark      rsvg_error_quark                (void);</pre><p>
The error domain for RSVG</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The error domain
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="RsvgSizeFunc"></a>RsvgSizeFunc ()</h3><a class="indexterm" name="id2772568"></a><pre class="programlisting">void        (*RsvgSizeFunc)                 (gint *width,
                                             gint *height,
                                             gpointer user_data);</pre><p>
Function to let a user of the library specify the SVG's dimensions
<i><tt>width</tt></i>: the ouput width the SVG should be
<i><tt>height</tt></i>: the output height the SVG should be
<i><tt>user_data</tt></i>: user data</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>width</tt></i> :</span></td><td> Pointer to where to set/store the width
</td></tr><tr><td><span class="term"><i><tt>height</tt></i> :</span></td><td> Pointer to where to set/store the height
</td></tr><tr><td><span class="term"><i><tt>user_data</tt></i> :</span></td><td> User data pointer
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="rsvg-set-default-dpi"></a>rsvg_set_default_dpi ()</h3><a class="indexterm" name="id2772715"></a><pre class="programlisting">void        rsvg_set_default_dpi            (double dpi);</pre><p>
Sets the DPI for the all future outgoing pixbufs. Common values are
75, 90, and 300 DPI. Passing a number &lt;= 0 to dpi will 
reset the DPI to whatever the default value happens to be.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>dpi</tt></i> :</span></td><td> Dots Per Inch (aka Pixels Per Inch)
</td></tr></tbody></table></div><p>Since  2.2
DEPRECATED. Use rsvg_set_default_dpi_x_y() instead
</p></div><hr><div class="refsect2"><h3><a name="rsvg-handle-new"></a>rsvg_handle_new ()</h3><a class="indexterm" name="id2772808"></a><pre class="programlisting">RsvgHandle* rsvg_handle_new                 (void);</pre><p>
Returns a new rsvg handle.  Must be freed with <i><tt>rsvg_handle_free</tt></i>.  This
handle can be used for dynamically loading an image.  You need to feed it
data using <i><tt>rsvg_handle_write</tt></i>, then call <i><tt>rsvg_handle_close</tt></i> when done.  No
more than one image can be loaded with one handle.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> A new RsvgHandle
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="rsvg-handle-set-dpi"></a>rsvg_handle_set_dpi ()</h3><a class="indexterm" name="id2772903"></a><pre class="programlisting">void        rsvg_handle_set_dpi             (RsvgHandle *handle,
                                             double dpi);</pre><p>
Sets the DPI for the outgoing pixbuf. Common values are
75, 90, and 300 DPI. Passing a number &lt;= 0 to dpi will 
reset the DPI to whatever the default value happens to be.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>handle</tt></i> :</span></td><td> An RsvgHandle
</td></tr><tr><td><span class="term"><i><tt>dpi</tt></i> :</span></td><td> Dots Per Inch (aka Pixels Per Inch)
</td></tr></tbody></table></div><p>Since  2.2
DEPRECATED. Use rsvg_handle_set_dpi_x_y() instead
</p></div><hr><div class="refsect2"><h3><a name="rsvg-handle-set-size-callback"></a>rsvg_handle_set_size_callback ()</h3><a class="indexterm" name="id2773027"></a><pre class="programlisting">void        rsvg_handle_set_size_callback   (RsvgHandle *handle,
                                             <a href="rsvg-Core-API.html#RsvgSizeFunc">RsvgSizeFunc</a> size_func,
                                             gpointer user_data,
                                             GDestroyNotify user_data_destroy);</pre><p>
Sets the sizing function for the <i><tt>handle</tt></i>.  This function is called right
after the size of the image has been loaded.  The size of the image is passed
in to the function, which may then modify these values to set the real size
of the generated pixbuf.  If the image has no associated size, then the size
arguments are set to -1.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>handle</tt></i> :</span></td><td> An RsvgHandle
</td></tr><tr><td><span class="term"><i><tt>size_func</tt></i> :</span></td><td> A sizing function, or <tt>NULL</tt>
</td></tr><tr><td><span class="term"><i><tt>user_data</tt></i> :</span></td><td> User data to pass to <i><tt>size_func</tt></i>, or <tt>NULL</tt>
</td></tr><tr><td><span class="term"><i><tt>user_data_destroy</tt></i> :</span></td><td> Destroy function for <i><tt>user_data</tt></i>, or <tt>NULL</tt>
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="rsvg-handle-write"></a>rsvg_handle_write ()</h3><a class="indexterm" name="id2833601"></a><pre class="programlisting">gboolean    rsvg_handle_write               (RsvgHandle *handle,
                                             const guchar *buf,
                                             gsize count,
                                             GError **error);</pre><p>
Loads the next <i><tt>count</tt></i> bytes of the image.  This will return TRUE if the data
was loaded successful, and FALSE if an error occurred.  In the latter case,
the loader will be closed, and will not accept further writes. If FALSE is
returned, <i><tt>error</tt></i> will be set to an error from the RSVG_ERROR domain.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>handle</tt></i> :</span></td><td> An RsvgHandle
</td></tr><tr><td><span class="term"><i><tt>buf</tt></i> :</span></td><td> Pointer to svg data
</td></tr><tr><td><span class="term"><i><tt>count</tt></i> :</span></td><td> length of the <i><tt>buf</tt></i> buffer in bytes
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> return location for errors
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> TRUE if the write was successful, or FALSE if there was an
error.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="rsvg-handle-close"></a>rsvg_handle_close ()</h3><a class="indexterm" name="id2833846"></a><pre class="programlisting">gboolean    rsvg_handle_close               (RsvgHandle *handle,
                                             GError **error);</pre><p>
Closes <i><tt>handle</tt></i>, to indicate that loading the image is complete.  This will
return TRUE if the loader closed successfully.  Note that <i><tt>handle</tt></i> isn't
freed until <i><tt>rsvg_handle_free</tt></i> is called.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>handle</tt></i> :</span></td><td> A RsvgHandle
</td></tr><tr><td><span class="term"><i><tt>error</tt></i> :</span></td><td> A GError
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> TRUE if the loader closed successfully, or FALSE if there was
an error.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="rsvg-handle-get-pixbuf"></a>rsvg_handle_get_pixbuf ()</h3><a class="indexterm" name="id2834026"></a><pre class="programlisting">GdkPixbuf*  rsvg_handle_get_pixbuf          (RsvgHandle *handle);</pre><p>
Returns the pixbuf loaded by handle.  The pixbuf returned will be reffed, so
the caller of this function must assume that ref.  If insufficient data has
been read to create the pixbuf, or an error occurred in loading, then <tt>NULL</tt>
will be returned.  Note that the pixbuf may not be complete until
<i><tt>rsvg_handle_close</tt></i> has been called.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>handle</tt></i> :</span></td><td> An RsvgHandle
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> the pixbuf loaded by handle, or <tt>NULL</tt>.
</td></tr></tbody></table></div></div><hr><div class="refsect2"><h3><a name="rsvg-handle-get-title"></a>rsvg_handle_get_title ()</h3><a class="indexterm" name="id2834166"></a><pre class="programlisting">G_CONST_RETURN char* rsvg_handle_get_title  (RsvgHandle *handle);</pre><p>
Returns the SVG's title in UTF-8 or <tt>NULL</tt>. You must make a copy
of this title if you wish to use it after handle has been freed.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>handle</tt></i> :</span></td><td> An RsvgHandle
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The SVG's title

</td></tr></tbody></table></div><p>Since  2.4
</p></div><hr><div class="refsect2"><h3><a name="rsvg-handle-get-desc"></a>rsvg_handle_get_desc ()</h3><a class="indexterm" name="id2834281"></a><pre class="programlisting">G_CONST_RETURN char* rsvg_handle_get_desc   (RsvgHandle *handle);</pre><p>
Returns the SVG's description in UTF-8 or <tt>NULL</tt>. You must make a copy
of this description if you wish to use it after handle has been freed.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>handle</tt></i> :</span></td><td> An RsvgHandle
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> The SVG's description

</td></tr></tbody></table></div><p>Since  2.4
</p></div><hr><div class="refsect2"><h3><a name="rsvg-handle-free"></a>rsvg_handle_free ()</h3><a class="indexterm" name="id2834397"></a><pre class="programlisting">void        rsvg_handle_free                (RsvgHandle *handle);</pre><p>
Frees handle.</p><p>

</p><div class="variablelist"><table border="0"><col align="left"><tbody><tr><td><span class="term"><i><tt>handle</tt></i> :</span></td><td> An RsvgHandle
</td></tr></tbody></table></div></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="rn01.html"><b>&lt;&lt; 
Using RSVG
</b></a></td><td align="right"><a accesskey="n" href="rn02.html"><b>
Handling Gzipped SVGs (SVGZ)
 &gt;&gt;</b></a></td></tr></table></body></html>
