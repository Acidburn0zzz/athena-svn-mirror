<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>Questions about Bugs and Debugging</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.59"><LINK
REL="HOME"
TITLE="En brukers håndbok for Evolution"
HREF="index.html"><LINK
REL="UP"
TITLE="Frequently Asked Questions About Ximian Evolution"
HREF="evolution-faq.html"><LINK
REL="PREVIOUS"
TITLE="Troubleshooting"
HREF="faq-trouble.html"><LINK
REL="NEXT"
TITLE="Glossary"
HREF="apx-gloss.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>En brukers håndbok for Evolution</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="faq-trouble.html"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Frequently Asked Questions About Ximian Evolution</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="apx-gloss.html"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="FAQ-DEBUGGING"
>Questions about Bugs and Debugging</A
></H1
><P
>      Find a bug? Here's how to help us fix it!
    </P
><DIV
CLASS="QANDASET"
><DL
><DT
>Q: <A
HREF="faq-debugging.html#AEN3430"
>            Where should I report bugs for Evolution?
          </A
></DT
><DT
>Q: <A
HREF="faq-debugging.html#AEN3438"
>             What is a stack trace (backtrace) and how do I get one?
           </A
></DT
><DT
>Q: <A
HREF="faq-debugging.html#AEN3468"
>             A component of evolution crashed, but since the rest of
             evolution stayed up, I couldn't use bug-buddy to get a
             stack trace. How can I use gdb to get a stack trace of
             the component?
           </A
></DT
></DL
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><BIG
><A
NAME="AEN3430"
></A
><B
>Q:             Where should I report bugs for Evolution?
          </B
></BIG
></P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>            You can use the GNOME Bug Report Tool
            (<B
CLASS="COMMAND"
>bug-buddy</B
>), or report bugs to the
            Ximian bug reporting system (Bugzilla), located at <A
HREF="http://bugzilla.ximian.com"
TARGET="_top"
>http://bugzilla.ximian.com</A
>.
          </P
><P
>            Please use the query function to check if a bug has been
            submitted already, so that we avoid duplicate reports.
          </P
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><BIG
><A
NAME="AEN3438"
></A
><B
>Q:              What is a stack trace (backtrace) and how do I get one?
           </B
></BIG
></P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>              A stack trace is a list of the chain of function calls
              that lead to some point in the program. Typically, you
              want to get a stack trace when Evolution crashes or
              hangs and you want to try to figure out where in the
              code that happened and why. For this reason, stack
              traces are extremely useful for the Evolution
              developers, so it's important that you learn how to get
              them, and include them in crash reports. The
              <TT
CLASS="APPLICATION"
>bug-buddy</TT
> tool can get and
              submit a stack trace for you.  If you want to do it by
              yourself, here's how:
          </P
><P
>             First of all, in order to get a stack trace, your
             executable (and possibly the libraries) must be compiled
             with debugging symbols. Debugging symbols are created by
             default if you compile from CVS, and are included in the
             snapshot builds. If you decide to compile by yourself
             with some custom CFLAGS value, make sure -g is included
             in them.
          </P
><P
>            Finally, you must put the component that crashes through
            <TT
CLASS="APPLICATION"
>gdb</TT
>, the GNU debugging tool.
            To do so, make sure all the components are dead (exit
            Evolution and run <B
CLASS="COMMAND"
>killev</B
>), then run the
            following command:
               <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>                   <B
CLASS="COMMAND"
>gdb name-of-component</B
>
                </PRE
></TD
></TR
></TABLE
>
           
           Where "name-of-component" is the name of the component that
           crashed.
           </P
><P
>             Then, at the gdb prompt, type r (for "run") and wait a
             few seconds to make sure the component has registered
             with the name service. Then start
             <TT
CLASS="APPLICATION"
>Evolution</TT
> normally from a
             different terminal.
           </P
><P
>             When you have started
             <TT
CLASS="APPLICATION"
>Evolution</TT
>, reproduce the
             crash, and go back to the terminal where you ran gdb. If
             the component crashed, you should have a prompt there;
             otherwise, just hit Control+C. At the prompt, type
             <B
CLASS="COMMAND"
>info threads</B
>.  This will give you a
             screen that looks like this:
           </P
><P
>              <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>(gdb) info threads
  8 Thread 6151 (LWP 14908)  0x409778fe in sigsuspend () from /lib/libc.so.6
  7 Thread 5126 (LWP 14907)  0x409778fe in sigsuspend () from /lib/libc.so.6
  6 Thread 4101 (LWP 1007)  0x409778fe in sigsuspend () from /lib/libc.so.6
  5 Thread 3076 (LWP 1006)  0x409778fe in sigsuspend () from /lib/libc.so.6
  4 Thread 2051 (LWP 1005)  0x409778fe in sigsuspend () from /lib/libc.so.6
  3 Thread 1026 (LWP 1004)  0x409778fe in sigsuspend () from /lib/libc.so.6
  2 Thread 2049 (LWP 1003)  0x40a10d90 in poll () from /lib/libc.so.6
  1 Thread 1024 (LWP 995)  0x40a10d90 in poll () from /lib/libc.so.6
            </PRE
></TD
></TR
></TABLE
>
 
             For the most part, only
             <TT
CLASS="APPLICATION"
>evolution-mail</TT
> will have more
             than one thread.
         </P
><P
>           Now, for each of the threads listed, type the following commands:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>thread N
bt</PRE
></TD
></TR
></TABLE
>
           Where 'N' is the number of the thread (in this example, 1
           through 8).
          </P
><P
>            Cut and paste all the output gdb gives you into a text
            file.  You can quit gdb by typing
            <TT
CLASS="USERINPUT"
><B
>quit</B
></TT
>
          </P
><P
>            If you prefer, you can start gdb while a process is
            running. You'll want to do this right after a crash dialog
            appears, but before hitting "OK" or "Submit bug report".
            Start <TT
CLASS="APPLICATION"
>gdb</TT
> as above, but instead
            of using <TT
CLASS="USERINPUT"
><B
>r</B
></TT
>, type <TT
CLASS="USERINPUT"
><B
>attach
            PID</B
></TT
> where PID is the process ID of the
            component you want to debug.
          </P
><P
>             If that sounds too complicated, you can always use
             <B
CLASS="COMMAND"
>bug-buddy</B
> to get and submit the stack
             trace.
           </P
></DIV
></DIV
><DIV
CLASS="QANDAENTRY"
><DIV
CLASS="QUESTION"
><P
><BIG
><A
NAME="AEN3468"
></A
><B
>Q:              A component of evolution crashed, but since the rest of
             evolution stayed up, I couldn't use bug-buddy to get a
             stack trace. How can I use gdb to get a stack trace of
             the component?
           </B
></BIG
></P
></DIV
><DIV
CLASS="ANSWER"
><P
><B
>A: </B
>             To trace a failing component (in this example, evolution-mail):
             <P
></P
><OL
TYPE="1"
><LI
><P
>                  Open two terminals.
                </P
></LI
><LI
><P
>                   In one, type <B
CLASS="COMMAND"
>gdb evolution-mail</B
>
                   .  Replace "evolution-mail" with the name of the
                   component that is crashing: evolution-addressbook,
                   evolution-calendar, etc.)
                 </P
></LI
><LI
><P
>                  Once gdb starts, type <TT
CLASS="USERINPUT"
><B
>r</B
></TT
> and
                  hit enter. Give it a few seconds, to make sure it
                  starts up completely.
                </P
></LI
><LI
><P
>                   In the second terminal, type
                   <B
CLASS="COMMAND"
>evolution</B
>. Do whatever you did
                   to cause the crash in the component you used in
                   step two.
                </P
></LI
><LI
><P
>                   When the crash occurs, type 'bt' in the first
                   terminal. 
                </P
></LI
><LI
><P
>                   Cut and paste the output into your bug report.
                </P
></LI
></OL
>
           </P
></DIV
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="faq-trouble.html"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="apx-gloss.html"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Troubleshooting</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="evolution-faq.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Glossary</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>