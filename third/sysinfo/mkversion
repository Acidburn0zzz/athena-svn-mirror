#!/bin/sh
#
# $Header: /afs/dev.mit.edu/source/repository/third/sysinfo/mkversion,v 1.1.1.1 1996-10-07 20:16:48 ghudson Exp $
#
PATH=/usr/ucb:/usr/bsd:/usr/bin:/bin
export PATH

if [ ! -z "$1" ]; then
	outfile=$1
else
	outfile=versinfo.c
fi

date=`date`
host=`hostname`
who=`who am i 2>/dev/null`
if [ ! -z "$who" ]; then
	user=`echo $who | awk '{print $1}' | sed -e 's;.*!;;'`
else
	user=""
fi

rm -f $outfile

cat >$outfile<<EOF
/*
 * WARNING: This file was automatically generated by mkversion.
 */
char BuildDate[] = "$date";
char BuildHost[] = "$host";
char BuildUser[] = "$user";
EOF
