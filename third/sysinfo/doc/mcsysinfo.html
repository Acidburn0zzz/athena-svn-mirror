<HTML>
<BODY>
<PRE>
       mcsysinfo - MagniComp(tm) SysInfo - Obtain system informa-
       tion in a platform neutral manner


</PRE>
<H2>SYNOPSIS</H2><PRE>
       cc  -I<EM>/opt/sysinfo/include</EM>  [  options  ]  <EM>file</EM>  [  ...  ]
       -L/opt/sysinfo/lib/platform/<EM>name</EM> -lmcsysinfo

       #include &lt;mcsysinfo.h&gt;

       MCSIquery_t Query;


       Query.Op = <STRONG>MCSIOP_PROGRAM</STRONG>;
       Query.In = <EM>"ProgramName"</EM>;
       Query.InSize = strlen((char *)Query.In);
       int mcSysInfo(&amp;Query);


       Query.Op = <STRONG>MCSIOP_CREATE</STRONG>;
       Query.Cmd = <EM>MCCMD</EM>;
       int mcSysInfo(&amp;Query);

       Query.Op = <STRONG>MCSIOP_DESTROY</STRONG>;
       int mcSysInfo(&amp;Query);


</PRE>
<H2>DESCRIPTION</H2><PRE>
       The  <STRONG>MagniComp(tm)</STRONG> <STRONG>SysInfo</STRONG> <STRONG>mcSysInfo()</STRONG> function allows the
       caller to obtain system information about the local system
       in  an operating system neutral fashion.  Data is returned
       in platform nuetral data structures.  This allows applica-
       tions  to  be  built  using <STRONG>mcSysInfo()</STRONG> which are platform
       neutral.

       The <STRONG>Query.Op</STRONG> parameter controls the basic  operation  per-
       formed  by  <STRONG>mcSysInfo().</STRONG>   The  following  values are sup-
       ported:

              MCSIOP_PROGRAM
                     When <STRONG>Query.Op</STRONG> is set to <STRONG>MCSIOP_PROGRAM</STRONG>  then
                     <STRONG>Query.In</STRONG> should point at a string naming the
                     calling program and <STRONG>Query.InSize</STRONG>  should  be
                     set  to the size of <STRONG>Query.In</STRONG> in bytes.  This
                     name is used by <STRONG>mcSysInfo()</STRONG> when  displaying
                     error and debug messages.

              MCSIOP_CREATE
                     When  <STRONG>Query.Op</STRONG> is set to <STRONG>MCSIOP_CREATE,</STRONG> data
                     is retrieved from the local system in  plat-
                     form specific manner and placed in allocated
                     structures  in  the  location  indicated  by
                     <STRONG>Query.Out.</STRONG>

                     When  <STRONG>Query.Op</STRONG> is set to <STRONG>MCSIOP_DESTROY,</STRONG> the
                     data located at  the  address  indicated  by
                     <STRONG>Query.Out</STRONG> is destroyed (unallocated).

       The <EM>Query</EM> is defined as follows:

              /*
               * Query type for mcSysInfo() calls
               */
              typedef struct {
                  /* Caller's Input */
                  int         Op;         /* MCSIOP_* operator */
                  int         Cmd;        /* MCSI_* command to perform */
                  uint_t      Flags;      /* Option Flags */
                  char      **SearchExp;  /* Search Expression */
                  Opaque_t    In;         /* Ptr to Input */
                  size_t      InSize;     /* Size of In */
                  /* Results */
                  Opaque_t    Out;        /* Ptr to Output */
                  size_t      OutSize;    /* Size of Out */
              } MCSIquery_t;


       The members of <STRONG>MCSIquery_t</STRONG> are defined as follows:

       Op     Specifies  what operation to perform on <EM>Cmd.</EM>  Valid
              values are as follows:

              MCSIOP_CREATE
                     (Default) Obtain the data requested  by  <EM>Cmd</EM>
                     and return the result in the <EM>Out</EM> and <EM>OutSize</EM>
                     parameters.  The  data  located  at  <EM>Out</EM>  is
                     allocated  when  this function is called and
                     should be destroyed (unallocated) by calling
                     <STRONG>mcSysInfo()</STRONG>  with  <EM>Op</EM>  set to <STRONG>MCSIOP_DESTROY</STRONG>
                     (see below).

              MCSIOP_DESTROY
                     Destroy (unallocate)  the  data  located  at
                     address <EM>Out.</EM>

       Cmd    Specifies  which command to perform.  See below for
              the valid list of commands.

       Flags  <EM>Flags</EM> is a set of bit flags which enable  different
              options as specified by the following values:

              MCSIF_DATA
                     (Default)  This  option  causes  data  to be
                     returned to  the  <EM>Out</EM>  buffer  in  the  form
                     requiring  the  least  amount  of additional
                     parsing by the calling function as possible.

              MCSIF_STRING
                     This option causes data to  be  returned  in
                     string form readying for human display when-
                     ever possible.  This option is  only  avail-
                     able  for  specific  <EM>Cmd</EM> values as specified
                     below.

       SearchExp
              An array of  strings  to  use  to  limit  the  data
              returned  in <EM>Out.</EM>  Only the following commands sup-
              port this option:

              MCSI_DEVTREE
                     Used to specify a list of  names  which  are
                     checked  against the device's <EM>Name,</EM> <EM>Aliases,</EM>
                     and <EM>AltName</EM> values.

       <EM>In</EM>     Used to provide input to certain operations such as
              MCSIOP_PROGRAM.

       InSize Size of <EM>In</EM> in bytes.

       Out    All  data is returned in an allocated buffer at the
              location specified by the <EM>Out</EM>  parameter  The  con-
              tents of the buffer vary according to the <EM>Cmd</EM> spec-
              ified.  See below for more details.

       OutSize
              The size (length) of data located in the <EM>Out</EM>  loca-
              tion  is  specified  by  <EM>OutSize</EM> where appropriate.
              The <EM>OutSize</EM> data is not guarenteed to by  the  full
              size  of the allocated buffer, but is guaranteed to
              always be greater than zero when the call  succeeds
              and  <EM>Out</EM>  points  to a valid buffer.  See below for
              more details.

       The valid values for <EM>Cmd</EM> are as follows:

              MCSI_HOSTNAME
                     Obtain the system's canonical hostname.

                      <EM>Out</EM>    Points at a  <EM>char</EM>  <EM>*</EM>  buffer.   e.g.
                             "sunworld".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_HOSTALIASES
                     Obtain a list of host aliases for the  local
                     host.  These are obtained via the <STRONG>gethostby-</STRONG>

                      <EM>Out</EM>    When <STRONG>MCSIF_DATA</STRONG> is set in <EM>Flags</EM> (the
                             default) <EM>Out</EM> is a pointer to a  <EM>char</EM>
                             <EM>**</EM> array of aliases.  The last entry
                             in this array will always  be  NULL.
                             When  <STRONG>MCSIF_STRING</STRONG>  is  set in <EM>Flags</EM>
                             <EM>Out</EM> is a pointer to a <EM>char</EM> <EM>*</EM>  string
                             which  contains  a  space  seperated
                             list of aliases.  e.g.  "fred  fred2
                             fred3".


                     <EM>OutSize</EM>
                             When <STRONG>MCSIF_DATA</STRONG> is set in <EM>Flags</EM> (the
                             default) <EM>OutSize</EM> indicates the  num-
                             ber  of entries in the array located
                             at   the   <EM>Out</EM>    location.     When
                             <STRONG>MCSIF_STRING</STRONG> is set in <EM>Flags</EM> <EM>OutSize</EM>
                             indicates the length of the  buffer.

              MCSI_HOSTADDRS
                     Obtain   a   list  of  the  local  hosts  IP
                     addresses.

                      <EM>Out</EM>    When <STRONG>MCSIF_DATA</STRONG> is set in <EM>Flags</EM> (the
                             default)  <EM>Out</EM> is a pointer to a <EM>char</EM>
                             <EM>**</EM> array of IP addresses.  The  last
                             entry  in  this array will always be
                             NULL.  When <STRONG>MCSIF_STRING</STRONG> is  set  in
                             <EM>Flags</EM>  <EM>Out</EM>  is a pointer to a <EM>char</EM> <EM>*</EM>
                             string which contains a space seper-
                             ated  list  of  IP  addresses.  e.g.
                             "129.152.1.1            129.152.20.1
                             192.5.5.44".


                     <EM>OutSize</EM>
                             When <STRONG>MCSIF_DATA</STRONG> is set in <EM>Flags</EM> (the
                             default) <EM>OutSize</EM> indicates the  num-
                             ber  of entries in the array located
                             at   the   <EM>Out</EM>    location.     When
                             <STRONG>MCSIF_STRING</STRONG> is set in <EM>Flags</EM> <EM>OutSize</EM>
                             indicates the length of the  buffer.

              MCSI_HOSTID
                     Obtain the host identifier.

                      <EM>Out</EM>    Points  at  a  <EM>char</EM>  <EM>*</EM> buffer.  e.g.
                             "8025asf3".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>

                     Obtain the host's serial number.

                      <EM>Out</EM>    Points  at  a  <EM>char</EM>  <EM>*</EM> buffer.  e.g.
                             "FF5443139".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_MANSHORT
                     Obtain the short name of the host's manufac-
                     turer.

                      <EM>Out</EM>    Points at a  <EM>char</EM>  <EM>*</EM>  buffer.   e.g.
                             "Sun".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_MANLONG
                     Obtain the long name of the host's  manufac-
                     turer.

                      <EM>Out</EM>    Points  at  a  <EM>char</EM>  <EM>*</EM> buffer.  e.g.
                             "Sun Microsystems, Inc."

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_MAN
                     Obtain  the  combined short and long name of
                     the host's manufacturer.

                      <EM>Out</EM>    Points at a  <EM>char</EM>  <EM>*</EM>  buffer.   e.g.
                             "Sun (Sun Microsystems, Inc.)".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_MODEL
                     Obtain the host's model name.

                      <EM>Out</EM>    Points at a  <EM>char</EM>  <EM>*</EM>  buffer.   e.g.
                             "Ultra 10 Model 300".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

                     Obtain the number of physical CPUs which are
                     installed and enabled.

                      <EM>Out</EM>    Points  at  a  <EM>char</EM>  <EM>*</EM> buffer.  e.g.
                             "2".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_CPUTYPE
                     Obtain  the  type  of CPU used in the system
                     (e.g. SPARCv9, Pentium, etc.).

                      <EM>Out</EM>    Points at a  <EM>char</EM>  <EM>*</EM>  buffer.   e.g.
                             "sparcv9+vis".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_APPARCH
                     Obtain the application architecture  of  the
                     system (e.g. SPARC, x86, etc.).

                      <EM>Out</EM>    Points  at  a  <EM>char</EM>  <EM>*</EM> buffer.  e.g.
                             "sparc".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_KERNARCH
                     Obtain the kernel architecture of the system
                     (e.g. sun4u, sun4m, etc.).

                      <EM>Out</EM>    Points at a  <EM>char</EM>  <EM>*</EM>  buffer.   e.g.
                             "sun4u".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_OSNAME
                     Obtain the name of the operating system.

                      <EM>Out</EM>    Points at a  <EM>char</EM>  <EM>*</EM>  buffer.   e.g.
                             "SunOS".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

                     Obtain the version of the  operating  system
                     (e.g. 5.6, 4.2.1, etc.).

                      <EM>Out</EM>    Points at a <EM>char</EM> <EM>*</EM> buffer.

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_OSDIST
                     Obtain the distribution name of the  operat-
                     ing  system (e.g. Solaris 2.6 5/98, S.u.S.e.
                     6.1, etc.).

                      <EM>Out</EM>    Points at a <EM>char</EM> <EM>*</EM> buffer.

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_KERNVER
                     Obtain  the  version  of the kernel which is
                     installed (e.g. SunOS  Release  5.6  Version
                     Generic_105182-05  [UNIX(R) System V Release
                     4.0])

                      <EM>Out</EM>    Points at a <EM>char</EM> <EM>*</EM> buffer.

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_BOOTTIME
                     Obtain  the  time  that  the system was last
                     booted.

                      <EM>Out</EM>    Points at a <EM>char</EM> <EM>*</EM> buffer.  e.g "Sat
                             Jun 19 11:55:41 1999".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

              MCSI_CURRENTTIME
                     Obtain the current (local) system time.

                      <EM>Out</EM>    Points at a <EM>char</EM> <EM>*</EM> buffer.  e.g "Sat
                             Jun 19 11:55:41 1999".

                     <EM>OutSize</EM>
                             Indicates  the  length  of  the  <EM>Out</EM>
                             buffer.

                     Obtain a list, possible  in  a  hierarchical
                     tree, of physical (hardware) devices present
                     on the system.

                      <EM>Out</EM>    Pointer to a <EM>DevInfo</EM><STRONG>_</STRONG><EM>t</EM> buffer.   See
                             <STRONG>DevInfo_t</STRONG> below for details.

                     <EM>OutSize</EM>
                             Is  1  or more if <EM>Out</EM> contains valid
                             data.

              MCSI_KERNELVAR
                     Obtain a list  of  kernel  variables,  their
                     description,  and  their values as presently
                     configured.

                      <EM>Out</EM>    Points at  a  linked  list  of  type
                             <EM>Define</EM><STRONG>_</STRONG><EM>t</EM> which contains data as fol-
                             lows:

                             KeyStr The name of the kernel  vari-
                                    able.

                             ValStr1
                                    The  type of variable this is
                                    (boolean, int, long, string).

                             ValStr2
                                    Descriptive text of what this
                                    variable is for.

                             ValStr3
                                    The value obtained  from  the
                                    kernel.  The value is NULL if
                                    the   information   was   not
                                    available from the kernel.


                     <EM>OutSize</EM>

                     <EM>OutSize</EM>
                             The  number  of valid entries in the
                             linked list at location <EM>Out.</EM>

              MCSI_SYSCONF
                     Obtain a list of system configuration values
                     via the <EM>sysconf(3)</EM> interface.

                      <EM>Out</EM>    Points  at  a  linked  list  of type
                             <EM>Define</EM><STRONG>_</STRONG><EM>t</EM> which contains data as fol-
                             lows:

                                    The  type of variable this is
                                    (boolean, int, long, string).

                             ValStr2
                                    Descriptive text of what this
                                    variable is for.

                             ValStr3
                                    The value obtained  from  the
                                    kernel converted to a string.
                                    The  value  is  NULL  if  the
                                    information was not available
                                    from the kernel.

                             ValInt1
                                    The value obtained  from  the
                                    kernel  in integer form.  The
                                    value is less than 0  if  the
                                    data  was  not retrieved suc-
                                    cessfully.


                     <EM>OutSize</EM>
                             The number of valid entries  in  the
                             linked list at location <EM>Out.</EM>

              MCSI_SOFTINFO
                     Obtain  a  list,  possible in a hierarchical
                     tree,  of  software  and  software  packages
                     which are installed on the system.

                      <EM>Out</EM>    Pointer to a <EM>SoftInfo</EM><STRONG>_</STRONG><EM>t</EM> buffer.  See
                             <STRONG>SoftInfo_t</STRONG> below for details.

                     <EM>OutSize</EM>
                             Is 1 or more if <EM>Out</EM>  contains  valid
                             data.

              MCSI_PARTITION
                     Obtain  a  list,  possible in a hierarchical
                     tree, of disk  partitions  defined  on  this
                     system.

                      <EM>Out</EM>    Pointer to a <EM>PartInfo</EM><STRONG>_</STRONG><EM>t</EM> buffer.  See
                             <STRONG>PartInfo_t</STRONG> below for details.

                     <EM>OutSize</EM>
                             Is 1 or more if <EM>Out</EM>  contains  valid
                             data.


</PRE>
<H2>DevInfo_t</H2><PRE>
       The  primary  device  information  data  type is <EM>DevInfo</EM><STRONG>_</STRONG><EM>t</EM>
                  char              *Name;       /* Name (e.g. cgtwo0) */
                  char              *Driver;     /* Driver Name (e.g. cgtwo) */
                  char             **Aliases;    /* Alias Names */
                  char              *AltName;    /* Alt name */
                  char             **Files;      /* Device files */
                  int                Type;       /* Device type (eg DT_TAPE) */
                  int                ClassType;  /* Class type (eg SCSI,IPI) */
                  char              *Vendor;     /* Hardware Vendor */
                  char              *Model;      /* Model */
                  char              *ModelDesc;  /* eg SCSI, 4.0GB, etc. */
                  char              *Serial;     /* Serial Number */
                  char              *Revision;   /* Revision Info */
                  DevDesc_t         *DescList;   /* Device Description */
                  int                Unit;       /* Unit number */
                  int                NodeID;     /* ID of this node */
                  char              *MasterName; /* Name of master */
                  void              *DevSpec;    /* Device specific info */
                  struct _DevInfo   *Master;     /* Device controller */
                  struct _DevInfo   *Slaves;     /* Devices on this device */
                  struct _DevInfo   *Next;       /* Pointer to next device */
                  /* Internal use only */
                  void              *OSdata;     /* Data from OS */
                  /* Obsolete */
                  int                Addr;       /* Address */
                  int                Prio;       /* Priority */
                  int                Vec;        /* Vector */
              };
              typedef struct _DevInfo DevInfo_t;


       The members of <EM>DevInfo</EM><STRONG>_</STRONG><EM>t</EM> are defined as follows:

       Name   The devices name, inclusive of  it's  unit  number.
              e.g.   <STRONG>sd0.</STRONG>   If  the  device name ends in a digit,
              then the slash ('/') character followed by the unit
              number  is  appended  to  clarify  the  name.  e.g.
              <STRONG>pgx32/0</STRONG>

       Driver The name of the  device  driver  for  this  device.
              This  is  typically,  but  not always, the value of
              <EM>Name</EM> without the unit.  e.g. For a  device  with  a
              <EM>Name</EM> of <STRONG>sd0</STRONG> the value of <EM>Driver</EM> would be <STRONG>sd</STRONG>

       Aliases
              An  array  of  alternate  values for <EM>Names</EM> by which
              this device may be addressed.  e.g. A  device  with
              <EM>Name</EM>   of   <STRONG>dwis0</STRONG>  might  have  an  alias  such  as
              <STRONG>pci1001,2003</STRONG> <STRONG>.</STRONG>

       AltName
              This member is depreciated by the  <EM>Aliases</EM>  member.
              When  set,  it  contains a single alternate name by
              which this device might be addressed.

       Type   A  numeric  value which classes the type of device.
              Valid  numeric  values  are  defined  by  the  DT_*
              entries in &lt;mcsysinfo.h&gt;.

       ClassType
              This  value defines a classification of this device
              within it's <EM>Type.</EM>  The valid values  for  <EM>ClassType</EM>
              are specified by the CT_* entries in &lt;mcsysinfo.h&gt;.
              e.g. A SCSI  disk  device  would  have  a  <EM>Type</EM>  of
              <STRONG>DT_DISK</STRONG> and a <EM>ClassType</EM> value of <STRONG>CT_SCSI</STRONG> <STRONG>.</STRONG>

       Vendor The  name  of  the  vendor who sold or manufactured
              this device.

       Model  The model name of the device.

       ModelDesc
              A further description of the model which varies  by
              device and operating system.

       Serial The devices serial number.

       Revision
              The revision of the device.

       DescList
              A  list of descriptive information that is not oth-
              erwise specified in <EM>DevInfo</EM><STRONG>_</STRONG><EM>t.</EM>   This  list  varies
              greatly  by  operating system and specific hardware
              platforms and models.  There is no  guarentee  that
              the  <EM>DescList</EM> information will remain constant from
              model to model, even on  the  same  version  of  an
              operating system.

       Unit   The device's unit number.  This is usually, but not
              always, the physically assigned unit number of  the
              device.

       NodeID Some operating systems and hardware platforms (e.g.
              Solaris+SPARC+OpenBootProm)  assign  devices  soft,
              unique identifiers for tracking purposes inside the
              kernel.

       MasterName
              The name of our master (parent)  device.   This  is
              used  if  no  <EM>Master</EM> link is available.  The <EM>Master</EM>
              data should always be used whenever available.

       Master A pointer to the master (parent) for this device.


       Next   A  pointer  to any sibling devices which all belong
              to the same <EM>Master.</EM>

       DevSpec
              The address to a buffer containing information spe-
              cific  to  the  device <EM>Type</EM> <EM>.</EM>  The following device
              <EM>Type</EM> values normally provide data via <EM>DevSpec</EM> <EM>:</EM>

              DT_DISK
                     Pointer to a <EM>DiskDrive</EM><STRONG>_</STRONG><EM>t</EM> entry.

              DT_FRAMEBUFFER
                     Pointer to a <EM>FrameBuffer</EM><STRONG>_</STRONG><EM>t</EM> entry.

              DT_NETIF
                     Pointer to a <EM>NetIF</EM><STRONG>_</STRONG><EM>t</EM> entry.

              DT_MONITOR
                     Pointer to a <EM>Monitor</EM><STRONG>_</STRONG><EM>t</EM> entry.

       Addr   This value is obsolete.

       Prio   This value is obsolete.

       Vec    This value is obsolete.


</PRE>
<H2>SoftInfo_t</H2><PRE>
       The software information data type is <EM>SoftInfo</EM><STRONG>_</STRONG><EM>t</EM> which  is
       defined as:

              struct _SoftInfo {
                  char         *EntryType;  /* Entry Type MC_SET_*_S */
                  int             EntryTypeNum;  /* Numeric EntryType */
                  char         *Name;       /* Name */
                  char         *Version;    /* Version */
                  char         *Revision;   /* Revision for this Version */
                  char         *Desc;       /* Description of software */
                  char         *DescVerbose;     /* Verbose Description */
                  char         *URL;        /* Product URL */
                  char         *License;    /* Product License */
                  char         *Copyright;  /* Product Copyright */
                  char         *Category;   /* Category pkg belongs to */
                  char         *SubCategory;     /* Sub Category */
                  char         *OSname;          /* OS name runs on */
                  char         *OSversion;  /* OS version runs on */
                  char         *Arch;       /* Architecture runs on */
                  char         *ISArch;          /* Instruct. Set Arch. */
                  char         *InstDate;   /* Installation Date */
                  char         *BuildDate;  /* Build Date */
                  char         *ProdStamp;  /* Production Stamp */
                  char         *BaseDir;    /* Base Dir for files */
                  Desc_t            *DescList;   /* Misc Descriptions */
                  /* Vendor's info */
                  char         *VendorName; /* Name of vendor */
                  char         *VendorEmail;     /* Email of vendor */
                  char         *VendorPhone;     /* Phone of vendor */
                  char         *VendorStock;     /* Vendor's Stock # for Pkg */
                  /* Tree Links */
                  struct _SoftInfo   *Master;         /* (Up) Our parent */
                  struct _SoftInfo   *Slaves;         /* (Down) Children */
                  struct _SoftInfo   *Next;      /* (Side) Siblings */
              };
              typedef struct _SoftInfo SoftInfo_t;


       The  members  of  <EM>SoftInfo</EM><STRONG>_</STRONG><EM>t</EM>  are defined below and except
       where noted, the string formats vary from  OS  to  OS  and
       package to package:

       EntryType
              A  string  which  indicates  the type of entry this
              SoftInfo_t  node  represents.   Valid  values   are
              defined by the following constants:


              MC_SET_PKG_S
                     Package - this entry represents a collection
                     of installed files/directories.  This is the
                     lowest level <STRONG>EntryType.</STRONG>

              MC_SET_PROD_S
                     Product - this entry represents a collection
                     of  packages  (MC_SET_PKG_S).   It  normally
                     acts as a parent node in a hierarchical tree
                     of software packages and  usually  does  not
                     include any attributes other than <STRONG>Slaves</STRONG> and
                     <STRONG>Next</STRONG> <STRONG>.</STRONG>


       EntryTypeNum
              The corresponding numeric value for <STRONG>EntryType.</STRONG>  The
              following constants are valid values:


              MC_SET_PKG
                     Numeric value for <STRONG>MC_SET_PKG_S.</STRONG>

              MC_SET_PROD
                     Numeric value for <STRONG>MC_SET_PROD_S.</STRONG>


       Name   A  string which describes the package (if <STRONG>EntryType</STRONG>
              == <STRONG>MC_SET_PKG</STRONG> <STRONG>)</STRONG> or the  product  (if  <STRONG>EntryType</STRONG>  ==
              A  string which indicates the version of this pack-
              age or product.  e.g.  <STRONG>5.1</STRONG>

       Revision
              A string indicatating the revision of this package.
              e.g.  <STRONG>2000-02-03</STRONG>

       Desc   A  short string without any newline (\n) characters
              which provides a description of this package.  e.g.
              <STRONG>Core</STRONG> <STRONG>Required</STRONG> <STRONG>Files</STRONG>

       DescVerbose
              A verbose string, usually containing multiple lines
              (\n), <STRONG>The</STRONG> <STRONG>core</STRONG> <STRONG>files</STRONG> <STRONG>in</STRONG> <STRONG>this</STRONG> <STRONG>package</STRONG>  <STRONG>are</STRONG>  <STRONG>required</STRONG>
              <STRONG>by</STRONG> <STRONG>all</STRONG> <STRONG>other</STRONG> <STRONG>packages.</STRONG>

       URL    A  Universal  Resource Locatator (URL) for locating
              more information about  this  package  or  product.
              e.g.  <STRONG>http://www.sun.com/solaris</STRONG>

       License
              A  string  naming or describing the licensing terms
              of this package or product.  e.g.  <STRONG>GPL</STRONG> or  <STRONG>Free</STRONG>  <STRONG>to</STRONG>
              <STRONG>everyone</STRONG> <STRONG>with</STRONG> <STRONG>no</STRONG> <STRONG>restrictions</STRONG>

       Copyright
              A  string  naming or describing the copyright terms
              of this package or product.  The string may include
              embedded  newline  characters.   e.g.  <STRONG>(c)Copyright</STRONG>
              <STRONG>1901-2101</STRONG> <STRONG>Big</STRONG> <STRONG>Software</STRONG> <STRONG>Company</STRONG>

       Category
              A string describing the primary category this pack-
              age or product belongs to.  e.g.  <STRONG>system</STRONG>

       SubCategory
              A  string  describing the secondary category, often
              within  <STRONG>Category,</STRONG>  that  this  package  or  product
              belongs to.  e.g.  <STRONG>openwindows</STRONG>

       OSname A  string containing the name of the operating sys-
              tem this package runs on.  e.g.  <STRONG>Linux</STRONG>

       OSversion
              A string containing the version  of  the  operating
              system this package runs on.  e.g.  <STRONG>2.2.1</STRONG>

       Arch   A  string  naming  the  CPU architecture which this
              package runs on.  e.g.  <STRONG>x86</STRONG>

       ISArch A string naming the  Instruction  Set  Architecture
              which this package runs on.  The ISA usually repre-

       InstDate
              A  string  containing  the  date  this  package was
              installed.  e.g.  <STRONG>Feb</STRONG> <STRONG>02</STRONG> <STRONG>1999</STRONG> <STRONG>20:43</STRONG>

       BuildDate
              A string  containing  the  date  this  package  was
              built.  e.g.  <STRONG>1/15/98</STRONG>

       ProdStamp
              A  string  generated  whent he package was built to
              identify the production of the package.  e.g.  <STRONG>but-</STRONG>
              <STRONG>tercup19980904173114</STRONG>

       BaseDir
              A  string  naming  the  base  directory under which
              package files are installed.  e.g.  <STRONG>/usr</STRONG>

       DiskUsage
              The number of bytes of  disk  space  the  installed
              package consumes.

       DescList
              A linked list of miscellaneous descriptions for any
              other information which is not categorized.

       VendorName
              The name of the vendor who created  or  distributes
              the package.

       VendorEmail
              The vendor's email address.

       VendorPhone
              The vendor's phone number.

       VendorStock
              The vendor's stock number for this package.

       Master The  parent  (master)  node for this package in the
              SoftInfo_t tree.

       Slaves The slave (child) nodes for this package.

       Next   The peer nodes in the SoftInfo_t tree.

       FileList
              A list of files associated with this package.   See
              <STRONG>SoftFileList_t</STRONG> for more information.


</PRE>
<H2>SoftFileList_t</H2><PRE>
       The  <STRONG>SoftFileList_t</STRONG> type defines software file information
               * Software File Data
               */
              struct _SoftFileData {
                  int             Type;          /* File, dir, symlink, etc */
                  char         *Path;       /* Path to file */
                  char         *LinkTo;          /* Link To what */
                  Large_t         FileSize; /* Size of file */
                  char         *MD5;        /* MD5 checksum */
                  char         *CheckSum;   /* Platform specific checksum */
                  char        **PkgNames;   /* List of used by Pkgs */
                  struct _SoftFileData *Next;         /* Next entry */
              };
              typedef struct _SoftFileData SoftFileData_t;

              /*
               * List of SoftFileData_t entries
               */
              struct _SoftFileList {
                  SoftFileData_t     *FileData;  /* Ptr to FileData entry */
                  struct _SoftFileList *Next;         /* Next entry in our list */
              };
              typedef struct _SoftFileList SoftFileList_t;
              /*
               * SoftFile Types for SoftFileData.Type
               */
              #define SFT_FILE    1         /* Plain file */
              #define SFT_FILE_S  "File"
              #define SFT_HLINK   2         /* Hard Link */
              #define SFT_HLINK_S "Hard-Link"
              #define SFT_SLINK   3         /* Soft Link */
              #define SFT_SLINK_S "Symbolic-Link"
              #define SFT_DIR          4         /* Directory */
              #define SFT_DIR_S   "Directory"
              #define SFT_CDEV    5         /* Device File */
              #define SFT_CDEV_S  "Character-Device"
              #define SFT_BDEV    6         /* Device File */
              #define SFT_BDEV_S  "Block-Device"



       The list of files associated with a package is defined  by
       the  <STRONG>SoftFileList_t</STRONG> type.  The actual file data is defined
       in <STRONG>SoftFileList_t-&gt;FileData.</STRONG>

       The members of <STRONG>SoftFileData_t</STRONG> are defined as follows:

       Type   Indicates the type of file this is.  The valid val-
              ues are defined by the following constants:

              <STRONG>SFT_FILE</STRONG>
                     A regular file.

                     A hard link.

              <STRONG>SFT_SLINK</STRONG>
                     A symbolic link.

              <STRONG>SFT_DIR</STRONG>
                     A directory.

              <STRONG>SFT_CDEV</STRONG>
                     A character special device file.

              <STRONG>SFT_BDEV</STRONG>
                     A block special device file.

       Path   The pathname of this entry.  e.g.  <STRONG>/bin/cp</STRONG>

       LinkTo If  <STRONG>Type</STRONG>  is <STRONG>SFT_HLINK</STRONG> or <STRONG>SFT_SLINK</STRONG> then this vari-
              able names the path that <STRONG>Path</STRONG> is linked to.

       FileSize
              The size of this file.  Usually only valid if  <STRONG>Type</STRONG>
              is <STRONG>SFT_FILE.</STRONG>

       MD5    The MD5 checksum of the file.

       CheckSum
              The platform specific checksum of the file.

       PkgNames
              A list of package names this file belongs to.


</PRE>
<H2>PartInfo_t</H2><PRE>
       The <STRONG>PartInfo_t</STRONG> type defined a partition entry as follows:

              /*
               * Partition Information (CN_PARTITION)
               */
              struct _PartInfo {
                  char         *Title;      /* Describes this entry */
                  char         *DevPath;    /* Dev Path e.g. /dev/dsk/c0t0s1 */
                  char         *DevPathRaw; /* Raw Dev Path e.g. /dev/rdsk/c0t0s1 */
                  char         *DevName;    /* Dev Name e.g. c0t0 */
                  char         *BaseName;   /* c0t0s1 */
                  char         *Name;       /* Name e.g. s1 */
                  int             Num;      /* Part # for this disk e.g. 1 */
                  char         *Type;       /* Type e.g. ufs */
                  char         *TypeDesc;   /* Description of Type */
                  u_int      TypeNum;  /* Numeric value of Type if any */
                  char         *UsageStatus;     /* String value for Usage (below) */
                  char         *MntName;    /* Mount Name e.g. /usr */
                  char        **MntOpts;    /* Mount Options e.g. rw,quota */
                  Large_t         Size;          /* Size of partition in bytes */
                  Large_t         StartSect;     /* Starting Sector # */
                  Large_t         EndSect;  /* Ending Sector # */
                  Large_t         NumSect;  /* Number of Sectors (size) */
                  /* Internal use only */
                  int             Usage;         /* How used, one of PIU_* */
                  struct _PartInfo   *Next;
              };
              typedef struct _PartInfo PartInfo_t;

       The members of <STRONG>PartInfo_t</STRONG> are defined as follows:

       Title  A string which helps identify this entry.

       DevPath
              A  string  which  names the pathname of the (block)
              device  which  represents  this  partition.    e.g.
              <STRONG>/dev/dsk/c0t0d0s3</STRONG>

       DevPathRaw
              A string which names the pathname of the raw (char-
              acter)  device  which  represents  this  partition.
              e.g.  <STRONG>/dev/rdsk/c0t0d0s3</STRONG>

       DevName
              A  string  containing  the  kernel's  name for this
              device.  e.g.  <STRONG>sd0</STRONG>

       BaseName
              The base name of <STRONG>DevPath.</STRONG>  e.g.  <STRONG>c0t0d0s3</STRONG>

       Name   Name of the parititon e.g.  <STRONG>s3</STRONG>

       Num    The numeric number of this partition  which  corre-
              sponds to <STRONG>Name.</STRONG>  e.g.  <STRONG>3</STRONG>

       Type   A  short  string, usually a single word, describing
              the type of partition this is.  e.g.  <STRONG>ufs</STRONG>

       TypeDesc
              A more verbose description of the parititoin  type.
              e.g.  <STRONG>Unix</STRONG> <STRONG>File</STRONG> <STRONG>System</STRONG>

       TypeNum
              The  numeric  type  identifier of this partition as
              described by <STRONG>Type</STRONG> and <STRONG>TypeDesc.</STRONG>

       UsageStatus
              A string containing information on how this  parti-
              tion  is  used.   e.g.   For  a UFS filesystem this
              would contain a mount point such as <STRONG>/usr</STRONG>

       MntName
              An array of strings containing the options used  by
              the  OS  to  mount  this partition.  e.g.  <STRONG>rw</STRONG> <STRONG>quota</STRONG>
              <STRONG>logging</STRONG>

       Size   The total size, in bytes, of this partition.

       AmtUsed
              The amount of space, in bytes, this partition  cur-
              rently consumes.

       SecSize
              The number of bytes in 1 sector (usually 512).

       StartSect
              The  location of the first, starting sector of this
              partition relative to the entire disk.

       EndSect
              The location of the last sector of  this  partition
              relative to the entire disk.

       NumSect
              The  number  of  sectors (<STRONG>EndSect</STRONG> <STRONG>-</STRONG> <STRONG>StartSect</STRONG>) this
              partition uses.


</PRE>
<H2>RETURN VALUES</H2><PRE>
       Upon successful completion, <STRONG>mcSysInfo()</STRONG> returns 0 and out-
       put  data  is available in the buffer indicated by the <EM>Out</EM>
       parameter.  Upon error, <STRONG>mcSysInfo()</STRONG> returns -1.


</PRE>
<H2>NOTES</H2><PRE>
       File descriptors are opened for  certain  <STRONG>MCSI_*</STRONG>  commands
       when  using  the <STRONG>MCSIOP_CREATE</STRONG> operator depending upon the
       platform upon which <STRONG>mcSysInfo()</STRONG> is operating on.  All file
       descriptors  which  are  opened  by  the platform specific
       functions of <STRONG>mcSysInfo()</STRONG> are closed before returning.


</PRE>
<H2>FILES</H2><PRE>
       /opt/sysinfo/config - Config files read at runtime


</PRE>
<H2>SEE ALSO</H2><PRE>
       sysinfo.1 sysinfo.cf.5










</PRE>
</BODY>
</HTML>
