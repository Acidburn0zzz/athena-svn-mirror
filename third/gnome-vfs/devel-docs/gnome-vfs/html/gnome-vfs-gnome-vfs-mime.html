<HTML
><HEAD
><TITLE
>gnome-mime</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.52"><LINK
REL="HOME"
TITLE="Gnome Library Reference Manual"
HREF="book1.html"><LINK
REL="UP"
TITLE="Gnome Library"
HREF="libgnome.html"><LINK
REL="PREVIOUS"
TITLE="gnome-mime-info"
HREF="gnome-vfs-gnome-vfs-mime-info.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
BGCOLOR="#000000"
CELLPADDING="1"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="5"
>Gnome Library Reference Manual</FONT
></TH
></TR
><TR
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="left"
><A
HREF="gnome-vfs-gnome-vfs-mime-info.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>&#60;&#60;&#60; Previous Page</B
></FONT
></A
></TD
><TD
WIDTH="25%"
BGCOLOR="#0000C0"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="book1.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Home</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#00C000"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="libgnome.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Up</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="right"
>&nbsp;</TD
></TR
></TABLE
></DIV
><H1
><A
NAME="GNOME-VFS-GNOME-VFS-MIME"
>gnome-mime</A
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN110"
></A
><H2
>Name</H2
>gnome-mime&nbsp;--&nbsp;Routines to determine the MIME type of a file</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN113"
></A
><H2
>Synopsis</H2
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>&#13;#include &lt;gnome-vfs-mime.h&gt;


<GTKDOCLINK
HREF="GLIST"
>GList</GTKDOCLINK
>*      <A
HREF="gnome-vfs-gnome-vfs-mime.html#GNOME-URI-LIST-EXTRACT-FILENAMES"
>gnome_uri_list_extract_filenames</A
>
                                            (const <GTKDOCLINK
HREF="GCHAR"
>gchar</GTKDOCLINK
> *uri_list);
<GTKDOCLINK
HREF="GLIST"
>GList</GTKDOCLINK
>*      <A
HREF="gnome-vfs-gnome-vfs-mime.html#GNOME-URI-LIST-EXTRACT-URIS"
>gnome_uri_list_extract_uris</A
>     (const <GTKDOCLINK
HREF="GCHAR"
>gchar</GTKDOCLINK
> *uri_list);
void        <A
HREF="gnome-vfs-gnome-vfs-mime.html#GNOME-URI-LIST-FREE-STRINGS"
>gnome_uri_list_free_strings</A
>     (<GTKDOCLINK
HREF="GLIST"
>GList</GTKDOCLINK
> *list);</PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN124"
></A
><H2
>Description</H2
><P
>The routines in gnome-mime provide a way to obtain the MIME (Multipurpose
Internet Mail Extension) type of a given file and some utility functions.</P
><P
>There are two different methods for getting the MIME type of a particular file:
Using only the filename to find the corresponding MIME type by matching the
name against a database of known extensions and regular expressions; Or
obtaining the MIME type by peeking at the contents of the file. 
Generally it should be faster using the former method, because the routines
only do in-memory operations, while the latter method needs to do possibly
time-expensive disk operations to obtain the necessary information.</P
><P
>The routines that classify a file only by its name, look at the
<TT
CLASS="FILENAME"
>*.mime</TT
> files in the
<TT
CLASS="FILENAME"
>$gnome_prefix/share/mime-info/</TT
> directory and in
<TT
CLASS="FILENAME"
>~/.gnome/mime-info/</TT
> to build the extension
database. This gives the user the possibility to extend and/or override the
system defaults.</P
><P
>Applications wanting to make additional MIME types available only need to
install their files in one of these directories.</P
><P
>The file <TT
CLASS="FILENAME"
>$gnome_prefix/share/mime-info/gnome.mime</TT
>
contains the defaults for Gnome and is read first. In addition,
<TT
CLASS="FILENAME"
>~/.gnome/mime-info/user.mime</TT
> is the last file to be
read and thus makes it possible to set system-wide defaults and still
gives the user a chance to override them. However, there is currently no
determined order in which the other files in these directories will be
read, nor is there any way to override system defaults, yet.</P
><P
>The <GTKDOCLINK
HREF="GNOME-MIME-TYPE-FROM-MAGIC"
>gnome_mime_type_from_magic</GTKDOCLINK
>() function looks at the
<TT
CLASS="FILENAME"
>$gnome_prefix/etc/mime-magic</TT
> file to determine the
MIME type of a given file (This database in usually kept in a
pre-processed, easily readable format in
<TT
CLASS="FILENAME"
>$gnome_prefix/etc/mime-magic.dat</TT
>).</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN140"
></A
><H2
>Details</H2
><DIV
CLASS="REFSECT2"
><A
NAME="AEN142"
></A
><H3
><A
NAME="GNOME-URI-LIST-EXTRACT-FILENAMES"
></A
>gnome_uri_list_extract_filenames ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
><GTKDOCLINK
HREF="GLIST"
>GList</GTKDOCLINK
>*      gnome_uri_list_extract_filenames
                                            (const <GTKDOCLINK
HREF="GCHAR"
>gchar</GTKDOCLINK
> *uri_list);</PRE
></TD
></TR
></TABLE
><P
>Extract local files from a <TT
CLASS="PARAMETER"
><I
>uri</I
></TT
>-list and return a list.  Note
that unlike the <A
HREF="gnome-vfs-gnome-vfs-mime.html#GNOME-URI-LIST-EXTRACT-URIS"
>gnome_uri_list_extract_uris</A
> function, this
will only return local files and not any other urls.</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>uri_list</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> an uri-list in the standard format</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>Returns</I
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> a GList containing strings allocated with g_malloc.
You should use <A
HREF="gnome-vfs-gnome-vfs-mime.html#GNOME-URI-LIST-FREE-STRINGS"
>gnome_uri_list_free_strings</A
> to free the
returned list.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN166"
></A
><H3
><A
NAME="GNOME-URI-LIST-EXTRACT-URIS"
></A
>gnome_uri_list_extract_uris ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
><GTKDOCLINK
HREF="GLIST"
>GList</GTKDOCLINK
>*      gnome_uri_list_extract_uris     (const <GTKDOCLINK
HREF="GCHAR"
>gchar</GTKDOCLINK
> *uri_list);</PRE
></TD
></TR
></TABLE
><P
>Extract URIs from a <TT
CLASS="PARAMETER"
><I
>uri</I
></TT
>-list and return a list</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>uri_list</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> an uri-list in the standard format.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>Returns</I
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> a GList containing strings allocated with g_malloc.
You should use <A
HREF="gnome-vfs-gnome-vfs-mime.html#GNOME-URI-LIST-FREE-STRINGS"
>gnome_uri_list_free_strings</A
> to free the
returned list</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN189"
></A
><H3
><A
NAME="GNOME-URI-LIST-FREE-STRINGS"
></A
>gnome_uri_list_free_strings ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>void        gnome_uri_list_free_strings     (<GTKDOCLINK
HREF="GLIST"
>GList</GTKDOCLINK
> *list);</PRE
></TD
></TR
></TABLE
><P
>Releases all of the resources allocated by <TT
CLASS="PARAMETER"
><I
>list</I
></TT
>.</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>list</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> A GList returned by <A
HREF="gnome-vfs-gnome-vfs-mime.html#GNOME-URI-LIST-EXTRACT-URIS"
>gnome_uri_list_extract_uris</A
>() or <A
HREF="gnome-vfs-gnome-vfs-mime.html#GNOME-URI-LIST-EXTRACT-FILENAMES"
>gnome_uri_list_extract_filenames</A
>()</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><BR
CLEAR="all"><BR><TABLE
WIDTH="100%"
BORDER="0"
BGCOLOR="#000000"
CELLPADDING="1"
CELLSPACING="0"
><TR
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="left"
><A
HREF="gnome-vfs-gnome-vfs-mime-info.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>&#60;&#60;&#60; Previous Page</B
></FONT
></A
></TD
><TD
WIDTH="25%"
BGCOLOR="#0000C0"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="book1.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Home</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#00C000"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="libgnome.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Up</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="right"
>&nbsp;</TD
></TR
><TR
><TD
COLSPAN="2"
ALIGN="left"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>gnome-mime-info</B
></FONT
></TD
><TD
COLSPAN="2"
ALIGN="right"
>&nbsp;</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>