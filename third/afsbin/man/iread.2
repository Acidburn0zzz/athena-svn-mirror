.\" This file uses -man macros.
.\"	@(#)printf.3s	6.3 (Berkeley) 6/5/86
.\"
.TH IREAD 2v "Sept 15, 1987" "PRPQ 5799-CGZ: IBM 4.3/RT, Rel 1 " " "
.SH NAME
iread \- read data from inode
.SH SYNOPSIS
.B "cc = iread(dev, inode, p1, offset, buf, nbytes)"
.br
.B "int cc, dev, p1, inode, offset;"
.br
.B "char *buf;"
.br
.B "int nbytes;"
.SH "DESCRIPTION"
.I Iread
attempts to read
.I nbytes
of data from
.I inode,
on the mounted file system partition specified by
.I dev.
The bytes are read beginning from offset
.I offset
in the inode into the buffer pointed to by
.I buf.
.PP
Upon successful completion,
.I iread
returns the number of bytes actually read and placed in the buffer.  The system guarantees to read the number of bytes requested if there are that many bytes available at the specified offset in the inode.

The inode must have been stamped with
.I p1
when it is created (see
.IR icreate(2v) ).
.SH "RETURN VALUE"
If successful, the number of bytes actually read is returned.  End of file has been reached if less than the requested number of bytes is returned.  Otherwise, a -1 is returned and the global variable
.I errno
is set to indicate the error.
.SH "ERRORS"
.I Iread
can fail for one of the following principle reasons:
.PP
.B [ENXIO]
	The specified device does not exist or is not mounted or the inode is not stamped with
.I p1.
.br
.B [EPERM]
	The caller is not the super user.
.br
.B [ENOENT]
	The specified inode is not an active, regular file.
.br
.B [EPERM]
	The specified inode was found, but was not created by
.I icreate,
nor did it have a group id of -2.
.br
.B [EFAULT]
	
.I Buf
points outside the allocated user address space.
.br
.B [EIO]
		Disk read error, I guess.
.PP
Be prepared for other, unspecified errors.
.SH "SEE ALSO"
icreate(2i), iopen(2i), iwrite(2i), iinc(2i), idec(2i), vfsck(8v)
